function Like() {
	var _this = this;
	
	_this.env = {
		likeIsVaild : true
	};
	
	// 공감 가능여부 확인
	_this.checkArticleWriter = function(type) {
		if (!IS_LOGIN) {
			if (confirm('로그인이 필요한 기능 입니다.')) {
				location.href = BASE_URL + '/auth/login';
			}
			return false;
		}
		if(type == 'article' && app.env.loginId == app.env.writer) {
			alert("내가 쓴 게시물은 공감 할 수 없습니다.");
			return false;
		}
		if(!_this.env.likeIsVaild) {
			return false;
		}
		return true;
	}
	
	// 게시글 공감 추가
	_this.addArticleSympathy = function() {
		if(_this.checkArticleWriter("article")){
			_this.env.likeIsVaild = false;
			var url = API_HOST + '/board/like/' + app.env.boardCd + '/'+ app.env.boardSn + '/add';
			$.ajax({
				url: url,
				type: 'POST',
				success: function(result) {
					$('#setLikeCount').text(result.likeResult);
					setTimeout(function(){
						var button =  '<button class="button_symph active" onclick="like.cancleArticleSympathy();" title="공감취소">';
							button += '	<span class="fa fa-heart"></span><span class="text">공감</span>';
							button += '</button>';
						$('#likeButton_div').html(button);
						$('#likeMenuButton_div').html(button);
						_this.env.likeIsVaild = true;
					}, 1000);
				},
				
				error: function(request) {
					var res = JSON.parse(request.responseText);
					var errUrl = API_HOST + '/ajax/error';
					var parm = {};
					parm = {
						params : res.likeResult,
						type : 'Like',
						location : 'like',
						boardCd : app.env.boardCd,
						boardSn : app.env.boardSn
					};
					util.ajaxError(errUrl, parm);
				}
			});
		}
	}

	// 게시글 공감 취소
	_this.cancleArticleSympathy = function() {
		if (confirm('공감을 취소 하시겠습니까?')) {
			if(_this.checkArticleWriter("article")){
				_this.env.likeIsVaild = false;
				var url = API_HOST + '/board/like/' + app.env.boardCd + '/'+ app.env.boardSn + '/delete';
				$.ajax({
					url: url,
					type: 'POST',
					success: function(result) {
						$('#setLikeCount').text(result.likeResult);
						var button =  '<button class="button_symph" onclick="like.addArticleSympathy();" title="공감하기">';
							button += '	<span class="fa fa-heart"></span><span class="text">공감</span>';
							button += '</button>';
						$('#likeButton_div').html(button);
						$('#likeMenuButton_div').html(button);
						_this.env.likeIsVaild = true;
					},
					error: function(request) {
						var res = JSON.parse(request.responseText);
						var errUrl = API_HOST + '/ajax/error';
						var parm = {};
						parm = {
							params : res.likeResult,
							type : 'Like',
							location : 'like',
							boardCd : app.env.boardCd,
							boardSn : app.env.boardSn
						};
						util.ajaxError(errUrl, parm);
					}
				});
			}
		}
	}

	// 현재는 댓글만 이기능 사용
	_this.articleLike = function(commentSn) {
		if(_this.checkArticleWriter("comment")){
			_this.env.likeIsVaild = false;
			var url = API_HOST + '/comment/like/' + app.env.boardCd + '/'+ app.env.boardSn + '/'+ commentSn;
			$.ajax({
				url: url,
				type: 'POST',
				success: function(result) {
					$('#setLikeCount_'+commentSn).text(result.likeResult);
					$('#styleLikeButton_'+commentSn).show();
					setTimeout(function(){_this.env.likeIsVaild = true; }, 1000);
				},
				error: function(request) {
					var res = JSON.parse(request.responseText);
					var errUrl = API_HOST + '/ajax/error';
					var parm = {};
					parm = {
						params : res.likeResult,
						type : 'Like',
						location : 'like',
						boardCd : app.env.boardCd,
						boardSn : app.env.boardSn
					};
					util.ajaxError(errUrl, parm);
				}
			});
		}
	};

	// 이 글을 공감한 사람들 목록 팝업
	_this.articleLikeList = function(commentSn) {
		if (commentSn == 'noComment') {
			popup.likePopup(app.env.boardCd, app.env.boardSn);
		} else {
			popup.likePopup(app.env.boardCd, app.env.boardSn, commentSn);
		}
	};

}
var like = new Like();