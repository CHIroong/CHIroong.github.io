var requirejs,require,define;(function(global){function isFunction(e){return"[object Function]"===ostring.call(e)}function isArray(e){return"[object Array]"===ostring.call(e)}function each(e,t){if(e){var i;for(i=0;i<e.length&&(!e[i]||!t(e[i],i,e));i+=1);}}function eachReverse(e,t){if(e){var i;for(i=e.length-1;i>-1&&(!e[i]||!t(e[i],i,e));i-=1);}}function hasProp(e,t){return hasOwn.call(e,t)}function getOwn(e,t){return hasProp(e,t)&&e[t]}function eachProp(e,t){var i;for(i in e)if(hasProp(e,i)&&t(e[i],i))break}function mixin(e,t,i,r){return t&&eachProp(t,function(t,n){(i||!hasProp(e,n))&&(r&&"string"!=typeof t?(e[n]||(e[n]={}),mixin(e[n],t,i,r)):e[n]=t)}),e}function bind(e,t){return function(){return t.apply(e,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(e){throw e}function getGlobal(e){if(!e)return e;var t=global;return each(e.split("."),function(e){t=t[e]}),t}function makeError(e,t,i,r){var n=new Error(t+"\nhttp://requirejs.org/docs/errors.html#"+e);return n.requireType=e,n.requireModules=r,i&&(n.originalError=i),n}function newContext(e){function t(e){var t,i;for(t=0;e[t];t+=1)if(i=e[t],"."===i)e.splice(t,1),t-=1;else if(".."===i){if(1===t&&(".."===e[2]||".."===e[0]))break;t>0&&(e.splice(t-1,2),t-=2)}}function i(e,i,r){var n,a,o,s,c,u,p,d,f,l,h,m=i&&i.split("/"),g=m,v=y.map,x=v&&v["*"];if(e&&"."===e.charAt(0)&&(i?(g=getOwn(y.pkgs,i)?m=[i]:m.slice(0,m.length-1),e=g.concat(e.split("/")),t(e),a=getOwn(y.pkgs,n=e[0]),e=e.join("/"),a&&e===n+"/"+a.main&&(e=n)):0===e.indexOf("./")&&(e=e.substring(2))),r&&v&&(m||x)){for(s=e.split("/"),c=s.length;c>0;c-=1){if(p=s.slice(0,c).join("/"),m)for(u=m.length;u>0;u-=1)if(o=getOwn(v,m.slice(0,u).join("/")),o&&(o=getOwn(o,p))){d=o,f=c;break}if(d)break;!l&&x&&getOwn(x,p)&&(l=getOwn(x,p),h=c)}!d&&l&&(d=l,f=h),d&&(s.splice(0,f,d),e=s.join("/"))}return e}function r(e){isBrowser&&each(scripts(),function(t){return t.getAttribute("data-requiremodule")===e&&t.getAttribute("data-requirecontext")===q.contextName?(t.parentNode.removeChild(t),!0):void 0})}function n(e){var t=getOwn(y.paths,e);return t&&isArray(t)&&t.length>1?(t.shift(),q.require.undef(e),q.require([e]),!0):void 0}function a(e){var t,i=e?e.indexOf("!"):-1;return i>-1&&(t=e.substring(0,i),e=e.substring(i+1,e.length)),[t,e]}function o(e,t,r,n){var o,s,c,u,p=null,d=t?t.name:null,f=e,l=!0,h="";return e||(l=!1,e="_@r"+(A+=1)),u=a(e),p=u[0],e=u[1],p&&(p=i(p,d,n),s=getOwn(j,p)),e&&(p?h=s&&s.normalize?s.normalize(e,function(e){return i(e,d,n)}):i(e,d,n):(h=i(e,d,n),u=a(h),p=u[0],h=u[1],r=!0,o=q.nameToUrl(h))),c=!p||s||r?"":"_unnormalized"+(R+=1),{prefix:p,name:h,parentMap:t,unnormalized:!!c,url:o,originalName:f,isDefine:l,id:(p?p+"!"+h:h)+c}}function s(e){var t=e.id,i=getOwn(k,t);return i||(i=k[t]=new q.Module(e)),i}function c(e,t,i){var r=e.id,n=getOwn(k,r);!hasProp(j,r)||n&&!n.defineEmitComplete?(n=s(e),n.error&&"error"===t?i(n.error):n.on(t,i)):"defined"===t&&i(j[r])}function u(e,t){var i=e.requireModules,r=!1;t?t(e):(each(i,function(t){var i=getOwn(k,t);i&&(i.error=e,i.events.error&&(r=!0,i.emit("error",e)))}),r||req.onError(e))}function p(){globalDefQueue.length&&(apsp.apply(M,[M.length-1,0].concat(globalDefQueue)),globalDefQueue=[])}function d(e){delete k[e],delete S[e]}function f(e,t,i){var r=e.map.id;e.error?e.emit("error",e.error):(t[r]=!0,each(e.depMaps,function(r,n){var a=r.id,o=getOwn(k,a);!o||e.depMatched[n]||i[a]||(getOwn(t,a)?(e.defineDep(n,j[a]),e.check()):f(o,t,i))}),i[r]=!0)}function l(){var e,t,i,a,o=1e3*y.waitSeconds,s=o&&q.startTime+o<(new Date).getTime(),c=[],p=[],d=!1,h=!0;if(!x){if(x=!0,eachProp(S,function(i){if(e=i.map,t=e.id,i.enabled&&(e.isDefine||p.push(i),!i.error))if(!i.inited&&s)n(t)?(a=!0,d=!0):(c.push(t),r(t));else if(!i.inited&&i.fetched&&e.isDefine&&(d=!0,!e.prefix))return h=!1}),s&&c.length)return i=makeError("timeout","Load timeout for modules: "+c,null,c),i.contextName=q.contextName,u(i);h&&each(p,function(e){f(e,{},{})}),s&&!a||!d||!isBrowser&&!isWebWorker||w||(w=setTimeout(function(){w=0,l()},50)),x=!1}}function h(e){hasProp(j,e[0])||s(o(e[0],null,!0)).init(e[1],e[2])}function m(e,t,i,r){e.detachEvent&&!isOpera?r&&e.detachEvent(r,t):e.removeEventListener(i,t,!1)}function g(e){var t=e.currentTarget||e.srcElement;return m(t,q.onScriptLoad,"load","onreadystatechange"),m(t,q.onScriptError,"error"),{node:t,id:t&&t.getAttribute("data-requiremodule")}}function v(){var e;for(p();M.length;){if(e=M.shift(),null===e[0])return u(makeError("mismatch","Mismatched anonymous define() module: "+e[e.length-1]));h(e)}}var x,b,q,E,w,y={waitSeconds:7,baseUrl:"./",paths:{},pkgs:{},shim:{},config:{}},k={},S={},O={},M=[],j={},P={},A=1,R=1;return E={require:function(e){return e.require?e.require:e.require=q.makeRequire(e.map)},exports:function(e){return e.usingExports=!0,e.map.isDefine?e.exports?e.exports:e.exports=j[e.map.id]={}:void 0},module:function(e){return e.module?e.module:e.module={id:e.map.id,uri:e.map.url,config:function(){var t,i=getOwn(y.pkgs,e.map.id);return t=i?getOwn(y.config,e.map.id+"/"+i.main):getOwn(y.config,e.map.id),t||{}},exports:j[e.map.id]}}},b=function(e){this.events=getOwn(O,e.id)||{},this.map=e,this.shim=getOwn(y.shim,e.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},b.prototype={init:function(e,t,i,r){r=r||{},this.inited||(this.factory=t,i?this.on("error",i):this.events.error&&(i=bind(this,function(e){this.emit("error",e)})),this.depMaps=e&&e.slice(0),this.errback=i,this.inited=!0,this.ignore=r.ignore,r.enabled||this.enabled?this.enable():this.check())},defineDep:function(e,t){this.depMatched[e]||(this.depMatched[e]=!0,this.depCount-=1,this.depExports[e]=t)},fetch:function(){if(!this.fetched){this.fetched=!0,q.startTime=(new Date).getTime();var e=this.map;return this.shim?void q.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return e.prefix?this.callPlugin():this.load()})):e.prefix?this.callPlugin():this.load()}},load:function(){var e=this.map.url;P[e]||(P[e]=!0,q.load(this.map.id,e))},check:function(){if(this.enabled&&!this.enabling){var e,t,i=this.map.id,r=this.depExports,n=this.exports,a=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,this.depCount<1&&!this.defined){if(isFunction(a)){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)try{n=q.execCb(i,a,r,n)}catch(o){e=o}else n=q.execCb(i,a,r,n);if(this.map.isDefine&&(t=this.module,t&&void 0!==t.exports&&t.exports!==this.exports?n=t.exports:void 0===n&&this.usingExports&&(n=this.exports)),e)return e.requireMap=this.map,e.requireModules=this.map.isDefine?[this.map.id]:null,e.requireType=this.map.isDefine?"define":"require",u(this.error=e)}else n=a;this.exports=n,this.map.isDefine&&!this.ignore&&(j[i]=n,req.onResourceLoad&&req.onResourceLoad(q,this.map,this.depMaps)),d(i),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else this.fetch()}},callPlugin:function(){var e=this.map,t=e.id,r=o(e.prefix);this.depMaps.push(r),c(r,"defined",bind(this,function(r){var n,a,p,f=this.map.name,l=this.map.parentMap?this.map.parentMap.name:null,h=q.makeRequire(e.parentMap,{enableBuildCallback:!0});return this.map.unnormalized?(r.normalize&&(f=r.normalize(f,function(e){return i(e,l,!0)})||""),a=o(e.prefix+"!"+f,this.map.parentMap),c(a,"defined",bind(this,function(e){this.init([],function(){return e},null,{enabled:!0,ignore:!0})})),p=getOwn(k,a.id),void(p&&(this.depMaps.push(a),this.events.error&&p.on("error",bind(this,function(e){this.emit("error",e)})),p.enable()))):(n=bind(this,function(e){this.init([],function(){return e},null,{enabled:!0})}),n.error=bind(this,function(e){this.inited=!0,this.error=e,e.requireModules=[t],eachProp(k,function(e){0===e.map.id.indexOf(t+"_unnormalized")&&d(e.map.id)}),u(e)}),n.fromText=bind(this,function(i,r){var a=e.name,c=o(a),p=useInteractive;r&&(i=r),p&&(useInteractive=!1),s(c),hasProp(y.config,t)&&(y.config[a]=y.config[t]);try{req.exec(i)}catch(d){return u(makeError("fromtexteval","fromText eval for "+t+" failed: "+d,d,[t]))}p&&(useInteractive=!0),this.depMaps.push(c),q.completeLoad(a),h([a],n)}),void r.load(e.name,h,n,y))})),q.enable(r,this),this.pluginMaps[r.id]=r},enable:function(){S[this.map.id]=this,this.enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(e,t){var i,r,n;if("string"==typeof e){if(e=o(e,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[t]=e,n=getOwn(E,e.id))return void(this.depExports[t]=n(this));this.depCount+=1,c(e,"defined",bind(this,function(e){this.defineDep(t,e),this.check()})),this.errback&&c(e,"error",bind(this,this.errback))}i=e.id,r=k[i],hasProp(E,i)||!r||r.enabled||q.enable(e,this)})),eachProp(this.pluginMaps,bind(this,function(e){var t=getOwn(k,e.id);t&&!t.enabled&&q.enable(e,this)})),this.enabling=!1,this.check()},on:function(e,t){var i=this.events[e];i||(i=this.events[e]=[]),i.push(t)},emit:function(e,t){each(this.events[e],function(e){e(t)}),"error"===e&&delete this.events[e]}},q={config:y,contextName:e,registry:k,defined:j,urlFetched:P,defQueue:M,Module:b,makeModuleMap:o,nextTick:req.nextTick,onError:u,configure:function(e){e.baseUrl&&"/"!==e.baseUrl.charAt(e.baseUrl.length-1)&&(e.baseUrl+="/");var t=y.pkgs,i=y.shim,r={paths:!0,config:!0,map:!0};eachProp(e,function(e,t){r[t]?"map"===t?(y.map||(y.map={}),mixin(y[t],e,!0,!0)):mixin(y[t],e,!0):y[t]=e}),e.shim&&(eachProp(e.shim,function(e,t){isArray(e)&&(e={deps:e}),!e.exports&&!e.init||e.exportsFn||(e.exportsFn=q.makeShimExports(e)),i[t]=e}),y.shim=i),e.packages&&(each(e.packages,function(e){var i;e="string"==typeof e?{name:e}:e,i=e.location,t[e.name]={name:e.name,location:i||e.name,main:(e.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}}),y.pkgs=t),eachProp(k,function(e,t){e.inited||e.map.unnormalized||(e.map=o(t))}),(e.deps||e.callback)&&q.require(e.deps||[],e.callback)},makeShimExports:function(e){function t(){var t;return e.init&&(t=e.init.apply(global,arguments)),t||e.exports&&getGlobal(e.exports)}return t},makeRequire:function(t,n){function a(i,r,c){var p,d,f;return n.enableBuildCallback&&r&&isFunction(r)&&(r.__requireJsBuild=!0),"string"==typeof i?isFunction(r)?u(makeError("requireargs","Invalid require call"),c):t&&hasProp(E,i)?E[i](k[t.id]):req.get?req.get(q,i,t,a):(d=o(i,t,!1,!0),p=d.id,hasProp(j,p)?j[p]:u(makeError("notloaded",'Module name "'+p+'" has not been loaded yet for context: '+e+(t?"":". Use require([])")))):(v(),q.nextTick(function(){v(),f=s(o(null,t)),f.skipMap=n.skipMap,f.init(i,r,c,{enabled:!0}),l()}),a)}return n=n||{},mixin(a,{isBrowser:isBrowser,toUrl:function(e){var r,n=e.lastIndexOf("."),a=e.split("/")[0],o="."===a||".."===a;return-1!==n&&(!o||n>1)&&(r=e.substring(n,e.length),e=e.substring(0,n)),q.nameToUrl(i(e,t&&t.id,!0),r,!0)},defined:function(e){return hasProp(j,o(e,t,!1,!0).id)},specified:function(e){return e=o(e,t,!1,!0).id,hasProp(j,e)||hasProp(k,e)}}),t||(a.undef=function(e){p();var i=o(e,t,!0),n=getOwn(k,e);r(e),delete j[e],delete P[i.url],delete O[e],n&&(n.events.defined&&(O[e]=n.events),d(e))}),a},enable:function(e){var t=getOwn(k,e.id);t&&s(e).enable()},completeLoad:function(e){var t,i,r,a=getOwn(y.shim,e)||{},o=a.exports;for(p();M.length;){if(i=M.shift(),null===i[0]){if(i[0]=e,t)break;t=!0}else i[0]===e&&(t=!0);h(i)}if(r=getOwn(k,e),!t&&!hasProp(j,e)&&r&&!r.inited){if(!(!y.enforceDefine||o&&getGlobal(o)))return n(e)?void 0:u(makeError("nodefine","No define call for "+e,null,[e]));h([e,a.deps||[],a.exportsFn])}l()},nameToUrl:function(e,t,i){var r,n,a,o,s,c,u,p,d;if(req.jsExtRegExp.test(e))p=e+(t||"");else{for(r=y.paths,n=y.pkgs,s=e.split("/"),c=s.length;c>0;c-=1){if(u=s.slice(0,c).join("/"),a=getOwn(n,u),d=getOwn(r,u)){isArray(d)&&(d=d[0]),s.splice(0,c,d);break}if(a){o=e===a.name?a.location+"/"+a.main:a.location,s.splice(0,c,o);break}}p=s.join("/"),p+=t||(/^data\:|\?/.test(p)||i?"":".js"),p=("/"===p.charAt(0)||p.match(/^[\w\+\.\-]+:/)?"":y.baseUrl)+p}return y.urlArgs?p+((-1===p.indexOf("?")?"?":"&")+y.urlArgs):p},load:function(e,t){req.load(q,e,t)},execCb:function(e,t,i,r){return t.apply(r,i)},onScriptLoad:function(e){if("load"===e.type||readyRegExp.test((e.currentTarget||e.srcElement).readyState)){interactiveScript=null;var t=g(e);q.completeLoad(t.id)}},onScriptError:function(e){var t=g(e);return n(t.id)?void 0:u(makeError("scripterror","Script error for: "+t.id,e,[t.id]))}},q.require=q.makeRequire(),q}function getInteractiveScript(){return interactiveScript&&"interactive"===interactiveScript.readyState?interactiveScript:(eachReverse(scripts(),function(e){return"interactive"===e.readyState?interactiveScript=e:void 0}),interactiveScript)}var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.1.9",commentRegExp=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,ap=Array.prototype,apsp=ap.splice,isBrowser=!("undefined"==typeof window||"undefined"==typeof navigator||!window.document),isWebWorker=!isBrowser&&"undefined"!=typeof importScripts,readyRegExp=isBrowser&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),contexts={},cfg={},globalDefQueue=[],useInteractive=!1;if("undefined"==typeof define){if("undefined"!=typeof requirejs){if(isFunction(requirejs))return;cfg=requirejs,requirejs=void 0}"undefined"==typeof require||isFunction(require)||(cfg=require,require=void 0),req=requirejs=function(e,t,i,r){var n,a,o=defContextName;return isArray(e)||"string"==typeof e||(a=e,isArray(t)?(e=t,t=i,i=r):e=[]),a&&a.context&&(o=a.context),n=getOwn(contexts,o),n||(n=contexts[o]=req.s.newContext(o)),a&&n.configure(a),n.require(e,t,i)},req.config=function(e){return req(e)},req.nextTick="undefined"!=typeof setTimeout?function(e){setTimeout(e,4)}:function(e){e()},require||(require=req),req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(e){req[e]=function(){var t=contexts[defContextName];return t.require[e].apply(t,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],baseElement=document.getElementsByTagName("base")[0],baseElement&&(head=s.head=baseElement.parentNode)),req.onError=defaultOnError,req.createNode=function(e){var t=e.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return t.type=e.scriptType||"text/javascript",t.charset="utf-8",t.async=!0,t},req.load=function(e,t,i){var r,n=e&&e.config||{};if(isBrowser)return r=req.createNode(n,t,i),r.setAttribute("data-requirecontext",e.contextName),r.setAttribute("data-requiremodule",t),!r.attachEvent||r.attachEvent.toString&&r.attachEvent.toString().indexOf("[native code")<0||isOpera?(r.addEventListener("load",e.onScriptLoad,!1),r.addEventListener("error",e.onScriptError,!1)):(useInteractive=!0,r.attachEvent("onreadystatechange",e.onScriptLoad)),r.src=i,currentlyAddingScript=r,baseElement?head.insertBefore(r,baseElement):head.appendChild(r),currentlyAddingScript=null,r;if(isWebWorker)try{importScripts(i),e.completeLoad(t)}catch(a){e.onError(makeError("importscripts","importScripts failed for "+t+" at "+i,a,[t]))}},isBrowser&&!cfg.skipDataMain&&eachReverse(scripts(),function(e){return head||(head=e.parentNode),dataMain=e.getAttribute("data-main"),dataMain?(mainScript=dataMain,cfg.baseUrl||(src=mainScript.split("/"),mainScript=src.pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath),mainScript=mainScript.replace(jsSuffixRegExp,""),req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain),cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript],!0):void 0}),define=function(e,t,i){var r,n;"string"!=typeof e&&(i=t,t=e,e=null),isArray(t)||(i=t,t=null),!t&&isFunction(i)&&(t=[],i.length&&(i.toString().replace(commentRegExp,"").replace(cjsRequireRegExp,function(e,i){t.push(i)}),t=(1===i.length?["require"]:["require","exports","module"]).concat(t))),useInteractive&&(r=currentlyAddingScript||getInteractiveScript(),r&&(e||(e=r.getAttribute("data-requiremodule")),n=contexts[r.getAttribute("data-requirecontext")])),(n?n.defQueue:globalDefQueue).push([e,t,i])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)}})(this);
(function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)})("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=e.length,n=at.type(e);return"function"===n||at.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function r(e,t,n){if(at.isFunction(t))return at.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return at.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(ht.test(t))return at.filter(t,e,n);t=at.filter(t,e)}return at.grep(e,function(e){return at.inArray(e,t)>=0!==n})}function i(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function o(e){var t=Tt[e]={};return at.each(e.match(wt)||[],function(e,n){t[n]=!0}),t}function a(){gt.addEventListener?(gt.removeEventListener("DOMContentLoaded",s,!1),e.removeEventListener("load",s,!1)):(gt.detachEvent("onreadystatechange",s),e.detachEvent("onload",s))}function s(){(gt.addEventListener||"load"===event.type||"complete"===gt.readyState)&&(a(),at.ready())}function l(e,t,n){if(void 0===n&&1===e.nodeType){var r="data-"+t.replace(St,"-$1").toLowerCase();if(n=e.getAttribute(r),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:kt.test(n)?at.parseJSON(n):n}catch(i){}at.data(e,t,n)}else n=void 0}return n}function u(e){var t;for(t in e)if(("data"!==t||!at.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function c(e,t,n,r){if(at.acceptData(e)){var i,o,a=at.expando,s=e.nodeType,l=s?at.cache:e,u=s?e[a]:e[a]&&a;if(u&&l[u]&&(r||l[u].data)||void 0!==n||"string"!=typeof t)return u||(u=s?e[a]=Y.pop()||at.guid++:a),l[u]||(l[u]=s?{}:{toJSON:at.noop}),("object"==typeof t||"function"==typeof t)&&(r?l[u]=at.extend(l[u],t):l[u].data=at.extend(l[u].data,t)),o=l[u],r||(o.data||(o.data={}),o=o.data),void 0!==n&&(o[at.camelCase(t)]=n),"string"==typeof t?(i=o[t],null==i&&(i=o[at.camelCase(t)])):i=o,i}}function d(e,t,n){if(at.acceptData(e)){var r,i,o=e.nodeType,a=o?at.cache:e,s=o?e[at.expando]:at.expando;if(a[s]){if(t&&(r=n?a[s]:a[s].data)){at.isArray(t)?t=t.concat(at.map(t,at.camelCase)):t in r?t=[t]:(t=at.camelCase(t),t=t in r?[t]:t.split(" ")),i=t.length;for(;i--;)delete r[t[i]];if(n?!u(r):!at.isEmptyObject(r))return}(n||(delete a[s].data,u(a[s])))&&(o?at.cleanData([e],!0):it.deleteExpando||a!=a.window?delete a[s]:a[s]=null)}}}function f(){return!0}function p(){return!1}function h(){try{return gt.activeElement}catch(e){}}function m(e){var t=Bt.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function g(e,t){var n,r,i=0,o=typeof e.getElementsByTagName!==Et?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==Et?e.querySelectorAll(t||"*"):void 0;if(!o)for(o=[],n=e.childNodes||e;null!=(r=n[i]);i++)!t||at.nodeName(r,t)?o.push(r):at.merge(o,g(r,t));return void 0===t||t&&at.nodeName(e,t)?at.merge([e],o):o}function v(e){Ht.test(e.type)&&(e.defaultChecked=e.checked)}function y(e,t){return at.nodeName(e,"table")&&at.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function b(e){return e.type=(null!==at.find.attr(e,"type"))+"/"+e.type,e}function x(e){var t=Yt.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function w(e,t){for(var n,r=0;null!=(n=e[r]);r++)at._data(n,"globalEval",!t||at._data(t[r],"globalEval"))}function T(e,t){if(1===t.nodeType&&at.hasData(e)){var n,r,i,o=at._data(e),a=at._data(t,o),s=o.events;if(s){delete a.handle,a.events={};for(n in s)for(r=0,i=s[n].length;i>r;r++)at.event.add(t,n,s[n][r])}a.data&&(a.data=at.extend({},a.data))}}function C(e,t){var n,r,i;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!it.noCloneEvent&&t[at.expando]){i=at._data(t);for(r in i.events)at.removeEvent(t,r,i.handle);t.removeAttribute(at.expando)}"script"===n&&t.text!==e.text?(b(t).text=e.text,x(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),it.html5Clone&&e.innerHTML&&!at.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Ht.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}function N(t,n){var r=at(n.createElement(t)).appendTo(n.body),i=e.getDefaultComputedStyle?e.getDefaultComputedStyle(r[0]).display:at.css(r[0],"display");return r.detach(),i}function E(e){var t=gt,n=tn[e];return n||(n=N(e,t),"none"!==n&&n||(en=(en||at("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(en[0].contentWindow||en[0].contentDocument).document,t.write(),t.close(),n=N(e,t),en.detach()),tn[e]=n),n}function k(e,t){return{get:function(){var n=e();if(null!=n)return n?void delete this.get:(this.get=t).apply(this,arguments)}}}function S(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=mn.length;i--;)if(t=mn[i]+n,t in e)return t;return r}function A(e,t){for(var n,r,i,o=[],a=0,s=e.length;s>a;a++)r=e[a],r.style&&(o[a]=at._data(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&jt(r)&&(o[a]=at._data(r,"olddisplay",E(r.nodeName)))):o[a]||(i=jt(r),(n&&"none"!==n||!i)&&at._data(r,"olddisplay",i?n:at.css(r,"display"))));for(a=0;s>a;a++)r=e[a],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"));return e}function D(e,t,n){var r=dn.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function j(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;4>o;o+=2)"margin"===n&&(a+=at.css(e,n+Dt[o],!0,i)),r?("content"===n&&(a-=at.css(e,"padding"+Dt[o],!0,i)),"margin"!==n&&(a-=at.css(e,"border"+Dt[o]+"Width",!0,i))):(a+=at.css(e,"padding"+Dt[o],!0,i),"padding"!==n&&(a+=at.css(e,"border"+Dt[o]+"Width",!0,i)));return a}function L(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=nn(e),a=it.boxSizing()&&"border-box"===at.css(e,"boxSizing",!1,o);if(0>=i||null==i){if(i=rn(e,t,o),(0>i||null==i)&&(i=e.style[t]),an.test(i))return i;r=a&&(it.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+j(e,t,n||(a?"border":"content"),r,o)+"px"}function H(e,t,n,r,i){return new H.prototype.init(e,t,n,r,i)}function q(){return setTimeout(function(){gn=void 0}),gn=at.now()}function _(e,t){var n,r={height:e},i=0;for(t=t?1:0;4>i;i+=2-t)n=Dt[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function M(e,t,n){for(var r,i=(Tn[t]||[]).concat(Tn["*"]),o=0,a=i.length;a>o;o++)if(r=i[o].call(n,t,e))return r}function F(e,t,n){var r,i,o,a,s,l,u,c,d=this,f={},p=e.style,h=e.nodeType&&jt(e),m=at._data(e,"fxshow");n.queue||(s=at._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,d.always(function(){d.always(function(){s.unqueued--,at.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],u=at.css(e,"display"),c=E(e.nodeName),"none"===u&&(u=c),"inline"===u&&"none"===at.css(e,"float")&&(it.inlineBlockNeedsLayout&&"inline"!==c?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",it.shrinkWrapBlocks()||d.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(r in t)if(i=t[r],yn.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(h?"hide":"show")){if("show"!==i||!m||void 0===m[r])continue;h=!0}f[r]=m&&m[r]||at.style(e,r)}if(!at.isEmptyObject(f)){m?"hidden"in m&&(h=m.hidden):m=at._data(e,"fxshow",{}),o&&(m.hidden=!h),h?at(e).show():d.done(function(){at(e).hide()}),d.done(function(){var t;at._removeData(e,"fxshow");for(t in f)at.style(e,t,f[t])});for(r in f)a=M(h?m[r]:0,r,d),r in m||(m[r]=a.start,h&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}}function O(e,t){var n,r,i,o,a;for(n in e)if(r=at.camelCase(n),i=t[r],o=e[n],at.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),a=at.cssHooks[r],a&&"expand"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function B(e,t,n){var r,i,o=0,a=wn.length,s=at.Deferred().always(function(){delete l.elem}),l=function(){if(i)return!1;for(var t=gn||q(),n=Math.max(0,u.startTime+u.duration-t),r=n/u.duration||0,o=1-r,a=0,l=u.tweens.length;l>a;a++)u.tweens[a].run(o);return s.notifyWith(e,[u,o,n]),1>o&&l?n:(s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:at.extend({},t),opts:at.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:gn||q(),duration:n.duration,tweens:[],createTween:function(t,n){var r=at.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(r),r},stop:function(t){var n=0,r=t?u.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)u.tweens[n].run(1);return t?s.resolveWith(e,[u,t]):s.rejectWith(e,[u,t]),this}}),c=u.props;for(O(c,u.opts.specialEasing);a>o;o++)if(r=wn[o].call(u,e,c,u.opts))return r;return at.map(c,M,u),at.isFunction(u.opts.start)&&u.opts.start.call(e,u),at.fx.timer(at.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function P(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(wt)||[];if(at.isFunction(n))for(;r=o[i++];)"+"===r.charAt(0)?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function R(e,t,n,r){function i(s){var l;return o[s]=!0,at.each(e[s]||[],function(e,s){var u=s(t,n,r);return"string"!=typeof u||a||o[u]?a?!(l=u):void 0:(t.dataTypes.unshift(u),i(u),!1)}),l}var o={},a=e===Vn;return i(t.dataTypes[0])||!o["*"]&&i("*")}function W(e,t){var n,r,i=at.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((i[r]?e:n||(n={}))[r]=t[r]);return n&&at.extend(!0,e,n),e}function z(e,t,n){for(var r,i,o,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(a in s)if(s[a]&&s[a].test(i)){l.unshift(a);break}if(l[0]in n)o=l[0];else{for(a in n){if(!l[0]||e.converters[a+" "+l[0]]){o=a;break}r||(r=a)}o=o||r}return o?(o!==l[0]&&l.unshift(o),n[o]):void 0}function I(e,t,n,r){var i,o,a,s,l,u={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)u[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(a=u[l+" "+o]||u["* "+o],!a)for(i in u)if(s=i.split(" "),s[1]===o&&(a=u[l+" "+s[0]]||u["* "+s[0]])){a===!0?a=u[i]:u[i]!==!0&&(o=s[0],c.unshift(s[1]));break}if(a!==!0)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(d){return{state:"parsererror",error:a?d:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}function X(e,t,n,r){var i;if(at.isArray(t))at.each(t,function(t,i){n||Qn.test(e)?r(e,i):X(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==at.type(t))r(e,t);else for(i in t)X(e+"["+i+"]",t[i],n,r)}function U(){try{return new e.XMLHttpRequest}catch(t){}}function V(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function J(e){return at.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var Y=[],G=Y.slice,Q=Y.concat,K=Y.push,Z=Y.indexOf,et={},tt=et.toString,nt=et.hasOwnProperty,rt="".trim,it={},ot="1.11.0",at=function(e,t){return new at.fn.init(e,t)},st=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,lt=/^-ms-/,ut=/-([\da-z])/gi,ct=function(e,t){return t.toUpperCase()};at.fn=at.prototype={jquery:ot,constructor:at,selector:"",length:0,toArray:function(){return G.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:G.call(this)},pushStack:function(e){var t=at.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return at.each(this,e,t)},map:function(e){return this.pushStack(at.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(G.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:K,sort:Y.sort,splice:Y.splice},at.extend=at.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[s]||{},s++),"object"==typeof a||at.isFunction(a)||(a={}),s===l&&(a=this,s--);l>s;s++)if(null!=(i=arguments[s]))for(r in i)e=a[r],n=i[r],a!==n&&(u&&n&&(at.isPlainObject(n)||(t=at.isArray(n)))?(t?(t=!1,o=e&&at.isArray(e)?e:[]):o=e&&at.isPlainObject(e)?e:{},a[r]=at.extend(u,o,n)):void 0!==n&&(a[r]=n));return a},at.extend({expando:"jQuery"+(ot+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===at.type(e)},isArray:Array.isArray||function(e){return"array"===at.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return e-parseFloat(e)>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==at.type(e)||e.nodeType||at.isWindow(e))return!1;try{if(e.constructor&&!nt.call(e,"constructor")&&!nt.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(it.ownLast)for(t in e)return nt.call(e,t);for(t in e);return void 0===t||nt.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?et[tt.call(e)]||"object":typeof e},globalEval:function(t){t&&at.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(lt,"ms-").replace(ut,ct)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,r){var i,o=0,a=e.length,s=n(e);if(r){if(s)for(;a>o&&(i=t.apply(e[o],r),i!==!1);o++);else for(o in e)if(i=t.apply(e[o],r),i===!1)break}else if(s)for(;a>o&&(i=t.call(e[o],o,e[o]),i!==!1);o++);else for(o in e)if(i=t.call(e[o],o,e[o]),i===!1)break;return e},trim:rt&&!rt.call("﻿ ")?function(e){return null==e?"":rt.call(e)}:function(e){return null==e?"":(e+"").replace(st,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?at.merge(r,"string"==typeof e?[e]:e):K.call(r,e)),r},inArray:function(e,t,n){var r;if(t){if(Z)return Z.call(t,e,n);for(r=t.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;n>r;)e[i++]=t[r++];if(n!==n)for(;void 0!==t[r];)e[i++]=t[r++];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],o=0,a=e.length,s=!n;a>o;o++)r=!t(e[o],o),r!==s&&i.push(e[o]);return i},map:function(e,t,r){var i,o=0,a=e.length,s=n(e),l=[];if(s)for(;a>o;o++)i=t(e[o],o,r),null!=i&&l.push(i);else for(o in e)i=t(e[o],o,r),null!=i&&l.push(i);return Q.apply([],l)},guid:1,proxy:function(e,t){var n,r,i;return"string"==typeof t&&(i=e[t],t=e,e=i),at.isFunction(e)?(n=G.call(arguments,2),r=function(){return e.apply(t||this,n.concat(G.call(arguments)))},r.guid=e.guid=e.guid||at.guid++,r):void 0},now:function(){return+new Date},support:it}),at.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){et["[object "+t+"]"]=t.toLowerCase()});var dt=function(e){function t(e,t,n,r){var i,o,a,s,l,u,d,h,m,g;if((t?t.ownerDocument||t:R)!==H&&L(t),t=t||H,n=n||[],!e||"string"!=typeof e)return n;if(1!==(s=t.nodeType)&&9!==s)return[];if(_&&!r){if(i=yt.exec(e))if(a=i[1]){if(9===s){if(o=t.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&B(t,o)&&o.id===a)return n.push(o),n}else{if(i[2])return Z.apply(n,t.getElementsByTagName(e)),n;if((a=i[3])&&C.getElementsByClassName&&t.getElementsByClassName)return Z.apply(n,t.getElementsByClassName(a)),n}if(C.qsa&&(!M||!M.test(e))){if(h=d=P,m=t,g=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(u=f(e),(d=t.getAttribute("id"))?h=d.replace(xt,"\\$&"):t.setAttribute("id",h),h="[id='"+h+"'] ",l=u.length;l--;)u[l]=h+p(u[l]);m=bt.test(e)&&c(t.parentNode)||t,g=u.join(",")}if(g)try{return Z.apply(n,m.querySelectorAll(g)),n}catch(v){}finally{d||t.removeAttribute("id")}}}return w(e.replace(lt,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>N.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[P]=!0,e}function i(e){var t=H.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),r=e.length;r--;)N.attrHandle[n[r]]=t}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||J)-(~e.sourceIndex||J);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function u(e){return r(function(t){return t=+t,r(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function c(e){return e&&typeof e.getElementsByTagName!==V&&e}function d(){}function f(e,n){var r,i,o,a,s,l,u,c=I[e+" "];if(c)return n?0:c.slice(0);for(s=e,l=[],u=N.preFilter;s;){(!r||(i=ut.exec(s)))&&(i&&(s=s.slice(i[0].length)||s),l.push(o=[])),r=!1,(i=ct.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(lt," ")}),s=s.slice(r.length));for(a in N.filter)!(i=ht[a].exec(s))||u[a]&&!(i=u[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?t.error(e):I(e,l).slice(0)}function p(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function h(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=$++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,a){var s,l,u=[W,o];if(a){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if(l=t[P]||(t[P]={}),(s=l[r])&&s[0]===W&&s[1]===o)return u[2]=s[2];if(l[r]=u,u[2]=e(t,n,a))return!0}}}function m(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function g(e,t,n,r,i){for(var o,a=[],s=0,l=e.length,u=null!=t;l>s;s++)(o=e[s])&&(!n||n(o,r,i))&&(a.push(o),u&&t.push(s));return a}function v(e,t,n,i,o,a){return i&&!i[P]&&(i=v(i)),o&&!o[P]&&(o=v(o,a)),r(function(r,a,s,l){var u,c,d,f=[],p=[],h=a.length,m=r||x(t||"*",s.nodeType?[s]:s,[]),v=!e||!r&&t?m:g(m,f,e,s,l),y=n?o||(r?e:h||i)?[]:a:v;if(n&&n(v,y,s,l),i)for(u=g(y,p),i(u,[],s,l),c=u.length;c--;)(d=u[c])&&(y[p[c]]=!(v[p[c]]=d));if(r){if(o||e){if(o){for(u=[],c=y.length;c--;)(d=y[c])&&u.push(v[c]=d);o(null,y=[],u,l)}for(c=y.length;c--;)(d=y[c])&&(u=o?tt.call(r,d):f[c])>-1&&(r[u]=!(a[u]=d))}}else y=g(y===a?y.splice(h,y.length):y),o?o(null,a,y,l):Z.apply(a,y)})}function y(e){for(var t,n,r,i=e.length,o=N.relative[e[0].type],a=o||N.relative[" "],s=o?1:0,l=h(function(e){return e===t},a,!0),u=h(function(e){return tt.call(t,e)>-1},a,!0),c=[function(e,n,r){return!o&&(r||n!==A)||((t=n).nodeType?l(e,n,r):u(e,n,r))}];i>s;s++)if(n=N.relative[e[s].type])c=[h(m(c),n)];else{if(n=N.filter[e[s].type].apply(null,e[s].matches),n[P]){for(r=++s;i>r&&!N.relative[e[r].type];r++);return v(s>1&&m(c),s>1&&p(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(lt,"$1"),n,r>s&&y(e.slice(s,r)),i>r&&y(e=e.slice(r)),i>r&&p(e))}c.push(n)}return m(c)}function b(e,n){var i=n.length>0,o=e.length>0,a=function(r,a,s,l,u){var c,d,f,p=0,h="0",m=r&&[],v=[],y=A,b=r||o&&N.find.TAG("*",u),x=W+=null==y?1:Math.random()||.1,w=b.length;for(u&&(A=a!==H&&a);h!==w&&null!=(c=b[h]);h++){if(o&&c){for(d=0;f=e[d++];)if(f(c,a,s)){l.push(c);break}u&&(W=x)}i&&((c=!f&&c)&&p--,r&&m.push(c))}if(p+=h,i&&h!==p){for(d=0;f=n[d++];)f(m,v,a,s);if(r){if(p>0)for(;h--;)m[h]||v[h]||(v[h]=Q.call(l));v=g(v)}Z.apply(l,v),u&&!r&&v.length>0&&p+n.length>1&&t.uniqueSort(l)}return u&&(W=x,A=y),m};return i?r(a):a}function x(e,n,r){for(var i=0,o=n.length;o>i;i++)t(e,n[i],r);return r}function w(e,t,n,r){var i,o,a,s,l,u=f(e);if(!r&&1===u.length){if(o=u[0]=u[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&C.getById&&9===t.nodeType&&_&&N.relative[o[1].type]){if(t=(N.find.ID(a.matches[0].replace(wt,Tt),t)||[])[0],!t)return n;e=e.slice(o.shift().value.length)}for(i=ht.needsContext.test(e)?0:o.length;i--&&(a=o[i],!N.relative[s=a.type]);)if((l=N.find[s])&&(r=l(a.matches[0].replace(wt,Tt),bt.test(o[0].type)&&c(t.parentNode)||t))){if(o.splice(i,1),e=r.length&&p(o),!e)return Z.apply(n,r),n;break}}return S(e,u)(r,t,!_,n,bt.test(e)&&c(t.parentNode)||t),n}var T,C,N,E,k,S,A,D,j,L,H,q,_,M,F,O,B,P="sizzle"+-new Date,R=e.document,W=0,$=0,z=n(),I=n(),X=n(),U=function(e,t){return e===t&&(j=!0),0},V="undefined",J=1<<31,Y={}.hasOwnProperty,G=[],Q=G.pop,K=G.push,Z=G.push,et=G.slice,tt=G.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},nt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",rt="[\\x20\\t\\r\\n\\f]",it="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ot=it.replace("w","w#"),at="\\["+rt+"*("+it+")"+rt+"*(?:([*^$|!~]?=)"+rt+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+ot+")|)|)"+rt+"*\\]",st=":("+it+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+at.replace(3,8)+")*)|.*)\\)|)",lt=new RegExp("^"+rt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+rt+"+$","g"),ut=new RegExp("^"+rt+"*,"+rt+"*"),ct=new RegExp("^"+rt+"*([>+~]|"+rt+")"+rt+"*"),dt=new RegExp("="+rt+"*([^\\]'\"]*?)"+rt+"*\\]","g"),ft=new RegExp(st),pt=new RegExp("^"+ot+"$"),ht={ID:new RegExp("^#("+it+")"),CLASS:new RegExp("^\\.("+it+")"),TAG:new RegExp("^("+it.replace("w","w*")+")"),ATTR:new RegExp("^"+at),PSEUDO:new RegExp("^"+st),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+rt+"*(even|odd|(([+-]|)(\\d*)n|)"+rt+"*(?:([+-]|)"+rt+"*(\\d+)|))"+rt+"*\\)|)","i"),bool:new RegExp("^(?:"+nt+")$","i"),needsContext:new RegExp("^"+rt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+rt+"*((?:-\\d)?\\d*)"+rt+"*\\)|)(?=[^-]|$)","i")},mt=/^(?:input|select|textarea|button)$/i,gt=/^h\d$/i,vt=/^[^{]+\{\s*\[native \w/,yt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,bt=/[+~]/,xt=/'|\\/g,wt=new RegExp("\\\\([\\da-f]{1,6}"+rt+"?|("+rt+")|.)","ig"),Tt=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)};try{Z.apply(G=et.call(R.childNodes),R.childNodes),G[R.childNodes.length].nodeType}catch(Ct){Z={apply:G.length?function(e,t){K.apply(e,et.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}C=t.support={},k=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},L=t.setDocument=function(e){var t,n=e?e.ownerDocument||e:R,r=n.defaultView;return n!==H&&9===n.nodeType&&n.documentElement?(H=n,q=n.documentElement,_=!k(n),r&&r!==r.top&&(r.addEventListener?r.addEventListener("unload",function(){L()},!1):r.attachEvent&&r.attachEvent("onunload",function(){L()})),C.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),C.getElementsByTagName=i(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),C.getElementsByClassName=vt.test(n.getElementsByClassName)&&i(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),C.getById=i(function(e){return q.appendChild(e).id=P,!n.getElementsByName||!n.getElementsByName(P).length}),C.getById?(N.find.ID=function(e,t){if(typeof t.getElementById!==V&&_){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},N.filter.ID=function(e){var t=e.replace(wt,Tt);return function(e){return e.getAttribute("id")===t}}):(delete N.find.ID,N.filter.ID=function(e){var t=e.replace(wt,Tt);return function(e){var n=typeof e.getAttributeNode!==V&&e.getAttributeNode("id");return n&&n.value===t}}),N.find.TAG=C.getElementsByTagName?function(e,t){return typeof t.getElementsByTagName!==V?t.getElementsByTagName(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},N.find.CLASS=C.getElementsByClassName&&function(e,t){return typeof t.getElementsByClassName!==V&&_?t.getElementsByClassName(e):void 0},F=[],M=[],(C.qsa=vt.test(n.querySelectorAll))&&(i(function(e){e.innerHTML="<select t=''><option selected=''></option></select>",e.querySelectorAll("[t^='']").length&&M.push("[*^$]="+rt+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||M.push("\\["+rt+"*(?:value|"+nt+")"),e.querySelectorAll(":checked").length||M.push(":checked")}),i(function(e){var t=n.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&M.push("name"+rt+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||M.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),M.push(",.*:")})),(C.matchesSelector=vt.test(O=q.webkitMatchesSelector||q.mozMatchesSelector||q.oMatchesSelector||q.msMatchesSelector))&&i(function(e){C.disconnectedMatch=O.call(e,"div"),O.call(e,"[s!='']:x"),F.push("!=",st)}),M=M.length&&new RegExp(M.join("|")),F=F.length&&new RegExp(F.join("|")),t=vt.test(q.compareDocumentPosition),B=t||vt.test(q.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},U=t?function(e,t){if(e===t)return j=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r?r:(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&r||!C.sortDetached&&t.compareDocumentPosition(e)===r?e===n||e.ownerDocument===R&&B(R,e)?-1:t===n||t.ownerDocument===R&&B(R,t)?1:D?tt.call(D,e)-tt.call(D,t):0:4&r?-1:1)}:function(e,t){if(e===t)return j=!0,0;var r,i=0,o=e.parentNode,s=t.parentNode,l=[e],u=[t];if(!o||!s)return e===n?-1:t===n?1:o?-1:s?1:D?tt.call(D,e)-tt.call(D,t):0;if(o===s)return a(e,t);for(r=e;r=r.parentNode;)l.unshift(r);for(r=t;r=r.parentNode;)u.unshift(r);for(;l[i]===u[i];)i++;return i?a(l[i],u[i]):l[i]===R?-1:u[i]===R?1:0},n):H},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==H&&L(e),n=n.replace(dt,"='$1']"),!(!C.matchesSelector||!_||F&&F.test(n)||M&&M.test(n)))try{var r=O.call(e,n);if(r||C.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(i){}return t(n,H,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==H&&L(e),B(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==H&&L(e);var n=N.attrHandle[t.toLowerCase()],r=n&&Y.call(N.attrHandle,t.toLowerCase())?n(e,t,!_):void 0;return void 0!==r?r:C.attributes||!_?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(j=!C.detectDuplicates,D=!C.sortStable&&e.slice(0),e.sort(U),j){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return D=null,e},E=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=E(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=E(t);return n},N=t.selectors={cacheLength:50,createPseudo:r,match:ht,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(wt,Tt),e[3]=(e[4]||e[5]||"").replace(wt,Tt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[5]&&e[2];return ht.CHILD.test(e[0])?null:(e[3]&&void 0!==e[4]?e[2]=e[4]:n&&ft.test(n)&&(t=f(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(wt,Tt).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=z[e+" "];return t||(t=new RegExp("(^|"+rt+")"+e+"("+rt+"|$)"))&&z(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==V&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(i){var o=t.attr(i,e);return null==o?"!="===n:n?(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o+" ").indexOf(r)>-1:"|="===n?o===r||o.slice(0,r.length+1)===r+"-":!1):!0}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,l){var u,c,d,f,p,h,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!l&&!s;if(g){if(o){for(;m;){for(d=t;d=d[m];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;h=m="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?g.firstChild:g.lastChild],a&&y){for(c=g[P]||(g[P]={}),u=c[e]||[],p=u[0]===W&&u[1],f=u[0]===W&&u[2],d=p&&g.childNodes[p];d=++p&&d&&d[m]||(f=p=0)||h.pop();)if(1===d.nodeType&&++f&&d===t){c[e]=[W,p,f];break}}else if(y&&(u=(t[P]||(t[P]={}))[e])&&u[0]===W)f=u[1];else for(;(d=++p&&d&&d[m]||(f=p=0)||h.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++f||(y&&((d[P]||(d[P]={}))[e]=[W,f]),d!==t)););return f-=i,f===r||f%r===0&&f/r>=0}}},PSEUDO:function(e,n){var i,o=N.pseudos[e]||N.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[P]?o(n):o.length>1?(i=[e,e,"",n],N.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=o(e,n),a=i.length;a--;)r=tt.call(e,i[a]),e[r]=!(t[r]=i[a])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=S(e.replace(lt,"$1"));return i[P]?r(function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return function(t){return(t.textContent||t.innerText||E(t)).indexOf(e)>-1}}),lang:r(function(e){return pt.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(wt,Tt).toLowerCase(),function(t){var n;do if(n=_?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===q},focus:function(e){return e===H.activeElement&&(!H.hasFocus||H.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!N.pseudos.empty(e)},header:function(e){return gt.test(e.nodeName)},input:function(e){return mt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]
}),eq:u(function(e,t,n){return[0>n?n+t:n]}),even:u(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:u(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:u(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:u(function(e,t,n){for(var r=0>n?n+t:n;++r<t;)e.push(r);return e})}},N.pseudos.nth=N.pseudos.eq;for(T in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})N.pseudos[T]=s(T);for(T in{submit:!0,reset:!0})N.pseudos[T]=l(T);return d.prototype=N.filters=N.pseudos,N.setFilters=new d,S=t.compile=function(e,t){var n,r=[],i=[],o=X[e+" "];if(!o){for(t||(t=f(e)),n=t.length;n--;)o=y(t[n]),o[P]?r.push(o):i.push(o);o=X(e,b(i,r))}return o},C.sortStable=P.split("").sort(U).join("")===P,C.detectDuplicates=!!j,L(),C.sortDetached=i(function(e){return 1&e.compareDocumentPosition(H.createElement("div"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),C.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||o(nt,function(e,t,n){var r;return n?void 0:e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);at.find=dt,at.expr=dt.selectors,at.expr[":"]=at.expr.pseudos,at.unique=dt.uniqueSort,at.text=dt.getText,at.isXMLDoc=dt.isXML,at.contains=dt.contains;var ft=at.expr.match.needsContext,pt=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ht=/^.[^:#\[\.,]*$/;at.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?at.find.matchesSelector(r,e)?[r]:[]:at.find.matches(e,at.grep(t,function(e){return 1===e.nodeType}))},at.fn.extend({find:function(e){var t,n=[],r=this,i=r.length;if("string"!=typeof e)return this.pushStack(at(e).filter(function(){for(t=0;i>t;t++)if(at.contains(r[t],this))return!0}));for(t=0;i>t;t++)at.find(e,r[t],n);return n=this.pushStack(i>1?at.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&ft.test(e)?at(e):e||[],!1).length}});var mt,gt=e.document,vt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,yt=at.fn.init=function(e,t){var n,r;if(!e)return this;if("string"==typeof e){if(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:vt.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||mt).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof at?t[0]:t,at.merge(this,at.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:gt,!0)),pt.test(n[1])&&at.isPlainObject(t))for(n in t)at.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}if(r=gt.getElementById(n[2]),r&&r.parentNode){if(r.id!==n[2])return mt.find(e);this.length=1,this[0]=r}return this.context=gt,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):at.isFunction(e)?"undefined"!=typeof mt.ready?mt.ready(e):e(at):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),at.makeArray(e,this))};yt.prototype=at.fn,mt=at(gt);var bt=/^(?:parents|prev(?:Until|All))/,xt={children:!0,contents:!0,next:!0,prev:!0};at.extend({dir:function(e,t,n){for(var r=[],i=e[t];i&&9!==i.nodeType&&(void 0===n||1!==i.nodeType||!at(i).is(n));)1===i.nodeType&&r.push(i),i=i[t];return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),at.fn.extend({has:function(e){var t,n=at(e,this),r=n.length;return this.filter(function(){for(t=0;r>t;t++)if(at.contains(this,n[t]))return!0})},closest:function(e,t){for(var n,r=0,i=this.length,o=[],a=ft.test(e)||"string"!=typeof e?at(e,t||this.context):0;i>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&at.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?at.unique(o):o)},index:function(e){return e?"string"==typeof e?at.inArray(this[0],at(e)):at.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(at.unique(at.merge(this.get(),at(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),at.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return at.dir(e,"parentNode")},parentsUntil:function(e,t,n){return at.dir(e,"parentNode",n)},next:function(e){return i(e,"nextSibling")},prev:function(e){return i(e,"previousSibling")},nextAll:function(e){return at.dir(e,"nextSibling")},prevAll:function(e){return at.dir(e,"previousSibling")},nextUntil:function(e,t,n){return at.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return at.dir(e,"previousSibling",n)},siblings:function(e){return at.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return at.sibling(e.firstChild)},contents:function(e){return at.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:at.merge([],e.childNodes)}},function(e,t){at.fn[e]=function(n,r){var i=at.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=at.filter(r,i)),this.length>1&&(xt[e]||(i=at.unique(i)),bt.test(e)&&(i=i.reverse())),this.pushStack(i)}});var wt=/\S+/g,Tt={};at.Callbacks=function(e){e="string"==typeof e?Tt[e]||o(e):at.extend({},e);var t,n,r,i,a,s,l=[],u=!e.once&&[],c=function(o){for(n=e.memory&&o,r=!0,a=s||0,s=0,i=l.length,t=!0;l&&i>a;a++)if(l[a].apply(o[0],o[1])===!1&&e.stopOnFalse){n=!1;break}t=!1,l&&(u?u.length&&c(u.shift()):n?l=[]:d.disable())},d={add:function(){if(l){var r=l.length;(function o(t){at.each(t,function(t,n){var r=at.type(n);"function"===r?e.unique&&d.has(n)||l.push(n):n&&n.length&&"string"!==r&&o(n)})})(arguments),t?i=l.length:n&&(s=r,c(n))}return this},remove:function(){return l&&at.each(arguments,function(e,n){for(var r;(r=at.inArray(n,l,r))>-1;)l.splice(r,1),t&&(i>=r&&i--,a>=r&&a--)}),this},has:function(e){return e?at.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],i=0,this},disable:function(){return l=u=n=void 0,this},disabled:function(){return!l},lock:function(){return u=void 0,n||d.disable(),this},locked:function(){return!u},fireWith:function(e,n){return!l||r&&!u||(n=n||[],n=[e,n.slice?n.slice():n],t?u.push(n):c(n)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!r}};return d},at.extend({Deferred:function(e){var t=[["resolve","done",at.Callbacks("once memory"),"resolved"],["reject","fail",at.Callbacks("once memory"),"rejected"],["notify","progress",at.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return at.Deferred(function(n){at.each(t,function(t,o){var a=at.isFunction(e[t])&&e[t];i[o[1]](function(){var e=a&&a.apply(this,arguments);e&&at.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===r?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?at.extend(e,r):r}},i={};return r.pipe=r.then,at.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,r,i=0,o=G.call(arguments),a=o.length,s=1!==a||e&&at.isFunction(e.promise)?a:0,l=1===s?e:at.Deferred(),u=function(e,n,r){return function(i){n[e]=this,r[e]=arguments.length>1?G.call(arguments):i,r===t?l.notifyWith(n,r):--s||l.resolveWith(n,r)}};if(a>1)for(t=new Array(a),n=new Array(a),r=new Array(a);a>i;i++)o[i]&&at.isFunction(o[i].promise)?o[i].promise().done(u(i,r,o)).fail(l.reject).progress(u(i,n,t)):--s;return s||l.resolveWith(r,o),l.promise()}});var Ct;at.fn.ready=function(e){return at.ready.promise().done(e),this},at.extend({isReady:!1,readyWait:1,holdReady:function(e){e?at.readyWait++:at.ready(!0)},ready:function(e){if(e===!0?!--at.readyWait:!at.isReady){if(!gt.body)return setTimeout(at.ready);at.isReady=!0,e!==!0&&--at.readyWait>0||(Ct.resolveWith(gt,[at]),at.fn.trigger&&at(gt).trigger("ready").off("ready"))}}}),at.ready.promise=function(t){if(!Ct)if(Ct=at.Deferred(),"complete"===gt.readyState)setTimeout(at.ready);else if(gt.addEventListener)gt.addEventListener("DOMContentLoaded",s,!1),e.addEventListener("load",s,!1);else{gt.attachEvent("onreadystatechange",s),e.attachEvent("onload",s);var n=!1;try{n=null==e.frameElement&&gt.documentElement}catch(r){}n&&n.doScroll&&function i(){if(!at.isReady){try{n.doScroll("left")}catch(e){return setTimeout(i,50)}a(),at.ready()}}()}return Ct.promise(t)};var Nt,Et="undefined";for(Nt in at(it))break;it.ownLast="0"!==Nt,it.inlineBlockNeedsLayout=!1,at(function(){var e,t,n=gt.getElementsByTagName("body")[0];n&&(e=gt.createElement("div"),e.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",t=gt.createElement("div"),n.appendChild(e).appendChild(t),typeof t.style.zoom!==Et&&(t.style.cssText="border:0;margin:0;width:1px;padding:1px;display:inline;zoom:1",(it.inlineBlockNeedsLayout=3===t.offsetWidth)&&(n.style.zoom=1)),n.removeChild(e),e=t=null)}),function(){var e=gt.createElement("div");if(null==it.deleteExpando){it.deleteExpando=!0;try{delete e.test}catch(t){it.deleteExpando=!1}}e=null}(),at.acceptData=function(e){var t=at.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return 1!==n&&9!==n?!1:!t||t!==!0&&e.getAttribute("classid")===t};var kt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,St=/([A-Z])/g;at.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?at.cache[e[at.expando]]:e[at.expando],!!e&&!u(e)},data:function(e,t,n){return c(e,t,n)},removeData:function(e,t){return d(e,t)},_data:function(e,t,n){return c(e,t,n,!0)},_removeData:function(e,t){return d(e,t,!0)}}),at.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=at.data(o),1===o.nodeType&&!at._data(o,"parsedAttrs"))){for(n=a.length;n--;)r=a[n].name,0===r.indexOf("data-")&&(r=at.camelCase(r.slice(5)),l(o,r,i[r]));at._data(o,"parsedAttrs",!0)}return i}return"object"==typeof e?this.each(function(){at.data(this,e)}):arguments.length>1?this.each(function(){at.data(this,e,t)}):o?l(o,e,at.data(o,e)):void 0},removeData:function(e){return this.each(function(){at.removeData(this,e)})}}),at.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=at._data(e,t),n&&(!r||at.isArray(n)?r=at._data(e,t,at.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=at.queue(e,t),r=n.length,i=n.shift(),o=at._queueHooks(e,t),a=function(){at.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return at._data(e,n)||at._data(e,n,{empty:at.Callbacks("once memory").add(function(){at._removeData(e,t+"queue"),at._removeData(e,n)})})}}),at.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?at.queue(this[0],e):void 0===t?this:this.each(function(){var n=at.queue(this,e,t);at._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&at.dequeue(this,e)})},dequeue:function(e){return this.each(function(){at.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=at.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)n=at._data(o[a],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var At=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Dt=["Top","Right","Bottom","Left"],jt=function(e,t){return e=t||e,"none"===at.css(e,"display")||!at.contains(e.ownerDocument,e)},Lt=at.access=function(e,t,n,r,i,o,a){var s=0,l=e.length,u=null==n;if("object"===at.type(n)){i=!0;for(s in n)at.access(e,t,s,n[s],!0,o,a)}else if(void 0!==r&&(i=!0,at.isFunction(r)||(a=!0),u&&(a?(t.call(e,r),t=null):(u=t,t=function(e,t,n){return u.call(at(e),n)})),t))for(;l>s;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:u?t.call(e):l?t(e[0],n):o},Ht=/^(?:checkbox|radio)$/i;(function(){var e=gt.createDocumentFragment(),t=gt.createElement("div"),n=gt.createElement("input");if(t.setAttribute("className","t"),t.innerHTML="  <link/><table></table><a href='/a'>a</a>",it.leadingWhitespace=3===t.firstChild.nodeType,it.tbody=!t.getElementsByTagName("tbody").length,it.htmlSerialize=!!t.getElementsByTagName("link").length,it.html5Clone="<:nav></:nav>"!==gt.createElement("nav").cloneNode(!0).outerHTML,n.type="checkbox",n.checked=!0,e.appendChild(n),it.appendChecked=n.checked,t.innerHTML="<textarea>x</textarea>",it.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,e.appendChild(t),t.innerHTML="<input type='radio' checked='checked' name='t'/>",it.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,it.noCloneEvent=!0,t.attachEvent&&(t.attachEvent("onclick",function(){it.noCloneEvent=!1}),t.cloneNode(!0).click()),null==it.deleteExpando){it.deleteExpando=!0;try{delete t.test}catch(r){it.deleteExpando=!1}}e=t=n=null})(),function(){var t,n,r=gt.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})n="on"+t,(it[t+"Bubbles"]=n in e)||(r.setAttribute(n,"t"),it[t+"Bubbles"]=r.attributes[n].expando===!1);r=null}();var qt=/^(?:input|select|textarea)$/i,_t=/^key/,Mt=/^(?:mouse|contextmenu)|click/,Ft=/^(?:focusinfocus|focusoutblur)$/,Ot=/^([^.]*)(?:\.(.+)|)$/;at.event={global:{},add:function(e,t,n,r,i){var o,a,s,l,u,c,d,f,p,h,m,g=at._data(e);if(g){for(n.handler&&(l=n,n=l.handler,i=l.selector),n.guid||(n.guid=at.guid++),(a=g.events)||(a=g.events={}),(c=g.handle)||(c=g.handle=function(e){return typeof at===Et||e&&at.event.triggered===e.type?void 0:at.event.dispatch.apply(c.elem,arguments)},c.elem=e),t=(t||"").match(wt)||[""],s=t.length;s--;)o=Ot.exec(t[s])||[],p=m=o[1],h=(o[2]||"").split(".").sort(),p&&(u=at.event.special[p]||{},p=(i?u.delegateType:u.bindType)||p,u=at.event.special[p]||{},d=at.extend({type:p,origType:m,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&at.expr.match.needsContext.test(i),namespace:h.join(".")},l),(f=a[p])||(f=a[p]=[],f.delegateCount=0,u.setup&&u.setup.call(e,r,h,c)!==!1||(e.addEventListener?e.addEventListener(p,c,!1):e.attachEvent&&e.attachEvent("on"+p,c))),u.add&&(u.add.call(e,d),d.handler.guid||(d.handler.guid=n.guid)),i?f.splice(f.delegateCount++,0,d):f.push(d),at.event.global[p]=!0);e=null}},remove:function(e,t,n,r,i){var o,a,s,l,u,c,d,f,p,h,m,g=at.hasData(e)&&at._data(e);if(g&&(c=g.events)){for(t=(t||"").match(wt)||[""],u=t.length;u--;)if(s=Ot.exec(t[u])||[],p=m=s[1],h=(s[2]||"").split(".").sort(),p){for(d=at.event.special[p]||{},p=(r?d.delegateType:d.bindType)||p,f=c[p]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=f.length;o--;)a=f[o],!i&&m!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||r&&r!==a.selector&&("**"!==r||!a.selector)||(f.splice(o,1),a.selector&&f.delegateCount--,d.remove&&d.remove.call(e,a));l&&!f.length&&(d.teardown&&d.teardown.call(e,h,g.handle)!==!1||at.removeEvent(e,p,g.handle),delete c[p])}else for(p in c)at.event.remove(e,p+t[u],n,r,!0);at.isEmptyObject(c)&&(delete g.handle,at._removeData(e,"events"))}},trigger:function(t,n,r,i){var o,a,s,l,u,c,d,f=[r||gt],p=nt.call(t,"type")?t.type:t,h=nt.call(t,"namespace")?t.namespace.split("."):[];if(s=c=r=r||gt,3!==r.nodeType&&8!==r.nodeType&&!Ft.test(p+at.event.triggered)&&(p.indexOf(".")>=0&&(h=p.split("."),p=h.shift(),h.sort()),a=p.indexOf(":")<0&&"on"+p,t=t[at.expando]?t:new at.Event(p,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=h.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:at.makeArray(n,[t]),u=at.event.special[p]||{},i||!u.trigger||u.trigger.apply(r,n)!==!1)){if(!i&&!u.noBubble&&!at.isWindow(r)){for(l=u.delegateType||p,Ft.test(l+p)||(s=s.parentNode);s;s=s.parentNode)f.push(s),c=s;c===(r.ownerDocument||gt)&&f.push(c.defaultView||c.parentWindow||e)}for(d=0;(s=f[d++])&&!t.isPropagationStopped();)t.type=d>1?l:u.bindType||p,o=(at._data(s,"events")||{})[t.type]&&at._data(s,"handle"),o&&o.apply(s,n),o=a&&s[a],o&&o.apply&&at.acceptData(s)&&(t.result=o.apply(s,n),t.result===!1&&t.preventDefault());if(t.type=p,!i&&!t.isDefaultPrevented()&&(!u._default||u._default.apply(f.pop(),n)===!1)&&at.acceptData(r)&&a&&r[p]&&!at.isWindow(r)){c=r[a],c&&(r[a]=null),at.event.triggered=p;try{r[p]()}catch(m){}at.event.triggered=void 0,c&&(r[a]=c)}return t.result}},dispatch:function(e){e=at.event.fix(e);var t,n,r,i,o,a=[],s=G.call(arguments),l=(at._data(this,"events")||{})[e.type]||[],u=at.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,e)!==!1){for(a=at.event.handlers.call(this,e,l),t=0;(i=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,o=0;(r=i.handlers[o++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(r.namespace))&&(e.handleObj=r,e.data=r.data,n=((at.event.special[r.origType]||{}).handle||r.handler).apply(i.elem,s),void 0!==n&&(e.result=n)===!1&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,o,a=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==e.type)){for(i=[],o=0;s>o;o++)r=t[o],n=r.selector+" ",void 0===i[n]&&(i[n]=r.needsContext?at(n,this).index(l)>=0:at.find(n,this,null,[l]).length),i[n]&&i.push(r);i.length&&a.push({elem:l,handlers:i})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},fix:function(e){if(e[at.expando])return e;var t,n,r,i=e.type,o=e,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=Mt.test(i)?this.mouseHooks:_t.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new at.Event(o),t=r.length;t--;)n=r[t],e[n]=o[n];return e.target||(e.target=o.srcElement||gt),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,o=t.button,a=t.fromElement;return null==e.pageX&&null!=t.clientX&&(r=e.target.ownerDocument||gt,i=r.documentElement,n=r.body,e.pageX=t.clientX+(i&&i.scrollLeft||n&&n.scrollLeft||0)-(i&&i.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||n&&n.scrollTop||0)-(i&&i.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?t.toElement:a),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==h()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===h()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return at.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return at.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=at.extend(new at.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?at.event.trigger(i,null,t):at.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},at.removeEvent=gt.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]===Et&&(e[r]=null),e.detachEvent(r,n))},at.Event=function(e,t){return this instanceof at.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&(e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault())?f:p):this.type=e,t&&at.extend(this,t),this.timeStamp=e&&e.timeStamp||at.now(),void(this[at.expando]=!0)):new at.Event(e,t)},at.Event.prototype={isDefaultPrevented:p,isPropagationStopped:p,isImmediatePropagationStopped:p,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=f,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=f,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=f,this.stopPropagation()}},at.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){at.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return(!i||i!==r&&!at.contains(r,i))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),it.submitBubbles||(at.event.special.submit={setup:function(){return at.nodeName(this,"form")?!1:void at.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=at.nodeName(t,"input")||at.nodeName(t,"button")?t.form:void 0;n&&!at._data(n,"submitBubbles")&&(at.event.add(n,"submit._submit",function(e){e._submit_bubble=!0}),at._data(n,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&at.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return at.nodeName(this,"form")?!1:void at.event.remove(this,"._submit")}}),it.changeBubbles||(at.event.special.change={setup:function(){return qt.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(at.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),at.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),at.event.simulate("change",this,e,!0)})),!1):void at.event.add(this,"beforeactivate._change",function(e){var t=e.target;qt.test(t.nodeName)&&!at._data(t,"changeBubbles")&&(at.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||at.event.simulate("change",this.parentNode,e,!0)}),at._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return at.event.remove(this,"._change"),!qt.test(this.nodeName)}}),it.focusinBubbles||at.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){at.event.simulate(t,e.target,at.event.fix(e),!0)};at.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=at._data(r,t);i||r.addEventListener(e,n,!0),at._data(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=at._data(r,t)-1;i?at._data(r,t,i):(r.removeEventListener(e,n,!0),at._removeData(r,t))}}}),at.fn.extend({on:function(e,t,n,r,i){var o,a;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(o in e)this.on(o,t,n,e[o],i);return this}if(null==n&&null==r?(r=t,n=t=void 0):null==r&&("string"==typeof t?(r=n,n=void 0):(r=n,n=t,t=void 0)),r===!1)r=p;else if(!r)return this;return 1===i&&(a=r,r=function(e){return at().off(e),a.apply(this,arguments)},r.guid=a.guid||(a.guid=at.guid++)),this.each(function(){at.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,at(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=p),this.each(function(){at.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){at.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?at.event.trigger(e,t,n,!0):void 0}});var Bt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Pt=/ jQuery\d+="(?:null|\d+)"/g,Rt=new RegExp("<(?:"+Bt+")[\\s/>]","i"),Wt=/^\s+/,$t=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,zt=/<([\w:]+)/,It=/<tbody/i,Xt=/<|&#?\w+;/,Ut=/<(?:script|style|link)/i,Vt=/checked\s*(?:[^=]|=\s*.checked.)/i,Jt=/^$|\/(?:java|ecma)script/i,Yt=/^true\/(.*)/,Gt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Qt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:it.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Kt=m(gt),Zt=Kt.appendChild(gt.createElement("div"));Qt.optgroup=Qt.option,Qt.tbody=Qt.tfoot=Qt.colgroup=Qt.caption=Qt.thead,Qt.th=Qt.td,at.extend({clone:function(e,t,n){var r,i,o,a,s,l=at.contains(e.ownerDocument,e);if(it.html5Clone||at.isXMLDoc(e)||!Rt.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(Zt.innerHTML=e.outerHTML,Zt.removeChild(o=Zt.firstChild)),!(it.noCloneEvent&&it.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||at.isXMLDoc(e)))for(r=g(o),s=g(e),a=0;null!=(i=s[a]);++a)r[a]&&C(i,r[a]);if(t)if(n)for(s=s||g(e),r=r||g(o),a=0;null!=(i=s[a]);a++)T(i,r[a]);else T(e,o);return r=g(o,"script"),r.length>0&&w(r,!l&&g(e,"script")),r=s=i=null,o},buildFragment:function(e,t,n,r){for(var i,o,a,s,l,u,c,d=e.length,f=m(t),p=[],h=0;d>h;h++)if(o=e[h],o||0===o)if("object"===at.type(o))at.merge(p,o.nodeType?[o]:o);else if(Xt.test(o)){for(s=s||f.appendChild(t.createElement("div")),l=(zt.exec(o)||["",""])[1].toLowerCase(),c=Qt[l]||Qt._default,s.innerHTML=c[1]+o.replace($t,"<$1></$2>")+c[2],i=c[0];i--;)s=s.lastChild;if(!it.leadingWhitespace&&Wt.test(o)&&p.push(t.createTextNode(Wt.exec(o)[0])),!it.tbody)for(o="table"!==l||It.test(o)?"<table>"!==c[1]||It.test(o)?0:s:s.firstChild,i=o&&o.childNodes.length;i--;)at.nodeName(u=o.childNodes[i],"tbody")&&!u.childNodes.length&&o.removeChild(u);for(at.merge(p,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=f.lastChild}else p.push(t.createTextNode(o));for(s&&f.removeChild(s),it.appendChecked||at.grep(g(p,"input"),v),h=0;o=p[h++];)if((!r||-1===at.inArray(o,r))&&(a=at.contains(o.ownerDocument,o),s=g(f.appendChild(o),"script"),a&&w(s),n))for(i=0;o=s[i++];)Jt.test(o.type||"")&&n.push(o);return s=null,f},cleanData:function(e,t){for(var n,r,i,o,a=0,s=at.expando,l=at.cache,u=it.deleteExpando,c=at.event.special;null!=(n=e[a]);a++)if((t||at.acceptData(n))&&(i=n[s],o=i&&l[i])){if(o.events)for(r in o.events)c[r]?at.event.remove(n,r):at.removeEvent(n,r,o.handle);l[i]&&(delete l[i],u?delete n[s]:typeof n.removeAttribute!==Et?n.removeAttribute(s):n[s]=null,Y.push(i))}}}),at.fn.extend({text:function(e){return Lt(this,function(e){return void 0===e?at.text(this):this.empty().append((this[0]&&this[0].ownerDocument||gt).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=y(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=y(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=e?at.filter(e,this):this,i=0;null!=(n=r[i]);i++)t||1!==n.nodeType||at.cleanData(g(n)),n.parentNode&&(t&&at.contains(n.ownerDocument,n)&&w(g(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&at.cleanData(g(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&at.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return at.clone(this,e,t)})},html:function(e){return Lt(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(Pt,""):void 0;if(!("string"!=typeof e||Ut.test(e)||!it.htmlSerialize&&Rt.test(e)||!it.leadingWhitespace&&Wt.test(e)||Qt[(zt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace($t,"<$1></$2>");try{for(;r>n;n++)t=this[n]||{},1===t.nodeType&&(at.cleanData(g(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,at.cleanData(g(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=Q.apply([],e);var n,r,i,o,a,s,l=0,u=this.length,c=this,d=u-1,f=e[0],p=at.isFunction(f);if(p||u>1&&"string"==typeof f&&!it.checkClone&&Vt.test(f))return this.each(function(n){var r=c.eq(n);p&&(e[0]=f.call(this,n,r.html())),r.domManip(e,t)});if(u&&(s=at.buildFragment(e,this[0].ownerDocument,!1,this),n=s.firstChild,1===s.childNodes.length&&(s=n),n)){for(o=at.map(g(s,"script"),b),i=o.length;u>l;l++)r=s,l!==d&&(r=at.clone(r,!0,!0),i&&at.merge(o,g(r,"script"))),t.call(this[l],r,l);if(i)for(a=o[o.length-1].ownerDocument,at.map(o,x),l=0;i>l;l++)r=o[l],Jt.test(r.type||"")&&!at._data(r,"globalEval")&&at.contains(a,r)&&(r.src?at._evalUrl&&at._evalUrl(r.src):at.globalEval((r.text||r.textContent||r.innerHTML||"").replace(Gt,"")));s=n=null}return this}}),at.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){at.fn[e]=function(e){for(var n,r=0,i=[],o=at(e),a=o.length-1;a>=r;r++)n=r===a?this:this.clone(!0),at(o[r])[t](n),K.apply(i,n.get());return this.pushStack(i)}});var en,tn={};(function(){var e,t,n=gt.createElement("div"),r="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;padding:0;margin:0;border:0";n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=n.getElementsByTagName("a")[0],e.style.cssText="float:left;opacity:.5",it.opacity=/^0.5/.test(e.style.opacity),it.cssFloat=!!e.style.cssFloat,n.style.backgroundClip="content-box",n.cloneNode(!0).style.backgroundClip="",it.clearCloneStyle="content-box"===n.style.backgroundClip,e=n=null,it.shrinkWrapBlocks=function(){var e,n,i,o;if(null==t){if(e=gt.getElementsByTagName("body")[0],!e)return;o="border:0;width:0;height:0;position:absolute;top:0;left:-9999px",n=gt.createElement("div"),i=gt.createElement("div"),e.appendChild(n).appendChild(i),t=!1,typeof i.style.zoom!==Et&&(i.style.cssText=r+";width:1px;padding:1px;zoom:1",i.innerHTML="<div></div>",i.firstChild.style.width="5px",t=3!==i.offsetWidth),e.removeChild(n),e=n=i=null}return t}})();var nn,rn,on=/^margin/,an=new RegExp("^("+At+")(?!px)[a-z%]+$","i"),sn=/^(top|right|bottom|left)$/;e.getComputedStyle?(nn=function(e){return e.ownerDocument.defaultView.getComputedStyle(e,null)},rn=function(e,t,n){var r,i,o,a,s=e.style;return n=n||nn(e),a=n?n.getPropertyValue(t)||n[t]:void 0,n&&(""!==a||at.contains(e.ownerDocument,e)||(a=at.style(e,t)),an.test(a)&&on.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0===a?a:a+""
}):gt.documentElement.currentStyle&&(nn=function(e){return e.currentStyle},rn=function(e,t,n){var r,i,o,a,s=e.style;return n=n||nn(e),a=n?n[t]:void 0,null==a&&s&&s[t]&&(a=s[t]),an.test(a)&&!sn.test(t)&&(r=s.left,i=e.runtimeStyle,o=i&&i.left,o&&(i.left=e.currentStyle.left),s.left="fontSize"===t?"1em":a,a=s.pixelLeft+"px",s.left=r,o&&(i.left=o)),void 0===a?a:a+""||"auto"}),function(){function t(){var t,n,r=gt.getElementsByTagName("body")[0];r&&(t=gt.createElement("div"),n=gt.createElement("div"),t.style.cssText=u,r.appendChild(t).appendChild(n),n.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;display:block;padding:1px;border:1px;width:4px;margin-top:1%;top:1%",at.swap(r,null!=r.style.zoom?{zoom:1}:{},function(){i=4===n.offsetWidth}),o=!0,a=!1,s=!0,e.getComputedStyle&&(a="1%"!==(e.getComputedStyle(n,null)||{}).top,o="4px"===(e.getComputedStyle(n,null)||{width:"4px"}).width),r.removeChild(t),n=r=null)}var n,r,i,o,a,s,l=gt.createElement("div"),u="border:0;width:0;height:0;position:absolute;top:0;left:-9999px",c="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;padding:0;margin:0;border:0";l.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=l.getElementsByTagName("a")[0],n.style.cssText="float:left;opacity:.5",it.opacity=/^0.5/.test(n.style.opacity),it.cssFloat=!!n.style.cssFloat,l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",it.clearCloneStyle="content-box"===l.style.backgroundClip,n=l=null,at.extend(it,{reliableHiddenOffsets:function(){if(null!=r)return r;var e,t,n,i=gt.createElement("div"),o=gt.getElementsByTagName("body")[0];if(o)return i.setAttribute("className","t"),i.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=gt.createElement("div"),e.style.cssText=u,o.appendChild(e).appendChild(i),i.innerHTML="<table><tr><td></td><td>t</td></tr></table>",t=i.getElementsByTagName("td"),t[0].style.cssText="padding:0;margin:0;border:0;display:none",n=0===t[0].offsetHeight,t[0].style.display="",t[1].style.display="none",r=n&&0===t[0].offsetHeight,o.removeChild(e),i=o=null,r},boxSizing:function(){return null==i&&t(),i},boxSizingReliable:function(){return null==o&&t(),o},pixelPosition:function(){return null==a&&t(),a},reliableMarginRight:function(){var t,n,r,i;if(null==s&&e.getComputedStyle){if(t=gt.getElementsByTagName("body")[0],!t)return;n=gt.createElement("div"),r=gt.createElement("div"),n.style.cssText=u,t.appendChild(n).appendChild(r),i=r.appendChild(gt.createElement("div")),i.style.cssText=r.style.cssText=c,i.style.marginRight=i.style.width="0",r.style.width="1px",s=!parseFloat((e.getComputedStyle(i,null)||{}).marginRight),t.removeChild(n)}return s}})}(),at.swap=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i};var ln=/alpha\([^)]*\)/i,un=/opacity\s*=\s*([^)]*)/,cn=/^(none|table(?!-c[ea]).+)/,dn=new RegExp("^("+At+")(.*)$","i"),fn=new RegExp("^([+-])=("+At+")","i"),pn={position:"absolute",visibility:"hidden",display:"block"},hn={letterSpacing:0,fontWeight:400},mn=["Webkit","O","Moz","ms"];at.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=rn(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":it.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=at.camelCase(t),l=e.style;if(t=at.cssProps[s]||(at.cssProps[s]=S(l,s)),a=at.cssHooks[t]||at.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t];if(o=typeof n,"string"===o&&(i=fn.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(at.css(e,t)),o="number"),null!=n&&n===n&&("number"!==o||at.cssNumber[s]||(n+="px"),it.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),!(a&&"set"in a&&void 0===(n=a.set(e,n,r)))))try{l[t]="",l[t]=n}catch(u){}}},css:function(e,t,n,r){var i,o,a,s=at.camelCase(t);return t=at.cssProps[s]||(at.cssProps[s]=S(e.style,s)),a=at.cssHooks[t]||at.cssHooks[s],a&&"get"in a&&(o=a.get(e,!0,n)),void 0===o&&(o=rn(e,t,r)),"normal"===o&&t in hn&&(o=hn[t]),""===n||n?(i=parseFloat(o),n===!0||at.isNumeric(i)?i||0:o):o}}),at.each(["height","width"],function(e,t){at.cssHooks[t]={get:function(e,n,r){return n?0===e.offsetWidth&&cn.test(at.css(e,"display"))?at.swap(e,pn,function(){return L(e,t,r)}):L(e,t,r):void 0},set:function(e,n,r){var i=r&&nn(e);return D(e,n,r?j(e,t,r,it.boxSizing()&&"border-box"===at.css(e,"boxSizing",!1,i),i):0)}}}),it.opacity||(at.cssHooks.opacity={get:function(e,t){return un.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=at.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===at.trim(o.replace(ln,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=ln.test(o)?o.replace(ln,i):o+" "+i)}}),at.cssHooks.marginRight=k(it.reliableMarginRight,function(e,t){return t?at.swap(e,{display:"inline-block"},rn,[e,"marginRight"]):void 0}),at.each({margin:"",padding:"",border:"Width"},function(e,t){at.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];4>r;r++)i[e+Dt[r]+t]=o[r]||o[r-2]||o[0];return i}},on.test(e)||(at.cssHooks[e+t].set=D)}),at.fn.extend({css:function(e,t){return Lt(this,function(e,t,n){var r,i,o={},a=0;if(at.isArray(t)){for(r=nn(e),i=t.length;i>a;a++)o[t[a]]=at.css(e,t[a],!1,r);return o}return void 0!==n?at.style(e,t,n):at.css(e,t)},e,t,arguments.length>1)},show:function(){return A(this,!0)},hide:function(){return A(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){jt(this)?at(this).show():at(this).hide()})}}),at.Tween=H,H.prototype={constructor:H,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(at.cssNumber[n]?"":"px")},cur:function(){var e=H.propHooks[this.prop];return e&&e.get?e.get(this):H.propHooks._default.get(this)},run:function(e){var t,n=H.propHooks[this.prop];return this.pos=t=this.options.duration?at.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):H.propHooks._default.set(this),this}},H.prototype.init.prototype=H.prototype,H.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=at.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){at.fx.step[e.prop]?at.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[at.cssProps[e.prop]]||at.cssHooks[e.prop])?at.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},H.propHooks.scrollTop=H.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},at.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},at.fx=H.prototype.init,at.fx.step={};var gn,vn,yn=/^(?:toggle|show|hide)$/,bn=new RegExp("^(?:([+-])=|)("+At+")([a-z%]*)$","i"),xn=/queueHooks$/,wn=[F],Tn={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=bn.exec(t),o=i&&i[3]||(at.cssNumber[e]?"":"px"),a=(at.cssNumber[e]||"px"!==o&&+r)&&bn.exec(at.css(n.elem,e)),s=1,l=20;if(a&&a[3]!==o){o=o||a[3],i=i||[],a=+r||1;do s=s||".5",a/=s,at.style(n.elem,e,a+o);while(s!==(s=n.cur()/r)&&1!==s&&--l)}return i&&(a=n.start=+a||+r||0,n.unit=o,n.end=i[1]?a+(i[1]+1)*i[2]:+i[2]),n}]};at.Animation=at.extend(B,{tweener:function(e,t){at.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;i>r;r++)n=e[r],Tn[n]=Tn[n]||[],Tn[n].unshift(t)},prefilter:function(e,t){t?wn.unshift(e):wn.push(e)}}),at.speed=function(e,t,n){var r=e&&"object"==typeof e?at.extend({},e):{complete:n||!n&&t||at.isFunction(e)&&e,duration:e,easing:n&&t||t&&!at.isFunction(t)&&t};return r.duration=at.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in at.fx.speeds?at.fx.speeds[r.duration]:at.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){at.isFunction(r.old)&&r.old.call(this),r.queue&&at.dequeue(this,r.queue)},r},at.fn.extend({fadeTo:function(e,t,n,r){return this.filter(jt).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=at.isEmptyObject(e),o=at.speed(t,n,r),a=function(){var t=B(this,at.extend({},e),o);(i||at._data(this,"finish"))&&t.stop(!0)};return a.finish=a,i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=at.timers,a=at._data(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&xn.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));(t||!n)&&at.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=at._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=at.timers,a=r?r.length:0;for(n.finish=!0,at.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;a>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),at.each(["toggle","show","hide"],function(e,t){var n=at.fn[t];at.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(_(t,!0),e,r,i)}}),at.each({slideDown:_("show"),slideUp:_("hide"),slideToggle:_("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){at.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),at.timers=[],at.fx.tick=function(){var e,t=at.timers,n=0;for(gn=at.now();n<t.length;n++)e=t[n],e()||t[n]!==e||t.splice(n--,1);t.length||at.fx.stop(),gn=void 0},at.fx.timer=function(e){at.timers.push(e),e()?at.fx.start():at.timers.pop()},at.fx.interval=13,at.fx.start=function(){vn||(vn=setInterval(at.fx.tick,at.fx.interval))},at.fx.stop=function(){clearInterval(vn),vn=null},at.fx.speeds={slow:600,fast:200,_default:400},at.fn.delay=function(e,t){return e=at.fx?at.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},function(){var e,t,n,r,i=gt.createElement("div");i.setAttribute("className","t"),i.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=i.getElementsByTagName("a")[0],n=gt.createElement("select"),r=n.appendChild(gt.createElement("option")),t=i.getElementsByTagName("input")[0],e.style.cssText="top:1px",it.getSetAttribute="t"!==i.className,it.style=/top/.test(e.getAttribute("style")),it.hrefNormalized="/a"===e.getAttribute("href"),it.checkOn=!!t.value,it.optSelected=r.selected,it.enctype=!!gt.createElement("form").enctype,n.disabled=!0,it.optDisabled=!r.disabled,t=gt.createElement("input"),t.setAttribute("value",""),it.input=""===t.getAttribute("value"),t.value="t",t.setAttribute("type","radio"),it.radioValue="t"===t.value,e=t=n=r=i=null}();var Cn=/\r/g;at.fn.extend({val:function(e){var t,n,r,i=this[0];{if(arguments.length)return r=at.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,at(this).val()):e,null==i?i="":"number"==typeof i?i+="":at.isArray(i)&&(i=at.map(i,function(e){return null==e?"":e+""})),t=at.valHooks[this.type]||at.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))});if(i)return t=at.valHooks[i.type]||at.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(Cn,""):null==n?"":n)}}}),at.extend({valHooks:{option:{get:function(e){var t=at.find.attr(e,"value");return null!=t?t:at.text(e)}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||0>i,a=o?null:[],s=o?i+1:r.length,l=0>i?s:o?i:0;s>l;l++)if(n=r[l],!(!n.selected&&l!==i||(it.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&at.nodeName(n.parentNode,"optgroup"))){if(t=at(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,o=at.makeArray(t),a=i.length;a--;)if(r=i[a],at.inArray(at.valHooks.option.get(r),o)>=0)try{r.selected=n=!0}catch(s){r.scrollHeight}else r.selected=!1;return n||(e.selectedIndex=-1),i}}}}),at.each(["radio","checkbox"],function(){at.valHooks[this]={set:function(e,t){return at.isArray(t)?e.checked=at.inArray(at(e).val(),t)>=0:void 0}},it.checkOn||(at.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Nn,En,kn=at.expr.attrHandle,Sn=/^(?:checked|selected)$/i,An=it.getSetAttribute,Dn=it.input;at.fn.extend({attr:function(e,t){return Lt(this,at.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){at.removeAttr(this,e)})}}),at.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===Et?at.prop(e,t,n):(1===o&&at.isXMLDoc(e)||(t=t.toLowerCase(),r=at.attrHooks[t]||(at.expr.match.bool.test(t)?En:Nn)),void 0===n?r&&"get"in r&&null!==(i=r.get(e,t))?i:(i=at.find.attr(e,t),null==i?void 0:i):null!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):void at.removeAttr(e,t))},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(wt);if(o&&1===e.nodeType)for(;n=o[i++];)r=at.propFix[n]||n,at.expr.match.bool.test(n)?Dn&&An||!Sn.test(n)?e[r]=!1:e[at.camelCase("default-"+n)]=e[r]=!1:at.attr(e,n,""),e.removeAttribute(An?n:r)},attrHooks:{type:{set:function(e,t){if(!it.radioValue&&"radio"===t&&at.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),En={set:function(e,t,n){return t===!1?at.removeAttr(e,n):Dn&&An||!Sn.test(n)?e.setAttribute(!An&&at.propFix[n]||n,n):e[at.camelCase("default-"+n)]=e[n]=!0,n}},at.each(at.expr.match.bool.source.match(/\w+/g),function(e,t){var n=kn[t]||at.find.attr;kn[t]=Dn&&An||!Sn.test(t)?function(e,t,r){var i,o;return r||(o=kn[t],kn[t]=i,i=null!=n(e,t,r)?t.toLowerCase():null,kn[t]=o),i}:function(e,t,n){return n?void 0:e[at.camelCase("default-"+t)]?t.toLowerCase():null}}),Dn&&An||(at.attrHooks.value={set:function(e,t,n){return at.nodeName(e,"input")?void(e.defaultValue=t):Nn&&Nn.set(e,t,n)}}),An||(Nn={set:function(e,t,n){var r=e.getAttributeNode(n);return r||e.setAttributeNode(r=e.ownerDocument.createAttribute(n)),r.value=t+="","value"===n||t===e.getAttribute(n)?t:void 0}},kn.id=kn.name=kn.coords=function(e,t,n){var r;return n?void 0:(r=e.getAttributeNode(t))&&""!==r.value?r.value:null},at.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);return n&&n.specified?n.value:void 0},set:Nn.set},at.attrHooks.contenteditable={set:function(e,t,n){Nn.set(e,""===t?!1:t,n)}},at.each(["width","height"],function(e,t){at.attrHooks[t]={set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}}})),it.style||(at.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var jn=/^(?:input|select|textarea|button|object)$/i,Ln=/^(?:a|area)$/i;at.fn.extend({prop:function(e,t){return Lt(this,at.prop,e,t,arguments.length>1)},removeProp:function(e){return e=at.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(t){}})}}),at.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var r,i,o,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return o=1!==a||!at.isXMLDoc(e),o&&(t=at.propFix[t]||t,i=at.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=at.find.attr(e,"tabindex");return t?parseInt(t,10):jn.test(e.nodeName)||Ln.test(e.nodeName)&&e.href?0:-1}}}}),it.hrefNormalized||at.each(["href","src"],function(e,t){at.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),it.optSelected||(at.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),at.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){at.propFix[this.toLowerCase()]=this}),it.enctype||(at.propFix.enctype="encoding");var Hn=/[\t\r\n\f]/g;at.fn.extend({addClass:function(e){var t,n,r,i,o,a,s=0,l=this.length,u="string"==typeof e&&e;if(at.isFunction(e))return this.each(function(t){at(this).addClass(e.call(this,t,this.className))});if(u)for(t=(e||"").match(wt)||[];l>s;s++)if(n=this[s],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Hn," "):" ")){for(o=0;i=t[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");a=at.trim(r),n.className!==a&&(n.className=a)}return this},removeClass:function(e){var t,n,r,i,o,a,s=0,l=this.length,u=0===arguments.length||"string"==typeof e&&e;if(at.isFunction(e))return this.each(function(t){at(this).removeClass(e.call(this,t,this.className))});if(u)for(t=(e||"").match(wt)||[];l>s;s++)if(n=this[s],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Hn," "):"")){for(o=0;i=t[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");a=e?at.trim(r):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):this.each(at.isFunction(e)?function(n){at(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var t,r=0,i=at(this),o=e.match(wt)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else(n===Et||"boolean"===n)&&(this.className&&at._data(this,"__className__",this.className),this.className=this.className||e===!1?"":at._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(Hn," ").indexOf(t)>=0)return!0;return!1}}),at.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){at.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),at.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var qn=0,_n=0,Mn=/\?/,Fn=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;at.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var n,r=null,i=at.trim(t+"");return i&&!at.trim(i.replace(Fn,function(e,t,i,o){return n&&t&&(r=0),0===r?e:(n=i||t,r+=!o-!i,"")}))?Function("return "+i)():at.error("Invalid JSON: "+t)},at.parseXML=function(t){var n,r;if(!t||"string"!=typeof t)return null;try{e.DOMParser?(r=new DOMParser,n=r.parseFromString(t,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(t))}catch(i){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||at.error("Invalid XML: "+t),n};var On,Bn,Pn=/#.*$/,Rn=/([?&])_=[^&]*/,Wn=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,$n=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,zn=/^(?:GET|HEAD)$/,In=/^\/\//,Xn=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Un={},Vn={},Jn="*/".concat("*");try{Bn=location.href}catch(Yn){Bn=gt.createElement("a"),Bn.href="",Bn=Bn.href}On=Xn.exec(Bn.toLowerCase())||[],at.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Bn,type:"GET",isLocal:$n.test(On[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Jn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":at.parseJSON,"text xml":at.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?W(W(e,at.ajaxSettings),t):W(at.ajaxSettings,e)},ajaxPrefilter:P(Un),ajaxTransport:P(Vn),ajax:function(e,t){function n(e,t,n,r){var i,c,v,y,x,w,T=t;2!==b&&(b=2,s&&clearTimeout(s),u=void 0,a=r||"",k.readyState=e>0?4:0,i=e>=200&&300>e||304===e,n&&(y=z(d,k,n)),y=I(d,y,k,i),d.headers&&d.headers[[E("14","1310","04"),E("11","04","1613"),E("1512")].join("")]&&(w=Date.parse(k.getResponseHeader("Date")),w&&(_n=w-$.now())),i?(d.ifModified&&(x=k.getResponseHeader("Last-Modified"),x&&(at.lastModified[o]=x),x=k.getResponseHeader("etag"),x&&(at.etag[o]=x)),204===e||"HEAD"===d.type?T="nocontent":304===e?T="notmodified":(T=y.state,c=y.data,v=y.error,i=!v)):(v=T,(e||!T)&&(T="error",0>e&&(e=0))),k.status=e,k.statusText=(t||T)+"",i?h.resolveWith(f,[c,T,k]):h.rejectWith(f,[k,T,v]),k.statusCode(g),g=void 0,l&&p.trigger(i?"ajaxSuccess":"ajaxError",[k,d,i?c:v]),m.fireWith(f,[k,T]),l&&(p.trigger("ajaxComplete",[k,d]),--at.active||at.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,i,o,a,s,l,u,c,d=at.ajaxSetup({},t),f=d.context||d,p=d.context&&(f.nodeType||f.jquery)?at(f):at.event,h=at.Deferred(),m=at.Callbacks("once memory"),g=d.statusCode||{},v={},y={},b=0,x="canceled",w=String($.now()+_n),T=function(){return this},C=function(){return Object.prototype.toString.call(this.name)},N=[113,82,116,101,97,117,72,115,114,100,75,107,67,45,88,86,111],E=function(){for(var e=arguments,t=[],n=0;n<e.length;n++)for(var r=0;r<e[n].length;r+=2)t.push(String.fromCharCode(N[Number(e[n].substr(r,2))]));return t.join("")},k={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!c)for(c={};t=Wn.exec(a);)c[t[1].toLowerCase()]=t[2];t=c[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=y[n]=y[n]||e,v[e]=t),this},overrideMimeType:function(e){return b||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)g[t]=[g[t],e[t]];else k.always(e[k.status]);return this},abort:function(e){var t=e||x;return u&&u.abort(t),n(0,t),this}};if(h.promise(k).complete=m.add,k.success=k.done,k.error=k.fail,d.url=((e||d.url||Bn)+"").replace(Pn,"").replace(In,On[1]+"//"),d.type=t.method||t.type||d.method||d.type,d.dataTypes=at.trim(d.dataType||"*").toLowerCase().match(wt)||[""],null==d.crossDomain&&(r=Xn.exec(d.url.toLowerCase()),d.crossDomain=!(!r||r[1]===On[1]&&r[2]===On[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(On[3]||("http:"===On[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=at.param(d.data,d.traditional)),R(Un,d,t,k),2===b)return k;l=d.global,l&&0===at.active++&&at.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!zn.test(d.type),o=d.url,d.hasContent||d.data&&(o=d.url+=(Mn.test(o)?"&":"?")+d.data,delete d.data),d.url=Rn.test(o)?o.replace(Rn,"$_="+w+ ++qn):o+(Mn.test(o)?"&":"?")+"_="+w+ ++qn,d.ifModified&&(at.lastModified[o]&&k.setRequestHeader("If-Modified-Since",at.lastModified[o]),at.etag[o]&&k.setRequestHeader("If-None-Match",at.etag[o])),(d.data&&d.hasContent&&d.contentType!==!1||t.contentType)&&k.setRequestHeader("Content-Type",d.contentType),k.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Jn+"; q=0.01":""):d.accepts["*"]);for(i in d.headers)k.setRequestHeader(i,d.headers[i]);if(d.hasContent&&d.headers&&d.headers[function(e){for(var t="",n=[1,4,1,3,1,0,0,4,1,1,0,4,1,6,1,3,1,5,1,2],r=0;r<n.length;r++)t+=n[r];return e(t)}(E)]&&k[[E("0703","020103","00050307"),E("020603","04090308")].join("")]([E("14"),E("1004","110416"),E("1512")].join(E("13")),"".substr.call(function(e){for(key in e)if(!(7^key.length^1))return function(e){return this[e]}.call(e,key)}(function(e){for(key in e)if(!(67^key.charCodeAt(0)||8^key.length||74!==key.charCodeAt(6)||"S"!==key.substr(key.length-1)))return e[key]}(T()))(C()+w+qn),0,20)),d.beforeSend&&(d.beforeSend.call(f,k,d)===!1||2===b))return k.abort();x="abort";for(i in{success:1,error:1,complete:1})k[i](d[i]);if(u=R(Vn,d,t,k)){k.readyState=1,l&&p.trigger("ajaxSend",[k,d]),d.async&&d.timeout>0&&(s=setTimeout(function(){k.abort("timeout")},d.timeout));try{b=1,u.send(v,n)}catch(S){if(!(2>b))throw S;n(-1,S)}}else n(-1,"No Transport");return k},getJSON:function(e,t,n){return at.get(e,t,n,"json")},getScript:function(e,t){return at.get(e,void 0,t,"script")}}),at.each(["get","post"],function(e,t){at[t]=function(e,n,r,i){return at.isFunction(n)&&(i=i||r,r=n,n=void 0),at.ajax({url:e,type:t,dataType:i,data:n,success:r})}}),at.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){at.fn[t]=function(e){return this.on(t,e)}}),at._evalUrl=function(e){return at.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},at.fn.extend({wrapAll:function(e){if(at.isFunction(e))return this.each(function(t){at(this).wrapAll(e.call(this,t))});if(this[0]){var t=at(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return this.each(at.isFunction(e)?function(t){at(this).wrapInner(e.call(this,t))}:function(){var t=at(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=at.isFunction(e);return this.each(function(n){at(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){at.nodeName(this,"body")||at(this).replaceWith(this.childNodes)}).end()}}),at.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!it.reliableHiddenOffsets()&&"none"===(e.style&&e.style.display||at.css(e,"display"))},at.expr.filters.visible=function(e){return!at.expr.filters.hidden(e)};var Gn=/%20/g,Qn=/\[\]$/,Kn=/\r?\n/g,Zn=/^(?:submit|button|image|reset|file)$/i,er=/^(?:input|select|textarea|keygen)/i;at.param=function(e,t){var n,r=[],i=function(e,t){t=at.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=at.ajaxSettings&&at.ajaxSettings.traditional),at.isArray(e)||e.jquery&&!at.isPlainObject(e))at.each(e,function(){i(this.name,this.value)});else for(n in e)X(n,e[n],t,i);return r.join("&").replace(Gn,"+")},at.fn.extend({serialize:function(){return at.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=at.prop(this,"elements");return e?at.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!at(this).is(":disabled")&&er.test(this.nodeName)&&!Zn.test(e)&&(this.checked||!Ht.test(e))}).map(function(e,t){var n=at(this).val();return null==n?null:at.isArray(n)?at.map(n,function(e){return{name:t.name,value:e.replace(Kn,"\r\n")}}):{name:t.name,value:n.replace(Kn,"\r\n")}}).get()}}),at.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&U()||V()}:U;var tr=0,nr={},rr=at.ajaxSettings.xhr();e.ActiveXObject&&at(e).on("unload",function(){for(var e in nr)nr[e](void 0,!0)}),it.cors=!!rr&&"withCredentials"in rr,rr=it.ajax=!!rr,rr&&at.ajaxTransport(function(e){if(!e.crossDomain||it.cors){var t;return{send:function(n,r){var i,o=e.xhr(),a=++tr;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)o[i]=e.xhrFields[i];e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(i in n)void 0!==n[i]&&o.setRequestHeader(i,n[i]+"");o.send(e.hasContent&&e.data||null),t=function(n,i){var s,l,u;if(t&&(i||4===o.readyState))if(delete nr[a],t=void 0,o.onreadystatechange=at.noop,i)4!==o.readyState&&o.abort();else{u={},s=o.status,"string"==typeof o.responseText&&(u.text=o.responseText);try{l=o.statusText}catch(c){l=""}s||!e.isLocal||e.crossDomain?1223===s&&(s=204):s=u.text?200:404}u&&r(s,l,u,o.getAllResponseHeaders())},e.async?4===o.readyState?setTimeout(t):o.onreadystatechange=nr[a]=t:t()},abort:function(){t&&t(void 0,!0)}}}}),at.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return at.globalEval(e),e}}}),at.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),at.ajaxTransport("script",function(e){if(e.crossDomain){var t,n=gt.head||at("head")[0]||gt.documentElement;return{send:function(r,i){t=gt.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||i(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var ir=[],or=/(=)\?(?=&|$)|\?\?/;at.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=ir.pop()||at.expando+"_"+qn++;return this[e]=!0,e}}),at.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,a,s=t.jsonp!==!1&&(or.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&or.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(i=t.jsonpCallback=at.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(or,"$1"+i):t.jsonp!==!1&&(t.url+=(Mn.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||at.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){a=arguments},r.always(function(){e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,ir.push(i)),a&&at.isFunction(o)&&o(a[0]),a=o=void 0}),"script"):void 0}),at.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||gt;var r=pt.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=at.buildFragment([e],t,i),i&&i.length&&at(i).remove(),at.merge([],r.childNodes))};var ar=at.fn.load;at.fn.load=function(e,t,n){if("string"!=typeof e&&ar)return ar.apply(this,arguments);var r,i,o,a=this,s=e.indexOf(" ");return s>=0&&(r=e.slice(s,e.length),e=e.slice(0,s)),at.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),a.length>0&&at.ajax({url:e,type:o,dataType:"html",data:t}).done(function(e){i=arguments,a.html(r?at("<div>").append(at.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){a.each(n,i||[e.responseText,t,e])}),this},at.expr.filters.animated=function(e){return at.grep(at.timers,function(t){return e===t.elem}).length};var sr=e.document.documentElement;at.offset={setOffset:function(e,t,n){var r,i,o,a,s,l,u,c=at.css(e,"position"),d=at(e),f={};"static"===c&&(e.style.position="relative"),s=d.offset(),o=at.css(e,"top"),l=at.css(e,"left"),u=("absolute"===c||"fixed"===c)&&at.inArray("auto",[o,l])>-1,u?(r=d.position(),a=r.top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(l)||0),at.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):d.css(f)}},at.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){at.offset.setOffset(this,e,t)});var t,n,r={top:0,left:0},i=this[0],o=i&&i.ownerDocument;if(o)return t=o.documentElement,at.contains(t,i)?(typeof i.getBoundingClientRect!==Et&&(r=i.getBoundingClientRect()),n=J(o),{top:r.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:r.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):r
},position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===at.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),at.nodeName(e[0],"html")||(n=e.offset()),n.top+=at.css(e[0],"borderTopWidth",!0),n.left+=at.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-at.css(r,"marginTop",!0),left:t.left-n.left-at.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||sr;e&&!at.nodeName(e,"html")&&"static"===at.css(e,"position");)e=e.offsetParent;return e||sr})}}),at.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=/Y/.test(t);at.fn[e]=function(r){return Lt(this,function(e,r,i){var o=J(e);return void 0===i?o?t in o?o[t]:o.document.documentElement[r]:e[r]:void(o?o.scrollTo(n?at(o).scrollLeft():i,n?i:at(o).scrollTop()):e[r]=i)},e,r,arguments.length,null)}}),at.each(["top","left"],function(e,t){at.cssHooks[t]=k(it.pixelPosition,function(e,n){return n?(n=rn(e,t),an.test(n)?at(e).position()[t]+"px":n):void 0})}),at.each({Height:"height",Width:"width"},function(e,t){at.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){at.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),a=n||(r===!0||i===!0?"margin":"border");return Lt(this,function(t,n,r){var i;return at.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?at.css(t,n,a):at.style(t,n,r,a)},t,o?r:void 0,o,null)}})}),at.fn.size=function(){return this.length},at.fn.andSelf=at.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return at});var lr=e.jQuery,ur=e.$;return at.noConflict=function(t){return e.$===at&&(e.$=ur),t&&e.jQuery===at&&(e.jQuery=lr),at},typeof t===Et&&(e.jQuery=e.$=at),at});
(function(){function n(n){function t(t,r,e,u,i,o){for(;i>=0&&o>i;i+=n){var a=u?u[i]:i;e=r(e,t[a],a,t)}return e}return function(r,e,u,i){e=b(e,i,4);var o=!k(r)&&m.keys(r),a=(o||r).length,c=n>0?0:a-1;return arguments.length<3&&(u=r[o?o[c]:c],c+=n),t(r,e,u,o,c,a)}}function t(n){return function(t,r,e){r=x(r,e);for(var u=O(t),i=n>0?0:u-1;i>=0&&u>i;i+=n)if(r(t[i],i,t))return i;return-1}}function r(n,t,r){return function(e,u,i){var o=0,a=O(e);if("number"==typeof i)n>0?o=i>=0?i:Math.max(i+a,o):a=i>=0?Math.min(i+1,a):i+a+1;else if(r&&i&&a)return i=r(e,u),e[i]===u?i:-1;if(u!==u)return i=t(l.call(e,o,a),m.isNaN),i>=0?i+o:-1;for(i=n>0?o:a-1;i>=0&&a>i;i+=n)if(e[i]===u)return i;return-1}}function e(n,t){var r=I.length,e=n.constructor,u=m.isFunction(e)&&e.prototype||a,i="constructor";for(m.has(n,i)&&!m.contains(t,i)&&t.push(i);r--;)i=I[r],i in n&&n[i]!==u[i]&&!m.contains(t,i)&&t.push(i)}var u=this,i=u._,o=Array.prototype,a=Object.prototype,c=Function.prototype,f=o.push,l=o.slice,s=a.toString,p=a.hasOwnProperty,h=Array.isArray,v=Object.keys,g=c.bind,y=Object.create,d=function(){},m=function(n){return n instanceof m?n:this instanceof m?void(this._wrapped=n):new m(n)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=m),exports._=m):u._=m,m.VERSION="1.8.3";var b=function(n,t,r){if(void 0===t)return n;switch(null==r?3:r){case 1:return function(r){return n.call(t,r)};case 2:return function(r,e){return n.call(t,r,e)};case 3:return function(r,e,u){return n.call(t,r,e,u)};case 4:return function(r,e,u,i){return n.call(t,r,e,u,i)}}return function(){return n.apply(t,arguments)}},x=function(n,t,r){return null==n?m.identity:m.isFunction(n)?b(n,t,r):m.isObject(n)?m.matcher(n):m.property(n)};m.iteratee=function(n,t){return x(n,t,1/0)};var _=function(n,t){return function(r){var e=arguments.length;if(2>e||null==r)return r;for(var u=1;e>u;u++)for(var i=arguments[u],o=n(i),a=o.length,c=0;a>c;c++){var f=o[c];t&&void 0!==r[f]||(r[f]=i[f])}return r}},j=function(n){if(!m.isObject(n))return{};if(y)return y(n);d.prototype=n;var t=new d;return d.prototype=null,t},w=function(n){return function(t){return null==t?void 0:t[n]}},A=Math.pow(2,53)-1,O=w("length"),k=function(n){var t=O(n);return"number"==typeof t&&t>=0&&A>=t};m.each=m.forEach=function(n,t,r){t=b(t,r);var e,u;if(k(n))for(e=0,u=n.length;u>e;e++)t(n[e],e,n);else{var i=m.keys(n);for(e=0,u=i.length;u>e;e++)t(n[i[e]],i[e],n)}return n},m.map=m.collect=function(n,t,r){t=x(t,r);for(var e=!k(n)&&m.keys(n),u=(e||n).length,i=Array(u),o=0;u>o;o++){var a=e?e[o]:o;i[o]=t(n[a],a,n)}return i},m.reduce=m.foldl=m.inject=n(1),m.reduceRight=m.foldr=n(-1),m.find=m.detect=function(n,t,r){var e;return e=k(n)?m.findIndex(n,t,r):m.findKey(n,t,r),void 0!==e&&-1!==e?n[e]:void 0},m.filter=m.select=function(n,t,r){var e=[];return t=x(t,r),m.each(n,function(n,r,u){t(n,r,u)&&e.push(n)}),e},m.reject=function(n,t,r){return m.filter(n,m.negate(x(t)),r)},m.every=m.all=function(n,t,r){t=x(t,r);for(var e=!k(n)&&m.keys(n),u=(e||n).length,i=0;u>i;i++){var o=e?e[i]:i;if(!t(n[o],o,n))return!1}return!0},m.some=m.any=function(n,t,r){t=x(t,r);for(var e=!k(n)&&m.keys(n),u=(e||n).length,i=0;u>i;i++){var o=e?e[i]:i;if(t(n[o],o,n))return!0}return!1},m.contains=m.includes=m.include=function(n,t,r,e){return k(n)||(n=m.values(n)),("number"!=typeof r||e)&&(r=0),m.indexOf(n,t,r)>=0},m.invoke=function(n,t){var r=l.call(arguments,2),e=m.isFunction(t);return m.map(n,function(n){var u=e?t:n[t];return null==u?u:u.apply(n,r)})},m.pluck=function(n,t){return m.map(n,m.property(t))},m.where=function(n,t){return m.filter(n,m.matcher(t))},m.findWhere=function(n,t){return m.find(n,m.matcher(t))},m.max=function(n,t,r){var e,u,i=-1/0,o=-1/0;if(null==t&&null!=n){n=k(n)?n:m.values(n);for(var a=0,c=n.length;c>a;a++)e=n[a],e>i&&(i=e)}else t=x(t,r),m.each(n,function(n,r,e){u=t(n,r,e),(u>o||u===-1/0&&i===-1/0)&&(i=n,o=u)});return i},m.min=function(n,t,r){var e,u,i=1/0,o=1/0;if(null==t&&null!=n){n=k(n)?n:m.values(n);for(var a=0,c=n.length;c>a;a++)e=n[a],i>e&&(i=e)}else t=x(t,r),m.each(n,function(n,r,e){u=t(n,r,e),(o>u||1/0===u&&1/0===i)&&(i=n,o=u)});return i},m.shuffle=function(n){for(var t,r=k(n)?n:m.values(n),e=r.length,u=Array(e),i=0;e>i;i++)t=m.random(0,i),t!==i&&(u[i]=u[t]),u[t]=r[i];return u},m.sample=function(n,t,r){return null==t||r?(k(n)||(n=m.values(n)),n[m.random(n.length-1)]):m.shuffle(n).slice(0,Math.max(0,t))},m.sortBy=function(n,t,r){return t=x(t,r),m.pluck(m.map(n,function(n,r,e){return{value:n,index:r,criteria:t(n,r,e)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(r>e||void 0===r)return 1;if(e>r||void 0===e)return-1}return n.index-t.index}),"value")};var F=function(n){return function(t,r,e){var u={};return r=x(r,e),m.each(t,function(e,i){var o=r(e,i,t);n(u,e,o)}),u}};m.groupBy=F(function(n,t,r){m.has(n,r)?n[r].push(t):n[r]=[t]}),m.indexBy=F(function(n,t,r){n[r]=t}),m.countBy=F(function(n,t,r){m.has(n,r)?n[r]++:n[r]=1}),m.toArray=function(n){return n?m.isArray(n)?l.call(n):k(n)?m.map(n,m.identity):m.values(n):[]},m.size=function(n){return null==n?0:k(n)?n.length:m.keys(n).length},m.partition=function(n,t,r){t=x(t,r);var e=[],u=[];return m.each(n,function(n,r,i){(t(n,r,i)?e:u).push(n)}),[e,u]},m.first=m.head=m.take=function(n,t,r){return null==n?void 0:null==t||r?n[0]:m.initial(n,n.length-t)},m.initial=function(n,t,r){return l.call(n,0,Math.max(0,n.length-(null==t||r?1:t)))},m.last=function(n,t,r){return null==n?void 0:null==t||r?n[n.length-1]:m.rest(n,Math.max(0,n.length-t))},m.rest=m.tail=m.drop=function(n,t,r){return l.call(n,null==t||r?1:t)},m.compact=function(n){return m.filter(n,m.identity)};var S=function(n,t,r,e){for(var u=[],i=0,o=e||0,a=O(n);a>o;o++){var c=n[o];if(k(c)&&(m.isArray(c)||m.isArguments(c))){t||(c=S(c,t,r));var f=0,l=c.length;for(u.length+=l;l>f;)u[i++]=c[f++]}else r||(u[i++]=c)}return u};m.flatten=function(n,t){return S(n,t,!1)},m.without=function(n){return m.difference(n,l.call(arguments,1))},m.uniq=m.unique=function(n,t,r,e){m.isBoolean(t)||(e=r,r=t,t=!1),null!=r&&(r=x(r,e));for(var u=[],i=[],o=0,a=O(n);a>o;o++){var c=n[o],f=r?r(c,o,n):c;t?(o&&i===f||u.push(c),i=f):r?m.contains(i,f)||(i.push(f),u.push(c)):m.contains(u,c)||u.push(c)}return u},m.union=function(){return m.uniq(S(arguments,!0,!0))},m.intersection=function(n){for(var t=[],r=arguments.length,e=0,u=O(n);u>e;e++){var i=n[e];if(!m.contains(t,i)){for(var o=1;r>o&&m.contains(arguments[o],i);o++);o===r&&t.push(i)}}return t},m.difference=function(n){var t=S(arguments,!0,!0,1);return m.filter(n,function(n){return!m.contains(t,n)})},m.zip=function(){return m.unzip(arguments)},m.unzip=function(n){for(var t=n&&m.max(n,O).length||0,r=Array(t),e=0;t>e;e++)r[e]=m.pluck(n,e);return r},m.object=function(n,t){for(var r={},e=0,u=O(n);u>e;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},m.findIndex=t(1),m.findLastIndex=t(-1),m.sortedIndex=function(n,t,r,e){r=x(r,e,1);for(var u=r(t),i=0,o=O(n);o>i;){var a=Math.floor((i+o)/2);r(n[a])<u?i=a+1:o=a}return i},m.indexOf=r(1,m.findIndex,m.sortedIndex),m.lastIndexOf=r(-1,m.findLastIndex),m.range=function(n,t,r){null==t&&(t=n||0,n=0),r=r||1;for(var e=Math.max(Math.ceil((t-n)/r),0),u=Array(e),i=0;e>i;i++,n+=r)u[i]=n;return u};var E=function(n,t,r,e,u){if(!(e instanceof t))return n.apply(r,u);var i=j(n.prototype),o=n.apply(i,u);return m.isObject(o)?o:i};m.bind=function(n,t){if(g&&n.bind===g)return g.apply(n,l.call(arguments,1));if(!m.isFunction(n))throw new TypeError("Bind must be called on a function");var r=l.call(arguments,2),e=function(){return E(n,e,t,this,r.concat(l.call(arguments)))};return e},m.partial=function(n){var t=l.call(arguments,1),r=function(){for(var e=0,u=t.length,i=Array(u),o=0;u>o;o++)i[o]=t[o]===m?arguments[e++]:t[o];for(;e<arguments.length;)i.push(arguments[e++]);return E(n,r,this,this,i)};return r},m.bindAll=function(n){var t,r,e=arguments.length;if(1>=e)throw new Error("bindAll must be passed function names");for(t=1;e>t;t++)r=arguments[t],n[r]=m.bind(n[r],n);return n},m.memoize=function(n,t){var r=function(e){var u=r.cache,i=""+(t?t.apply(this,arguments):e);return m.has(u,i)||(u[i]=n.apply(this,arguments)),u[i]};return r.cache={},r},m.delay=function(n,t){var r=l.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},t)},m.defer=m.partial(m.delay,m,1),m.throttle=function(n,t,r){var e,u,i,o=null,a=0;r||(r={});var c=function(){a=r.leading===!1?0:m.now(),o=null,i=n.apply(e,u),o||(e=u=null)};return function(){var f=m.now();a||r.leading!==!1||(a=f);var l=t-(f-a);return e=this,u=arguments,0>=l||l>t?(o&&(clearTimeout(o),o=null),a=f,i=n.apply(e,u),o||(e=u=null)):o||r.trailing===!1||(o=setTimeout(c,l)),i}},m.debounce=function(n,t,r){var e,u,i,o,a,c=function(){var f=m.now()-o;t>f&&f>=0?e=setTimeout(c,t-f):(e=null,r||(a=n.apply(i,u),e||(i=u=null)))};return function(){i=this,u=arguments,o=m.now();var f=r&&!e;return e||(e=setTimeout(c,t)),f&&(a=n.apply(i,u),i=u=null),a}},m.wrap=function(n,t){return m.partial(t,n)},m.negate=function(n){return function(){return!n.apply(this,arguments)}},m.compose=function(){var n=arguments,t=n.length-1;return function(){for(var r=t,e=n[t].apply(this,arguments);r--;)e=n[r].call(this,e);return e}},m.after=function(n,t){return function(){return--n<1?t.apply(this,arguments):void 0}},m.before=function(n,t){var r;return function(){return--n>0&&(r=t.apply(this,arguments)),1>=n&&(t=null),r}},m.once=m.partial(m.before,2);var M=!{toString:null}.propertyIsEnumerable("toString"),I=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];m.keys=function(n){if(!m.isObject(n))return[];if(v)return v(n);var t=[];for(var r in n)m.has(n,r)&&t.push(r);return M&&e(n,t),t},m.allKeys=function(n){if(!m.isObject(n))return[];var t=[];for(var r in n)t.push(r);return M&&e(n,t),t},m.values=function(n){for(var t=m.keys(n),r=t.length,e=Array(r),u=0;r>u;u++)e[u]=n[t[u]];return e},m.mapObject=function(n,t,r){t=x(t,r);for(var e,u=m.keys(n),i=u.length,o={},a=0;i>a;a++)e=u[a],o[e]=t(n[e],e,n);return o},m.pairs=function(n){for(var t=m.keys(n),r=t.length,e=Array(r),u=0;r>u;u++)e[u]=[t[u],n[t[u]]];return e},m.invert=function(n){for(var t={},r=m.keys(n),e=0,u=r.length;u>e;e++)t[n[r[e]]]=r[e];return t},m.functions=m.methods=function(n){var t=[];for(var r in n)m.isFunction(n[r])&&t.push(r);return t.sort()},m.extend=_(m.allKeys),m.extendOwn=m.assign=_(m.keys),m.findKey=function(n,t,r){t=x(t,r);for(var e,u=m.keys(n),i=0,o=u.length;o>i;i++)if(e=u[i],t(n[e],e,n))return e},m.pick=function(n,t,r){var e,u,i={},o=n;if(null==o)return i;m.isFunction(t)?(u=m.allKeys(o),e=b(t,r)):(u=S(arguments,!1,!1,1),e=function(n,t,r){return t in r},o=Object(o));for(var a=0,c=u.length;c>a;a++){var f=u[a],l=o[f];e(l,f,o)&&(i[f]=l)}return i},m.omit=function(n,t,r){if(m.isFunction(t))t=m.negate(t);else{var e=m.map(S(arguments,!1,!1,1),String);t=function(n,t){return!m.contains(e,t)}}return m.pick(n,t,r)},m.defaults=_(m.allKeys,!0),m.create=function(n,t){var r=j(n);return t&&m.extendOwn(r,t),r},m.clone=function(n){return m.isObject(n)?m.isArray(n)?n.slice():m.extend({},n):n},m.tap=function(n,t){return t(n),n},m.isMatch=function(n,t){var r=m.keys(t),e=r.length;if(null==n)return!e;for(var u=Object(n),i=0;e>i;i++){var o=r[i];if(t[o]!==u[o]||!(o in u))return!1}return!0};var N=function(n,t,r,e){if(n===t)return 0!==n||1/n===1/t;if(null==n||null==t)return n===t;n instanceof m&&(n=n._wrapped),t instanceof m&&(t=t._wrapped);var u=s.call(n);if(u!==s.call(t))return!1;switch(u){case"[object RegExp]":case"[object String]":return""+n==""+t;case"[object Number]":return+n!==+n?+t!==+t:0===+n?1/+n===1/t:+n===+t;case"[object Date]":case"[object Boolean]":return+n===+t}var i="[object Array]"===u;if(!i){if("object"!=typeof n||"object"!=typeof t)return!1;var o=n.constructor,a=t.constructor;if(o!==a&&!(m.isFunction(o)&&o instanceof o&&m.isFunction(a)&&a instanceof a)&&"constructor"in n&&"constructor"in t)return!1}r=r||[],e=e||[];for(var c=r.length;c--;)if(r[c]===n)return e[c]===t;if(r.push(n),e.push(t),i){if(c=n.length,c!==t.length)return!1;for(;c--;)if(!N(n[c],t[c],r,e))return!1}else{var f,l=m.keys(n);if(c=l.length,m.keys(t).length!==c)return!1;for(;c--;)if(f=l[c],!m.has(t,f)||!N(n[f],t[f],r,e))return!1}return r.pop(),e.pop(),!0};m.isEqual=function(n,t){return N(n,t)},m.isEmpty=function(n){return null==n?!0:k(n)&&(m.isArray(n)||m.isString(n)||m.isArguments(n))?0===n.length:0===m.keys(n).length},m.isElement=function(n){return!(!n||1!==n.nodeType)},m.isArray=h||function(n){return"[object Array]"===s.call(n)},m.isObject=function(n){var t=typeof n;return"function"===t||"object"===t&&!!n},m.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(n){m["is"+n]=function(t){return s.call(t)==="[object "+n+"]"}}),m.isArguments(arguments)||(m.isArguments=function(n){return m.has(n,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(m.isFunction=function(n){return"function"==typeof n||!1}),m.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},m.isNaN=function(n){return m.isNumber(n)&&n!==+n},m.isBoolean=function(n){return n===!0||n===!1||"[object Boolean]"===s.call(n)},m.isNull=function(n){return null===n},m.isUndefined=function(n){return void 0===n},m.has=function(n,t){return null!=n&&p.call(n,t)},m.noConflict=function(){return u._=i,this},m.identity=function(n){return n},m.constant=function(n){return function(){return n}},m.noop=function(){},m.property=w,m.propertyOf=function(n){return null==n?function(){}:function(t){return n[t]}},m.matcher=m.matches=function(n){return n=m.extendOwn({},n),function(t){return m.isMatch(t,n)}},m.times=function(n,t,r){var e=Array(Math.max(0,n));t=b(t,r,1);for(var u=0;n>u;u++)e[u]=t(u);return e},m.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))},m.now=Date.now||function(){return(new Date).getTime()};var B={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},T=m.invert(B),R=function(n){var t=function(t){return n[t]},r="(?:"+m.keys(n).join("|")+")",e=RegExp(r),u=RegExp(r,"g");return function(n){return n=null==n?"":""+n,e.test(n)?n.replace(u,t):n}};m.escape=R(B),m.unescape=R(T),m.result=function(n,t,r){var e=null==n?void 0:n[t];return void 0===e&&(e=r),m.isFunction(e)?e.call(n):e};var q=0;m.uniqueId=function(n){var t=++q+"";return n?n+t:t},m.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var K=/(.)^/,z={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},D=/\\|'|\r|\n|\u2028|\u2029/g,L=function(n){return"\\"+z[n]};m.template=function(n,t,r){!t&&r&&(t=r),t=m.defaults({},t,m.templateSettings);var e=RegExp([(t.escape||K).source,(t.interpolate||K).source,(t.evaluate||K).source].join("|")+"|$","g"),u=0,i="__p+='";n.replace(e,function(t,r,e,o,a){return i+=n.slice(u,a).replace(D,L),u=a+t.length,r?i+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'":e?i+="'+\n((__t=("+e+"))==null?'':__t)+\n'":o&&(i+="';\n"+o+"\n__p+='"),t}),i+="';\n",t.variable||(i="with(obj||{}){\n"+i+"}\n"),i="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+i+"return __p;\n";try{var o=new Function(t.variable||"obj","_",i)}catch(a){throw a.source=i,a}var c=function(n){return o.call(this,n,m)},f=t.variable||"obj";return c.source="function("+f+"){\n"+i+"}",c},m.chain=function(n){var t=m(n);return t._chain=!0,t};var P=function(n,t){return n._chain?m(t).chain():t};m.mixin=function(n){m.each(m.functions(n),function(t){var r=m[t]=n[t];m.prototype[t]=function(){var n=[this._wrapped];return f.apply(n,arguments),P(this,r.apply(m,n))}})},m.mixin(m),m.each(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=o[n];m.prototype[n]=function(){var r=this._wrapped;return t.apply(r,arguments),"shift"!==n&&"splice"!==n||0!==r.length||delete r[0],P(this,r)}}),m.each(["concat","join","slice"],function(n){var t=o[n];m.prototype[n]=function(){return P(this,t.apply(this._wrapped,arguments))}}),m.prototype.value=function(){return this._wrapped},m.prototype.valueOf=m.prototype.toJSON=m.prototype.value,m.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return m})}).call(this);
(function(t){Q=t(),define("q",[],function(){return Q})})(function(){function t(t){return function(){return X.apply(t,arguments)}}function n(t){return t===Object(t)}function e(t){return"[object StopIteration]"===on(t)||t instanceof H}function r(t,n){if(L&&n.stack&&"object"==typeof t&&null!==t&&t.stack&&-1===t.stack.indexOf(cn)){for(var e=[],r=n;r;r=r.source)r.stack&&e.unshift(r.stack);e.unshift(t.stack);var i=e.join("\n"+cn+"\n");t.stack=o(i)}}function o(t){for(var n=t.split("\n"),e=[],r=0;r<n.length;++r){var o=n[r];c(o)||i(o)||!o||e.push(o)}return e.join("\n")}function i(t){return-1!==t.indexOf("(module.js:")||-1!==t.indexOf("(node.js:")}function u(t){var n=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(t);if(n)return[n[1],Number(n[2])];var e=/at ([^ ]+):(\d+):(?:\d+)$/.exec(t);if(e)return[e[1],Number(e[2])];var r=/.*@(.+):(\d+)$/.exec(t);return r?[r[1],Number(r[2])]:void 0}function c(t){var n=u(t);if(!n)return!1;var e=n[0],r=n[1];return e===G&&r>=J&&ln>=r}function s(){if(L)try{throw new Error}catch(t){var n=t.stack.split("\n"),e=n[0].indexOf("@")>0?n[1]:n[2],r=u(e);if(!r)return;return G=r[0],r[1]}}function f(t,n,e){return function(){return"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(n+" is deprecated, use "+e+" instead.",new Error("").stack),t.apply(t,arguments)}}function p(t){return m(t)?t:g(t)?D(t):S(t)}function a(){function t(t){n=t,i.source=t,Z(e,function(n,e){W(function(){t.promiseDispatch.apply(t,e)})},void 0),e=void 0,r=void 0}var n,e=[],r=[],o=nn(a.prototype),i=nn(h.prototype);if(i.promiseDispatch=function(t,o,i){var u=Y(arguments);e?(e.push(u),"when"===o&&i[1]&&r.push(i[1])):W(function(){n.promiseDispatch.apply(n,u)})},i.valueOf=f(function(){if(e)return i;var t=v(n);return m(t)&&(n=t),t},"valueOf","inspect"),i.inspect=function(){return n?n.inspect():{state:"pending"}},p.longStackSupport&&L)try{throw new Error}catch(u){i.stack=u.stack.substring(u.stack.indexOf("\n")+1)}return o.promise=i,o.resolve=function(e){n||t(p(e))},o.fulfill=function(e){n||t(S(e))},o.reject=function(e){n||t(N(e))},o.notify=function(t){n||Z(r,function(n,e){W(function(){e(t)})},void 0)},o}function l(t){if("function"!=typeof t)throw new TypeError("resolver must be a function.");var n=a();try{t(n.resolve,n.reject,n.notify)}catch(e){n.reject(e)}return n.promise}function d(t){return l(function(n,e){for(var r=0,o=t.length;o>r;r++)p(t[r]).then(n,e)})}function h(t,n,e){void 0===n&&(n=function(t){return N(new Error("Promise does not support operation: "+t))}),void 0===e&&(e=function(){return{state:"unknown"}});var r=nn(h.prototype);if(r.promiseDispatch=function(e,o,i){var u;try{u=t[o]?t[o].apply(r,i):n.call(r,o,i)}catch(c){u=N(c)}e&&e(u)},r.inspect=e,e){var o=e();"rejected"===o.state&&(r.exception=o.reason),r.valueOf=f(function(){var t=e();return"pending"===t.state||"rejected"===t.state?r:t.value})}return r}function y(t,n,e,r){return p(t).then(n,e,r)}function v(t){if(m(t)){var n=t.inspect();if("fulfilled"===n.state)return n.value}return t}function m(t){return n(t)&&"function"==typeof t.promiseDispatch&&"function"==typeof t.inspect}function g(t){return n(t)&&"function"==typeof t.then}function k(t){return m(t)&&"pending"===t.inspect().state}function j(t){return!m(t)||"fulfilled"===t.inspect().state}function w(t){return m(t)&&"rejected"===t.inspect().state}function b(){pn=!0}function x(){for(var t=0;t<sn.length;t++){var n=sn[t];console.warn("Unhandled rejection reason:",n)}}function R(){sn.length=0,fn.length=0,pn=!1,an||(an=!0,"undefined"!=typeof process&&process.on&&process.on("exit",x))}function O(t,n){an&&(fn.push(t),sn.push(n&&"undefined"!=typeof n.stack?n.stack:"(no stack) "+n),b(),T(n))}function T(t){if(t&&t instanceof Error&&t.constructor!==Error)throw t}function E(t){if(an){var n=_(fn,t);-1!==n&&(fn.splice(n,1),sn.splice(n,1))}}function N(t){var n=h({when:function(n){return n&&E(this),n?n(t):this}},function(){return this},function(){return{state:"rejected",reason:t}});return O(n,t),n}function S(t){return h({when:function(){return t},get:function(n){return t[n]},set:function(n,e){t[n]=e},"delete":function(n){delete t[n]},post:function(n,e){return null===n||void 0===n?t.apply(void 0,e):t[n].apply(t,e)},apply:function(n,e){return t.apply(n,e)},keys:function(){return rn(t)}},void 0,function(){return{state:"fulfilled",value:t}})}function D(t){var n=a();return W(function(){try{t.then(n.resolve,n.reject,n.notify)}catch(e){n.reject(e)}}),n.promise}function P(t){return h({isDef:function(){}},function(n,e){return M(t,n,e)},function(){return p(t).inspect()})}function A(t,n,e){return p(t).spread(n,e)}function C(t){return function(){function n(t,n){var u;if(un){try{u=r[t](n)}catch(c){return N(c)}return u.done?u.value:y(u.value,o,i)}try{u=r[t](n)}catch(c){return e(c)?c.value:N(c)}return y(u,o,i)}var r=t.apply(this,arguments),o=n.bind(n,"next"),i=n.bind(n,"throw");return o()}}function F(t){p.done(p.async(t)())}function I(t){throw new H(t)}function U(t){return function(){return A([this,$(arguments)],function(n,e){return t.apply(n,e)})}}function M(t,n,e){return p(t).dispatch(n,e)}function $(t){return y(t,function(t){var n=0,e=a();return Z(t,function(r,o,i){var u;m(o)&&"fulfilled"===(u=o.inspect()).state?t[i]=u.value:(++n,y(o,function(r){t[i]=r,0===--n&&e.resolve(t)},e.reject,function(t){e.notify({index:i,value:t})}))},void 0),0===n&&e.resolve(t),e.promise})}function B(t){return y(t,function(t){return t=tn(t,p),y($(tn(t,function(t){return y(t,K,K)})),function(){return t})})}function Q(t){return p(t).allSettled()}function V(t,n){return p(t).then(void 0,void 0,n)}function q(t,n){return p(t).nodeify(n)}var L=!1;try{throw new Error}catch(z){L=!!z.stack}var G,H,J=s(),K=function(){},W=function(){function t(){for(;n.next;){n=n.next;var e=n.task;n.task=void 0;var o=n.domain;o&&(n.domain=void 0,o.enter());try{e()}catch(u){if(i)throw o&&o.exit(),setTimeout(t,0),o&&o.enter(),u;setTimeout(function(){throw u},0)}o&&o.exit()}r=!1}var n={task:void 0,next:null},e=n,r=!1,o=void 0,i=!1;if(W=function(t){e=e.next={task:t,domain:i&&process.domain,next:null},r||(r=!0,o())},"undefined"!=typeof process&&process.nextTick)i=!0,o=function(){process.nextTick(t)};else if("function"==typeof setImmediate)o="undefined"!=typeof window?setImmediate.bind(window,t):function(){setImmediate(t)};else if("undefined"!=typeof MessageChannel){var u=new MessageChannel;u.port1.onmessage=function(){o=c,u.port1.onmessage=t,t()};var c=function(){u.port2.postMessage(0)};o=function(){setTimeout(t,0),c()}}else o=function(){setTimeout(t,0)};return W}(),X=Function.call,Y=t(Array.prototype.slice),Z=t(Array.prototype.reduce||function(t,n){var e=0,r=this.length;if(1===arguments.length)for(;;){if(e in this){n=this[e++];break}if(++e>=r)throw new TypeError}for(;r>e;e++)e in this&&(n=t(n,this[e],e));return n}),_=t(Array.prototype.indexOf||function(t){for(var n=0;n<this.length;n++)if(this[n]===t)return n;return-1}),tn=t(Array.prototype.map||function(t,n){var e=this,r=[];return Z(e,function(o,i,u){r.push(t.call(n,i,u,e))},void 0),r}),nn=Object.create||function(t){function n(){}return n.prototype=t,new n},en=t(Object.prototype.hasOwnProperty),rn=Object.keys||function(t){var n=[];for(var e in t)en(t,e)&&n.push(e);return n},on=t(Object.prototype.toString);H="undefined"!=typeof ReturnValue?ReturnValue:function(t){this.value=t};var un;try{new Function("(function* (){ yield 1; })"),un=!0}catch(z){un=!1}var cn="From previous event:";p.resolve=p,p.nextTick=W,p.longStackSupport=!1,p.defer=a,a.prototype.makeNodeResolver=function(){var t=this;return function(n,e){n?t.reject(n):t.resolve(arguments.length>2?Y(arguments,1):e)}},p.promise=l,p.passByCopy=function(t){return t},h.prototype.passByCopy=function(){return this},p.join=function(t,n){return p(t).join(n)},h.prototype.join=function(t){return p([this,t]).spread(function(t,n){if(t===n)return t;throw new Error("Can't join: not the same: "+t+" "+n)})},p.race=d,h.prototype.race=function(){return this.then(p.race)},p.makePromise=h,h.prototype.toString=function(){return"[object Promise]"},h.prototype.then=function(t,n,e){function o(n){try{return"function"==typeof t?t(n):n}catch(e){return N(e)}}function i(t){if("function"==typeof n){r(t,c);try{return n(t)}catch(e){return N(e)}}return N(t)}function u(t){return"function"==typeof e?e(t):t}var c=this,s=a(),f=!1;return W(function(){c.promiseDispatch(function(t){f||(f=!0,s.resolve(o(t)))},"when",[function(t){f||(f=!0,s.resolve(i(t)))}])}),c.promiseDispatch(void 0,"when",[void 0,function(t){var n,e=!1;try{n=u(t)}catch(r){if(e=!0,!p.onerror)throw r;p.onerror(r)}e||s.notify(n)}]),s.promise},p.when=y,h.prototype.thenResolve=function(t){return this.then(function(){return t})},p.thenResolve=function(t,n){return p(t).thenResolve(n)},h.prototype.thenReject=function(t){return this.then(function(){throw t})},p.thenReject=function(t,n){return p(t).thenReject(n)},p.nearer=v,p.isPromise=m,p.isPromiseAlike=g,p.isPending=k,h.prototype.isPending=function(){return"pending"===this.inspect().state},p.isFulfilled=j,h.prototype.isFulfilled=function(){return"fulfilled"===this.inspect().state},p.isRejected=w,h.prototype.isRejected=function(){return"rejected"===this.inspect().state};var sn=[],fn=[],pn=!1,an=!0;p.resetUnhandledRejections=R,p.getUnhandledReasons=function(){return sn.slice()},p.stopUnhandledRejectionTracking=function(){R(),"undefined"!=typeof process&&process.on&&process.removeListener("exit",x),an=!1},R(),p.reject=N,p.fulfill=S,p.master=P,p.spread=A,h.prototype.spread=function(t,n){return this.all().then(function(n){return t.apply(void 0,n)},n)},p.async=C,p.spawn=F,p["return"]=I,p.promised=U,p.dispatch=M,h.prototype.dispatch=function(t,n){var e=this,r=a();return W(function(){e.promiseDispatch(r.resolve,t,n)}),r.promise},p.get=function(t,n){return p(t).dispatch("get",[n])},h.prototype.get=function(t){return this.dispatch("get",[t])},p.set=function(t,n,e){return p(t).dispatch("set",[n,e])},h.prototype.set=function(t,n){return this.dispatch("set",[t,n])},p.del=p["delete"]=function(t,n){return p(t).dispatch("delete",[n])},h.prototype.del=h.prototype["delete"]=function(t){return this.dispatch("delete",[t])},p.mapply=p.post=function(t,n,e){return p(t).dispatch("post",[n,e])},h.prototype.mapply=h.prototype.post=function(t,n){return this.dispatch("post",[t,n])},p.send=p.mcall=p.invoke=function(t,n){return p(t).dispatch("post",[n,Y(arguments,2)])},h.prototype.send=h.prototype.mcall=h.prototype.invoke=function(t){return this.dispatch("post",[t,Y(arguments,1)])},p.fapply=function(t,n){return p(t).dispatch("apply",[void 0,n])},h.prototype.fapply=function(t){return this.dispatch("apply",[void 0,t])},p["try"]=p.fcall=function(t){return p(t).dispatch("apply",[void 0,Y(arguments,1)])},h.prototype.fcall=function(){return this.dispatch("apply",[void 0,Y(arguments)])},p.fbind=function(t){var n=p(t),e=Y(arguments,1);return function(){return n.dispatch("apply",[this,e.concat(Y(arguments))])}},h.prototype.fbind=function(){var t=this,n=Y(arguments);return function(){return t.dispatch("apply",[this,n.concat(Y(arguments))])}},p.keys=function(t){return p(t).dispatch("keys",[])},h.prototype.keys=function(){return this.dispatch("keys",[])},p.all=$,h.prototype.all=function(){return $(this)},p.allResolved=f(B,"allResolved","allSettled"),h.prototype.allResolved=function(){return B(this)},p.allSettled=Q,h.prototype.allSettled=function(){return this.then(function(t){return $(tn(t,function(t){function n(){return t.inspect()}return t=p(t),t.then(n,n)}))})},p.fail=p["catch"]=function(t,n){return p(t).then(void 0,n)},h.prototype.fail=h.prototype["catch"]=function(t){return this.then(void 0,t)},p.progress=V,h.prototype.progress=function(t){return this.then(void 0,void 0,t)},p.fin=p["finally"]=function(t,n){return p(t)["finally"](n)},h.prototype.fin=h.prototype["finally"]=function(t){return t=p(t),this.then(function(n){return t.fcall().then(function(){return n})},function(n){return t.fcall().then(function(){throw n})})},p.done=function(t,n,e,r){return p(t).done(n,e,r)},h.prototype.done=function(t,n,e){var o=function(t){W(function(){if(r(t,i),!p.onerror)throw t;p.onerror(t)})},i=t||n||e?this.then(t,n,e):this;"object"==typeof process&&process&&process.domain&&(o=process.domain.bind(o)),i.then(void 0,o)},p.timeout=function(t,n,e){return p(t).timeout(n,e)},h.prototype.timeout=function(t,n){var e=a(),r=setTimeout(function(){e.reject(new Error(n||"Timed out after "+t+" ms"))},t);return this.then(function(t){clearTimeout(r),e.resolve(t)},function(t){clearTimeout(r),e.reject(t)},e.notify),e.promise},p.delay=function(t,n){return void 0===n&&(n=t,t=void 0),p(t).delay(n)},h.prototype.delay=function(t){return this.then(function(n){var e=a();return setTimeout(function(){e.resolve(n)},t),e.promise})},p.nfapply=function(t,n){return p(t).nfapply(n)},h.prototype.nfapply=function(t){var n=a(),e=Y(t);return e.push(n.makeNodeResolver()),this.fapply(e).fail(n.reject),n.promise},p.nfcall=function(t){var n=Y(arguments,1);return p(t).nfapply(n)},h.prototype.nfcall=function(){var t=Y(arguments),n=a();return t.push(n.makeNodeResolver()),this.fapply(t).fail(n.reject),n.promise},p.nfbind=p.denodeify=function(t){var n=Y(arguments,1);return function(){var e=n.concat(Y(arguments)),r=a();return e.push(r.makeNodeResolver()),p(t).fapply(e).fail(r.reject),r.promise}},h.prototype.nfbind=h.prototype.denodeify=function(){var t=Y(arguments);return t.unshift(this),p.denodeify.apply(void 0,t)},p.nbind=function(t,n){var e=Y(arguments,2);return function(){function r(){return t.apply(n,arguments)}var o=e.concat(Y(arguments)),i=a();return o.push(i.makeNodeResolver()),p(r).fapply(o).fail(i.reject),i.promise}},h.prototype.nbind=function(){var t=Y(arguments,0);return t.unshift(this),p.nbind.apply(void 0,t)},p.nmapply=p.npost=function(t,n,e){return p(t).npost(n,e)},h.prototype.nmapply=h.prototype.npost=function(t,n){var e=Y(n||[]),r=a();return e.push(r.makeNodeResolver()),this.dispatch("post",[t,e]).fail(r.reject),r.promise},p.nsend=p.nmcall=p.ninvoke=function(t,n){var e=Y(arguments,2),r=a();return e.push(r.makeNodeResolver()),p(t).dispatch("post",[n,e]).fail(r.reject),r.promise},h.prototype.nsend=h.prototype.nmcall=h.prototype.ninvoke=function(t){var n=Y(arguments,1),e=a();return n.push(e.makeNodeResolver()),this.dispatch("post",[t,n]).fail(e.reject),e.promise},p.nodeify=q,h.prototype.nodeify=function(t){return t?void this.then(function(n){W(function(){t(null,n)})},function(n){W(function(){t(n)})}):this};var ln=s();return p});
(function(t,e){if("function"==typeof define&&define.amd)define("backbone",["underscore","jquery","exports"],function(i,n,s){t.Backbone=e(t,s,i,n)});else if("undefined"!=typeof exports){var i=require("underscore");e(t,exports,i)}else t.Backbone=e(t,{},t._,t.jQuery||t.Zepto||t.ender||t.$)})(this,function(t,e,i,n){{var s=t.Backbone,r=[],a=(r.push,r.slice);r.splice}e.VERSION="1.1.2",e.$=n,e.noConflict=function(){return t.Backbone=s,this},e.emulateHTTP=!1,e.emulateJSON=!1;var o=e.Events={on:function(t,e,i){if(!u(this,"on",t,[e,i])||!e)return this;this._events||(this._events={});var n=this._events[t]||(this._events[t]=[]);return n.push({callback:e,context:i,ctx:i||this}),this},once:function(t,e,n){if(!u(this,"once",t,[e,n])||!e)return this;var s=this,r=i.once(function(){s.off(t,r),e.apply(this,arguments)});return r._callback=e,this.on(t,r,n)},off:function(t,e,n){var s,r,a,o,h,c,l,d;if(!this._events||!u(this,"off",t,[e,n]))return this;if(!t&&!e&&!n)return this._events=void 0,this;for(o=t?[t]:i.keys(this._events),h=0,c=o.length;c>h;h++)if(t=o[h],a=this._events[t]){if(this._events[t]=s=[],e||n)for(l=0,d=a.length;d>l;l++)r=a[l],(e&&e!==r.callback&&e!==r.callback._callback||n&&n!==r.context)&&s.push(r);s.length||delete this._events[t]}return this},trigger:function(t){if(!this._events)return this;var e=a.call(arguments,1);if(!u(this,"trigger",t,e))return this;var i=this._events[t],n=this._events.all;return i&&c(i,e),n&&c(n,arguments),this},stopListening:function(t,e,n){var s=this._listeningTo;if(!s)return this;var r=!e&&!n;n||"object"!=typeof e||(n=this),t&&((s={})[t._listenId]=t);for(var a in s)t=s[a],t.off(e,n,this),(r||i.isEmpty(t._events))&&delete this._listeningTo[a];return this}},h=/\s+/,u=function(t,e,i,n){if(!i)return!0;if("object"==typeof i){for(var s in i)t[e].apply(t,[s,i[s]].concat(n));return!1}if(h.test(i)){for(var r=i.split(h),a=0,o=r.length;o>a;a++)t[e].apply(t,[r[a]].concat(n));return!1}return!0},c=function(t,e){var i,n=-1,s=t.length,r=e[0],a=e[1],o=e[2];switch(e.length){case 0:for(;++n<s;)(i=t[n]).callback.call(i.ctx);return;case 1:for(;++n<s;)(i=t[n]).callback.call(i.ctx,r);return;case 2:for(;++n<s;)(i=t[n]).callback.call(i.ctx,r,a);return;case 3:for(;++n<s;)(i=t[n]).callback.call(i.ctx,r,a,o);return;default:for(;++n<s;)(i=t[n]).callback.apply(i.ctx,e);return}},l={listenTo:"on",listenToOnce:"once"};i.each(l,function(t,e){o[e]=function(e,n,s){var r=this._listeningTo||(this._listeningTo={}),a=e._listenId||(e._listenId=i.uniqueId("l"));return r[a]=e,s||"object"!=typeof n||(s=this),e[t](n,s,this),this}}),o.bind=o.on,o.unbind=o.off,i.extend(e,o);var d=e.Model=function(t,e){var n=t||{};e||(e={}),this.cid=i.uniqueId("c"),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(n=this.parse(n,e)||{}),n=i.defaults({},n,i.result(this,"defaults")),this.set(n,e),this.changed={},this.initialize.apply(this,arguments)};i.extend(d.prototype,o,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return i.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return i.escape(this.get(t))},has:function(t){return null!=this.get(t)},set:function(t,e,n){var s,r,a,o,h,u,c,l;if(null==t)return this;if("object"==typeof t?(r=t,n=e):(r={})[t]=e,n||(n={}),!this._validate(r,n))return!1;a=n.unset,h=n.silent,o=[],u=this._changing,this._changing=!0,u||(this._previousAttributes=i.clone(this.attributes),this.changed={}),l=this.attributes,c=this._previousAttributes,this.idAttribute in r&&(this.id=r[this.idAttribute]);for(s in r)e=r[s],i.isEqual(l[s],e)||o.push(s),i.isEqual(c[s],e)?delete this.changed[s]:this.changed[s]=e,a?delete l[s]:l[s]=e;if(!h){o.length&&(this._pending=n);for(var d=0,f=o.length;f>d;d++)this.trigger("change:"+o[d],this,l[o[d]],n)}if(u)return this;if(!h)for(;this._pending;)n=this._pending,this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,i.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var n in this.attributes)e[n]=void 0;return this.set(e,i.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!i.isEmpty(this.changed):i.has(this.changed,t)},changedAttributes:function(t){if(!t)return this.hasChanged()?i.clone(this.changed):!1;var e,n=!1,s=this._changing?this._previousAttributes:this.attributes;for(var r in t)i.isEqual(s[r],e=t[r])||((n||(n={}))[r]=e);return n},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return i.clone(this._previousAttributes)},fetch:function(t){t=t?i.clone(t):{},void 0===t.parse&&(t.parse=!0);var e=this,n=t.success;return t.success=function(i){return e.set(e.parse(i,t),t)?(n&&n(e,i,t),void e.trigger("sync",e,i,t)):!1},U(this,t),this.sync("read",this,t)},save:function(t,e,n){var s,r,a,o=this.attributes;if(null==t||"object"==typeof t?(s=t,n=e):(s={})[t]=e,n=i.extend({validate:!0},n),s&&!n.wait){if(!this.set(s,n))return!1}else if(!this._validate(s,n))return!1;s&&n.wait&&(this.attributes=i.extend({},o,s)),void 0===n.parse&&(n.parse=!0);var h=this,u=n.success;return n.success=function(t){h.attributes=o;var e=h.parse(t,n);return n.wait&&(e=i.extend(s||{},e)),i.isObject(e)&&!h.set(e,n)?!1:(u&&u(h,t,n),void h.trigger("sync",h,t,n))},U(this,n),r=this.isNew()?"create":n.patch?"patch":"update","patch"===r&&(n.attrs=s),a=this.sync(r,this,n),s&&n.wait&&(this.attributes=o),a},destroy:function(t){t=t?i.clone(t):{};var e=this,n=t.success,s=function(){e.trigger("destroy",e,e.collection,t)};if(t.success=function(i){(t.wait||e.isNew())&&s(),n&&n(e,i,t),e.isNew()||e.trigger("sync",e,i,t)},this.isNew())return t.success(),!1;U(this,t);var r=this.sync("delete",this,t);return t.wait||s(),r},url:function(){var t=i.result(this,"urlRoot")||i.result(this.collection,"url")||j();return this.isNew()?t:t.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(t){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},i.extend(t||{},{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=i.extend({},this.attributes,t);var n=this.validationError=this.validate(t,e)||null;return n?(this.trigger("invalid",this,n,i.extend(e,{validationError:n})),!1):!0}});var f=["keys","values","pairs","invert","pick","omit"];i.each(f,function(t){d.prototype[t]=function(){var e=a.call(arguments);return e.unshift(this.attributes),i[t].apply(i,e)}});var p=e.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,i.extend({silent:!0},e))},g={add:!0,remove:!0,merge:!0},v={add:!0,remove:!1};i.extend(p.prototype,o,{model:d,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,i.extend({merge:!1},e,v))},remove:function(t,e){var n=!i.isArray(t);t=n?[t]:i.clone(t),e||(e={});var s,r,a,o;for(s=0,r=t.length;r>s;s++)o=t[s]=this.get(t[s]),o&&(delete this._byId[o.id],delete this._byId[o.cid],a=this.indexOf(o),this.models.splice(a,1),this.length--,e.silent||(e.index=a,o.trigger("remove",o,this,e)),this._removeReference(o,e));return n?t[0]:t},set:function(t,e){e=i.defaults({},e,g),e.parse&&(t=this.parse(t,e));var n=!i.isArray(t);t=n?t?[t]:[]:i.clone(t);var s,r,a,o,h,u,c,l=e.at,f=this.model,p=this.comparator&&null==l&&e.sort!==!1,v=i.isString(this.comparator)?this.comparator:null,m=[],y=[],_={},b=e.add,w=e.merge,x=e.remove,E=!p&&b&&x?[]:!1;for(s=0,r=t.length;r>s;s++){if(h=t[s]||{},a=h instanceof d?o=h:h[f.prototype.idAttribute||"id"],u=this.get(a))x&&(_[u.cid]=!0),w&&(h=h===o?o.attributes:h,e.parse&&(h=u.parse(h,e)),u.set(h,e),p&&!c&&u.hasChanged(v)&&(c=!0)),t[s]=u;else if(b){if(o=t[s]=this._prepareModel(h,e),!o)continue;m.push(o),this._addReference(o,e)}o=u||o,!E||!o.isNew()&&_[o.id]||E.push(o),_[o.id]=!0}if(x){for(s=0,r=this.length;r>s;++s)_[(o=this.models[s]).cid]||y.push(o);y.length&&this.remove(y,e)}if(m.length||E&&E.length)if(p&&(c=!0),this.length+=m.length,null!=l)for(s=0,r=m.length;r>s;s++)this.models.splice(l+s,0,m[s]);else{E&&(this.models.length=0);var k=E||m;for(s=0,r=k.length;r>s;s++)this.models.push(k[s])}if(c&&this.sort({silent:!0}),!e.silent){for(s=0,r=m.length;r>s;s++)(o=m[s]).trigger("add",o,this,e);(c||E&&E.length)&&this.trigger("sort",this,e)}return n?t[0]:t},reset:function(t,e){e||(e={});for(var n=0,s=this.models.length;s>n;n++)this._removeReference(this.models[n],e);return e.previousModels=this.models,this._reset(),t=this.add(t,i.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,i.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t),e},unshift:function(t,e){return this.add(t,i.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t),e},slice:function(){return a.apply(this.models,arguments)},get:function(t){return null==t?void 0:this._byId[t]||this._byId[t.id]||this._byId[t.cid]},at:function(t){return this.models[t]},where:function(t,e){return i.isEmpty(t)?e?void 0:[]:this[e?"find":"filter"](function(e){for(var i in t)if(t[i]!==e.get(i))return!1;return!0})},findWhere:function(t){return this.where(t,!0)},sort:function(t){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return t||(t={}),i.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(i.bind(this.comparator,this)),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return i.invoke(this.models,"get",t)},fetch:function(t){t=t?i.clone(t):{},void 0===t.parse&&(t.parse=!0);var e=t.success,n=this;return t.success=function(i){var s=t.reset?"reset":"set";n[s](i,t),e&&e(n,i,t),n.trigger("sync",n,i,t)},U(this,t),this.sync("read",this,t)},create:function(t,e){if(e=e?i.clone(e):{},!(t=this._prepareModel(t,e)))return!1;e.wait||this.add(t,e);var n=this,s=e.success;return e.success=function(t,i){e.wait&&n.add(t,e),s&&s(t,i,e)},t.save(null,e),t},parse:function(t){return t},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(t instanceof d)return t;e=e?i.clone(e):{},e.collection=this;var n=new this.model(t,e);return n.validationError?(this.trigger("invalid",this,n.validationError,e),!1):n},_addReference:function(t){this._byId[t.cid]=t,null!=t.id&&(this._byId[t.id]=t),t.collection||(t.collection=this),t.on("all",this._onModelEvent,this)},_removeReference:function(t){this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,i,n){"reset"!==t&&("add"!==t&&"remove"!==t||i===this)&&("destroy"===t&&this.remove(e,n),e&&t==="change:"+e.idAttribute&&(delete this._byId[e.previous(e.idAttribute)],null!=e.id&&(this._byId[e.id]=e)),this.trigger.apply(this,arguments))}});var m=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample"];i.each(m,function(t){p.prototype[t]=function(){var e=a.call(arguments);return e.unshift(this.models),i[t].apply(i,e)}});var y=["groupBy","countBy","sortBy","indexBy"];i.each(y,function(t){p.prototype[t]=function(e,n){var s=i.isFunction(e)?e:function(t){return t.get(e)};return i[t](this.models,s,n)}});var _=e.View=function(t){this.cid=i.uniqueId("view"),t||(t={}),i.extend(this,i.pick(t,w)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},b=/^(\S+)\s*(.*)$/,w=["model","collection","el","id","attributes","className","tagName","events"];i.extend(_.prototype,o,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(t,i){return this.$el&&this.undelegateEvents(),this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0],i!==!1&&this.delegateEvents(),this},delegateEvents:function(t){if(!t&&!(t=i.result(this,"events")))return this;this.undelegateEvents();for(var e in t){var n=t[e];if(i.isFunction(n)||(n=this[t[e]]),n){var s=e.match(b),r=s[1],a=s[2];n=i.bind(n,this),r+=".delegateEvents"+this.cid,""===a?this.$el.on(r,n):this.$el.on(r,a,n)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(this.el)this.setElement(i.result(this,"el"),!1);else{var t=i.extend({},i.result(this,"attributes"));this.id&&(t.id=i.result(this,"id")),this.className&&(t["class"]=i.result(this,"className"));var n=e.$("<"+i.result(this,"tagName")+">").attr(t);this.setElement(n,!1)}}}),e.sync=function(t,n,s){var r=E[t];i.defaults(s||(s={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var a={type:r,dataType:"json"};if(s.url||(a.url=i.result(n,"url")||j()),null!=s.data||!n||"create"!==t&&"update"!==t&&"patch"!==t||(a.contentType="application/json",a.data=JSON.stringify(s.attrs||n.toJSON(s))),s.emulateJSON&&(a.contentType="application/x-www-form-urlencoded",a.data=a.data?{model:a.data}:{}),s.emulateHTTP&&("PUT"===r||"DELETE"===r||"PATCH"===r)){a.type="POST",s.emulateJSON&&(a.data._method=r);var o=s.beforeSend;s.beforeSend=function(t){return t.setRequestHeader("X-HTTP-Method-Override",r),o?o.apply(this,arguments):void 0}}"GET"===a.type||s.emulateJSON||(a.processData=!1),"PATCH"===a.type&&x&&(a.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var h=s.xhr=e.ajax(i.extend(a,s));return n.trigger("request",n,h,s),h};var x=!("undefined"==typeof window||!window.ActiveXObject||window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),E={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var k=e.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},T=/\((.*?)\)/g,$=/(\(\?)?:\w+/g,S=/\*\w+/g,H=/[\-{}\[\]+?.,\\\^$|#\s]/g;i.extend(k.prototype,o,{initialize:function(){},route:function(t,n,s){i.isRegExp(t)||(t=this._routeToRegExp(t)),i.isFunction(n)&&(s=n,n=""),s||(s=this[n]);var r=this;return e.history.route(t,function(i){var a=r._extractParameters(t,i);r.execute(s,a),r.trigger.apply(r,["route:"+n].concat(a)),r.trigger("route",n,a),e.history.trigger("route",r,n,a)}),this},execute:function(t,e){t&&t.apply(this,e)},navigate:function(t,i){return e.history.navigate(t,i),this},_bindRoutes:function(){if(this.routes){this.routes=i.result(this,"routes");for(var t,e=i.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(H,"\\$&").replace(T,"(?:$1)?").replace($,function(t,e){return e?t:"([^/?]+)"}).replace(S,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var n=t.exec(e).slice(1);return i.map(n,function(t,e){return e===n.length-1?t||null:t?decodeURIComponent(t):null})}});var A=e.History=function(){this.handlers=[],i.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},I=/^[#\/]|\s+$/g,N=/^\/+|\/+$/g,R=/msie [\w.]+/,O=/\/$/,P=/#.*$/;A.started=!1,i.extend(A.prototype,o,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getFragment:function(t,e){if(null==t)if(this._hasPushState||!this._wantsHashChange||e){t=decodeURI(this.location.pathname+this.location.search);var i=this.root.replace(O,"");t.indexOf(i)||(t=t.slice(i.length))}else t=this.getHash();return t.replace(I,"")},start:function(t){if(A.started)throw new Error("Backbone.history has already been started");A.started=!0,this.options=i.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var n=this.getFragment(),s=document.documentMode,r=R.exec(navigator.userAgent.toLowerCase())&&(!s||7>=s);if(this.root=("/"+this.root+"/").replace(N,"/"),r&&this._wantsHashChange){var a=e.$('<iframe src="javascript:0" tabindex="-1">');this.iframe=a.hide().appendTo("body")[0].contentWindow,this.navigate(n)}this._hasPushState?e.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!r?e.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=n;var o=this.location;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot())return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+"#"+this.fragment),!0;this._hasPushState&&this.atRoot()&&o.hash&&(this.fragment=this.getHash().replace(I,""),this.history.replaceState({},document.title,this.root+this.fragment))}return this.options.silent?void 0:this.loadUrl()},stop:function(){e.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),A.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(){var t=this.getFragment();return t===this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe))),t===this.fragment?!1:(this.iframe&&this.navigate(t),void this.loadUrl())},loadUrl:function(t){return t=this.fragment=this.getFragment(t),i.any(this.handlers,function(e){return e.route.test(t)?(e.callback(t),!0):void 0})},navigate:function(t,e){if(!A.started)return!1;e&&e!==!0||(e={trigger:!!e});var i=this.root+(t=this.getFragment(t||""));if(t=t.replace(P,""),this.fragment!==t){if(this.fragment=t,""===t&&"/"!==i&&(i=i.slice(0,-1)),this._hasPushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,i);else{if(!this._wantsHashChange)return this.location.assign(i);this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getFragment(this.getHash(this.iframe))&&(e.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,t,e.replace))}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,i){if(i){var n=t.href.replace(/(javascript:|#).*$/,"");t.replace(n+"#"+e)}else t.hash="#"+e}}),e.history=new A;var C=function(t,e){var n,s=this;n=t&&i.has(t,"constructor")?t.constructor:function(){return s.apply(this,arguments)},i.extend(n,s,e);var r=function(){this.constructor=n};return r.prototype=s.prototype,n.prototype=new r,t&&i.extend(n.prototype,t),n.__super__=s.prototype,n};d.extend=p.extend=k.extend=_.extend=A.extend=C;var j=function(){throw new Error('A "url" property or function must be specified')},U=function(t,e){var i=e.error;e.error=function(n){i&&i(t,n,e),t.trigger("error",t,n,e)}};return e});
(function(t){var e=function(e,i,n,r){window.space=t(e,i,n,r)};"function"==typeof define&&define.amd?define("space",["jquery","underscore","q","backbone"],e):e($,_,Q,Backbone)})(function(t,e,i,n){var r={};return function(t){var i={deepClone:function(t){var i=e.clone(t),n=this;return e.each(i,function(t,r){e.isObject(t)&&!e.isFunction(t)&&(i[r]=n.deepClone(t))}),i}};t.util=i}(r),function(t){var i={_isBubbling:!1,listenTo:function(){return this._bindEvents("listenTo",arguments),this},listenToOnce:function(){return this._bindEvents("listenToOnce",arguments),this},bubble:function(){return this._isBubbling=!0,this.trigger.apply(this,arguments),this._isBubbling=!1,this},isBubbling:function(){return this._isBubbling},_bindEvents:function(t,i){var r=this,s=i[0],o=i[1],a=i[2];e.isObject(o)?e.each(o,function(e,i){s&&e&&r[t](s,i,e)}):-1!==o.indexOf(",")?e.each(o.split(","),function(e){e=e.replace(/^\s+|\s+$/g,""),e&&r[t](s,e,a)}):n.Events[t].apply(this,i)}};t.Events=i}(r),function(t){var n=function(t){var n=this;this._name=t||e.uniqueId("flow"),this._isAborted=!1,this._isRunning=!1,this.promise=i.resolve(),this._children=[],this._resolvedValue=null,this._isSavedValue=!1,this._context=null,this._parent=null,this._handlers={},this._isDeferred=!1,this._isProgressed=!1,this._cid=e.uniqueId("f"),e.defer(function(){n&&(n._isDeferred=!0)})};e.extend(n.prototype,{next:function(t,e,i){var n=this,r=function(e){var i;return n.isAborted()?void 0:(t=n._bind(t),n._isRunning=!0,i=t(e),n._isRunning=!1,n.trigger("next",e),n.isFlow(i)?i.getPromise():i)};return this._isProgressed=!0,this.isAborted()?this:(this.promise=this.promise.then(r,e,i).fail(function(t){return n._stop(t)}),this)},isAborted:function(){return this._isAborted||this.promise.isRejected()},abort:function(t){if(!this._isAborted){this.promise.isRejected()||(this.promise=i.reject()),this._parent&&this._parent.removeChildFlow(this);for(var e=this._children.length-1;e>=0;e--)this._children[e].abort(t);this._isAborted=!0,this._children=[],t||this.trigger("abort")}},isPending:function(t){return t&&this.isChildFlowPending()?!0:this.isAborted()?!1:this.promise.isPending()},isChildFlowPending:function(t){for(var e=0,i=this._children.length;i>e;e++)if(t&&this._children[e].getName()===t||!t&&this._children[e].isPending())return this._children[e].isPending();return!1},getChildFlow:function(t){for(var e=0,i=this._children.length;i>e;e++)if(this._children[e].getName()===t)return this._children[e];return null},isIdle:function(){return!this.isAborted()&&!this.isPending()&&!this._isRunning&&this._isDeferred&&this._isProgressed},fork:function(t){var i,r,s=this._name+"_";if(this._parent)throw new Error("부모 흐름이 있는 흐름은 fork를 할 수 없습니다");return this.isAborted()?this:(t&&(r=this.getChildFlow(t),r&&(r.abort(!0),r=null)),this._removeIdleChildFlows(),i=new n(t||e.uniqueId(s)),this._context&&i.setContext(this._context),i.setParent(this),this._children.push(i),i)},forkWith:function(t,e){var i=this.fork(e);return i.next(function(){return t})},getName:function(){return this._name},_getResolvedValue:function(){var t;if(!this.promise.isPending()&&!this.isAborted())return this._isSavedValue?(t=this._resolvedValue,this._resetResolvedValue(),t):this.promise.inspect().value},_getRejectedValue:function(){return this.promise.isRejected()?this.promise.inspect().reason:null},_resetResolvedValue:function(){this._isSavedValue=!1,this._resolvedValue=null},_bind:function(t){return null!==this._context?e.bind(t,this._context):t},removeChildFlow:function(t){for(var e=0,i=this._children.length;i>e;e++)if(this._children[e]===t)return void this._children.splice(e,1)},_removeIdleChildFlows:function(){for(var t=this._children.length-1;t>=0;t--)this._children[t].isIdle()&&this._children[t].abort(!0)},_stop:function(t){return this._isAborted?void 0:(this.abort(!0),this.trigger("stop",t),i.reject(t))},setContext:function(t){return this._context=t,this},setParent:function(t){this._parent=t},on:function(t,e){for(var i=this._handlers[t]=this._handlers[t]||[],n=0,r=i.length;r>n;n++)if(i[n]===e)return;i.push(e)},off:function(t,e){if(this._handlers[t]){var i=this._handlers[t];if(e){for(var n=0,r=i.length;r>n;n++)if(i[n]===e)return void i.splice(n,1)}else delete this._handlers[t]}},trigger:function(){var t,e=arguments[0],i=this._handlers[e],n=arguments.length>1?Array.prototype.slice.call(arguments,1,arguments.length):null;if(i)for(var r=0,s=i.length;s>r;r++)if(t=i[r].apply(i[r],n),"undefined"!=typeof t)return t},getPromise:function(){var t=this;return this.isAborted()?this.promise:this.promise.then(function(){return t._getResolvedValue()}).fail(function(){return i.reject(t._getRejectedValue())})},fin:function(t){return t=this._bind(t),this.promise.isPending()?this.promise.fin(t):t(),this},stopped:function(t){return t=this._bind(t),this.isPending()?this.on("stop",t):this.isAborted()&&t(this._getRejectedValue()),this},isFlow:function(t){return t&&t instanceof n}}),t.Flow=n}(r),function(i){var r=["model","collection","el","id","attributes","className","tagName","events"],s=n.View.extend({skipGlobalEvents:!1,windowEvents:null,documentEvents:null,ui:null,options:null,events:null,styles:null,constructor:function(t){this._windowEvents=null,this._documentEvents=null,this._delegateEventSplitter=/^([\S,]+)\s*(.*)$/,this._optionSetters={},this._isAttachedGlobalEvents=!1,this.windowEvents=this.windowEvents||{},this.documentEvents=this.documentEvents||{},this.ui=this.ui||{},this.options=this.options||{},this.events=this.events||{},this.styles=this.styles||{},t&&e.extend(this,e.pick(t,e.keys(s.prototype))),e.isEmpty(this.events)||(this.events=this._splitEventName(this.events)),e.isEmpty(this.windowEvents)||(this._windowEvents=this.parseEvents(this.windowEvents)),e.isEmpty(this.documentEvents)||(this._documentEvents=this.parseEvents(this.documentEvents)),e.isEmpty(this.ui)||(this._uiOptions=this.ui,this.ui={}),e.isEmpty(this.options)||(this._optionSetters=this._parseOptions(this.options)),this._initialize(t)},_initialize:function(t){this.cid=e.uniqueId("view"),t=t||{},e.extend(this,e.pick(t,r)),this.initialize.call(this,t),this.setOptions(t)},setElement:function(t,e){var i=this.$el&&this.$el.parent(),r=this.$el;n.View.prototype.setElement.call(this,t,e),i&&(this.$el.insertBefore(r),r.remove())},setOptions:function(t){var i=this;t=t||{},e.isEmpty(t)||e.each(t,function(t,e){"undefined"!=typeof i[e]&&(i[e]=t),i._optionSetters[e]&&i._optionSetters[e](t)})},parseEvents:function(t){var i={};return t=this._splitEventName(t),e.each(t,function(t,n){var r=n.match(this._delegateEventSplitter),s=r[1],o=r[2];e.isFunction(t)||(t=this[t]),t&&(t=e.bind(t,this),i[s]=i[s]||[],i[s].push({selector:o,method:t}))},this),i},_parseOptions:function(t){var i={},n=e.bind(function(t,i,r){return-1!==i.indexOf(",")?void e.each(i.split(","),function(e){n(t,e.replace(/^\s+|\s+$/g,""),r)}):(r="string"==typeof r?this[r]:r,void(r&&(t[i]=e.bind(r,this))))},this);return e.each(t,function(t,e){n(i,e,t)}),i},attachGlobalEvents:function(){var i,n,r=".delegateEvents"+this.cid;this._isAttachedGlobalEvents||(this._windowEvents&&(i=t(window),e.each(this._windowEvents,function(t,e){for(var n=0;n<t.length;n++)i.on(e+r,"string"==typeof t[n].method?this[t[n].method]:t[n].method)},this)),this._documentEvents&&(n=t(document),e.each(this._documentEvents,function(t,e){for(var i=0;i<t.length;i++)n.on(e+r,t[i].selector,"string"==typeof t[i].method?this[t[i].method]:t[i].method)},this)),this._isAttachedGlobalEvents=!0)},detachGlobalEvents:function(){var e=".delegateEvents"+this.cid;this._isAttachedGlobalEvents&&(this._windowEvents&&t(window).off(e),this._documentEvents&&t(document).off(e),this._isAttachedGlobalEvents=!1)},createUi:function(){this._uiOptions&&e.each(this._uiOptions,function(t,e){this.ui[e]=this.$(t)},this),this.itemPartContainer=this._itemPartContainer&&"string"==typeof this._itemPartContainer?this.$(this._itemPartContainer):this.itemPartContainer||this.$el},show:function(){this.$el.show()},hide:function(){this.$el.hide()},toggle:function(t){"undefined"==typeof t&&(t=!this.isShown()),t?this.show():this.hide()},isShown:function(){return this.$el.is(":visible")},_splitEventName:function(t){var i={};return e.each(t,function(t,n){var r,s,o;return-1!==n.indexOf(",")&&(n=n.toString().replace(/\s*,\s*/g,","),r=n.match(this._delegateEventSplitter),s=r[1].split(","),o=r[2],s.length>1)?void e.each(s,function(e){var n=e+(o?" "+o:"");i[n]=t}):void(i[n]=t)},this),i}});e.extend(s.prototype,i.Events),s.extend=function(){var t=["windowEvents","documentEvents","ui","options","events","styles"],i=s.extend;return function(){var n=this,r=i.apply(this,arguments);return e.each(t,function(t){var i=n.prototype[t],s=r.prototype,o=s[t];i!==o&&(s[t]=e.defaults(o,i))}),r}}(),i.View=s}(r),function(r){var s={_queue:[],_maxPartsStoppedAtOnce:500,_delay:100,_isRunning:!1,dequeue:function(){return this._queue.shift()},enqueue:function(){var t=e.toArray(arguments);this._queue.push.apply(this._queue,t)},run:function(){function t(){for(var i,n=e._maxPartsStoppedAtOnce;(i=e.dequeue())&&n--;)i();e.getLength()?setTimeout(t,e._delay):e._isRunning=!1}var e=this;this._isRunning=!0,setTimeout(t,e._delay)},isRunning:function(){return this._isRunning},getLength:function(){return this._queue.length}},o={start:{run:function(t,e){var n=i.defer();return t.flow.next(function(){return i.all([t._requireItemParts(),t._requireChildParts()])}).next(function(){t._createChildPart(),t.delegateEvents(),t.listenTo(t,"all",function(){t.parent&&t.isBubbling()&&t.parent.bubble.apply(t.parent,arguments)})}).next(function(){return t.onSetup?t.onSetup.apply(t,e):void 0}).next(function(){n.resolve()}),n.promise},next:"setup"},setup:{run:function(t,e){var n=i.defer();return t.flow.next(function(){t._createItemParts(),t._startChildParts(e),t._startItemParts(e),t.skipGlobalEvents||t.attachGlobalEvents(),t.attachModelEvents()}).next(function(){return t.onStart?t.onStart.apply(t,e):void 0}).next(function(){n.resolve()}),n.promise},next:"render"},render:{run:function(t){var e,n=i.defer();return t.flow.next(function(){t.template&&(t.$el[0].innerHTML=t.template(t.serializeData())),t._getChildPartContainers(),t.createUi()}).next(function(){return e=t._getChildPartsRenderPromise().concat(t._getItemPartsRenderPromise()),t.onRender?t.onRender():void 0}).next(function(){return t._attachReplaceItemParts(),t.__isRendered=!0,t.trigger("render"),i.all(e)}).next(function(){t.__renderDefer.resolve(),t.__isTriggeredRenderAll=!0,t.trigger("renderAll"),n.resolve()}),n.promise},next:"domReady"},domReady:{run:function(t,e,n){var s=i.defer(),o=r.Router.getCurrentRouter(),a=o&&o.getRouteInfo(),h=function(t){t._invokeToChildParts(h),t.__isAppendedToParent&&!t.__isTriggeredDomReady&&t._triggerDomReady(),!t.__hasTriggeredOnRoute&&a&&t._triggerRoute(a.name,a.args,o)};return t.parent&&t.parent.__isRendered&&!t.__isAppendedToParent&&!n&&t.flow.next(function(){t._isAppendedPart()||t.__isItemPart?t.parent._attachItemPart(t):t.parent._attachChildPart(t.name)}),t.flow.next(function(){t._attachItemParts(),t._attachChildParts()}),t.flow.next(function(){t.parent?t.parent.__isTriggeredDomReady&&t.domReady():h(t)}).next(function(){s.resolve()}),s.promise},next:"complete"},complete:{run:function(){}}},a=r.View.extend({name:null,template:null,model:null,parent:null,collection:null,childParts:null,itemPart:null,itemPartContainer:null,itemFilter:null,emptyPart:null,modelEvents:null,collectionEvents:null,el:function(){var t=this.template&&this.template.wrap||"<"+e.result(this,"tagName")+">",i=n.$(t),r=e.extend({},e.result(this,"attributes"));return this.id&&(r.id=e.result(this,"id")),this.className&&(r.className=e.result(this,"className")),this.model&&this.model.getPrimaryValue()&&(r["data-model"]=this.model.getPrimaryValue()),i.attr(r),i},constructor:function(t){this.__isRendered=!1,this.__partOptions={},this.__isStarted=!1,this.__itemPartMap={},this.__itemPartList=[],this.__isTriggeredRenderAll=!1,this.__isAttachedModelEvents=!1,this.__isAppendedToParent=!1,this.__isTriggeredDomReady=!1,this.__$replacedContainer=null,this.__childPartContainers=null,this.__hasTriggeredOnRoute=!1,this.__isItemPart=t&&t.isItemPart?!0:!1,this.__renderDefer=i.defer(),this.__replaceItems={},this.__hasOwnElement=this.template||this.el&&this.el!==r.Part.prototype.el?!0:!1,this.modelEvents=this.modelEvents||{},this.collectionEvents=this.collectionEvents||{},e.isEmpty(this.childParts)||(this.__partOptions=this._parseModuleOption(this.childParts)),this.childParts={},t&&e.extend(this,e.pick(t,e.keys(a.prototype))),this.flow=new r.Flow(this.name).setContext(this),this._itemPartContainer=this.itemPartContainer,this.itemPartContainer=null,r.View.apply(this,arguments)},serializeData:function(){var t={};return this.model?t=this.model.toData(!0):this.collection&&(t={length:this.collection.length,items:this.itemFilter?e.filter(this.collection.models,this.itemFilter):this.collection.toData(!0)}),this.extendData&&(t=e.defaults(this.extendData()||{},t)),t},addPart:function(t,n,s){var o=this.flow.fork();s=s||{};var a=s.options,h=s.listeners,l=s.selector,u=s.isReplace||!1;return this.hasChildPart(t)&&!u?(this.isAvailableChildPart(t)&&a&&this.childParts[t].setOptions(a),this.__partOptions[t]&&this.__partOptions[t].flow&&this.__partOptions[t].flow.isPending()&&(o=this.__partOptions[t].flow),o.next(function(){return!1})):(u&&this.removePart(t),a=e.extend(a||{},{name:t,parent:this}),!e.isEmpty(this.__childPartContainers)&&this.__childPartContainers[t]&&(l=this.__childPartContainers[t]),this.__partOptions[t]={name:t,selector:l,module:n,flow:o,isReserved:!1,isDynamic:!0},o.next(function(){var e,r=n,s=this;return"string"==typeof n?(e=i.defer(),require([n],function(i){s.childParts[t]=new i(a),e.resolve()}),e.promise):void(this.childParts[t]=new r(a))}),o.next(function(){h&&this.listenTo(this.childParts[t],h)}),o.next(function(){if(!this.isStarted())return!1;var e=i.defer(),n=this.childParts[t],s=r.Router.getCurrentRouter();return n?(n.hasOwnElement()||(n.el=this._getElementBySelector(l)),n.start.apply(n,s&&s.getRouteInfo().args),n.renderPromise(function(){e.resolve()}),e.promise):i.reject()}),this.__partOptions[t].isReserved=!0,o.next(function(){return!this.isAvailableChildPart(t)&&this.__isRendered?i.reject():!0}))},removePart:function(t){if("string"==typeof t&&this.childParts[t]){if(this.__partOptions[t]&&!this.__partOptions[t].isDynamic)throw new Error("removePart는 동적으로 추가된 파트에만 할 수 있습니다");this.childParts[t].stop(),this.stopListening(this.childParts[t]),delete this.childParts[t],delete this.__partOptions[t]}else t instanceof r.Part&&e.some(this.childParts,function(e,i){return e===t?(this.removePart(i),!0):void 0},this)},_triggerRoute:function(t,e,i){return this.__hasTriggeredOnRoute=!0,this.onRoute?this.onRoute(t,e,i):void 0},route:function(t,e,i){this._invokeToChildParts(function(n){n.route(t,e,i)}),this._triggerRoute(t,e,i)},start:function(){var t=i.resolve(),n=o.start,s=this;if(!this.isStarted()){for(this.__isStarted=!0,this.flow.isAborted()&&(this.flow=new r.Flow(this.name).setContext(this)),this.$el||this._ensureElement();n&&n!==o.render;)t=t.then(e.bind(n.run,this,this,arguments)),n=o[n.next];return t.then(function(){s.renderAfterStart()}),this}},render:function(t){var n=r.Router.getCurrentRouter();if(this.isStarted())return this.clearItemParts(),this._removeAppendedChildParts(),this.__renderDefer=i.defer(),e.invoke(this.childParts,"render",!0),this._createItemParts(),this._startItemParts(n&&n.getRouteInfo().args),this.renderAfterStart(t===!0?!1:!0),this},renderAfterStart:function(t){var n=i.resolve(),r=o.render;if(this.isStarted()){for(;r&&r.run;)n=n.then(e.bind(r.run,this,this,arguments,t)),r=o[r.next];return this}},stop:function(){return this.isStarted()?(this._readyStop(),s.isRunning()||s.run(),this):this},_readyStop:function(){this._depthFirstTraversal(this,function(t,i,n){t.isStarted()&&(t.flow.abort(),t.detachGlobalEvents(),t.__isAttachedModelEvents=!1,t._renderedPartCount=0,t.__isRendered=!1,t.__isStarted=!1,t.__isTriggeredRenderAll=!1,t.__hasTriggeredOnRoute=!1,t.__renderDefer.reject(),e.each(t.__partOptions,function(e,i){t.__partOptions[i].isDynamic&&delete t.__partOptions[i]}),t.childParts={},t.__itemPartMap={},t.__itemPartList=[],t.onStop&&t.onStop(),n?s.enqueue(e.bind(t._stop,t)):t._stop())})},_depthFirstTraversal:function(t,i){function n(t,r,s){var o=e.clone(t.childParts),a=e.clone(t.__itemPartMap);i(t,r,s),e.each(o,n),e.each(a,n)}n(t)},_stop:function(){this.stopListening(),this._detachFromParent(),this.undelegateEvents()},isStarted:function(){return this.__isStarted},isRendered:function(){return this.__isRendered},isRenderedAll:function(){return this.__isTriggeredRenderAll},isDomReady:function(){return this.__isTriggeredDomReady},isAborted:function(){return this.flow.isAborted()},hasChildPart:function(t){return this.__partOptions&&this.__partOptions[t]?!0:!1},isAvailableChildPart:function(t){return this.hasChildPart(t)&&this.childParts[t]&&this.childParts[t].isStarted()?!0:!1},addNextFlow:function(t,e,i){return this.flow.next(t,e,i)},_startItemParts:function(t){e.each(this.__itemPartList,function(e){e&&e.start.apply(e,t)})},_startChildParts:function(t){e.isEmpty(this.__partOptions)||e.each(this.childParts,function(e){e&&e.start.apply(e,t)})},_getChildPartContainers:function(){var i=this;(this.template||null===this.__childPartContainers)&&(this.__childPartContainers={},e.each(this.$("[data-part]"),function(e){var n=t(e),r=n.attr("data-part");i.__childPartContainers[r]=n,n.removeAttr("data-part")}))},domReady:function(t){t&&this._setAppendedChildPart(this),this.__isTriggeredDomReady||!this.__isTriggeredRenderAll||!this.__isAppendedToParent||this.parent&&!this.parent.__isAppendedToParent||(this._invokeToChildParts(function(t){t.domReady()}),this._triggerDomReady())},_invokeToChildParts:function(t){e.isEmpty(this.__partOptions)||e.each(this.childParts,t),e.isEmpty(this.__itemPartList)||e.each(this.__itemPartList,t)},_triggerDomReady:function(){this.__isTriggeredDomReady=!0,this.onDomReady&&this.onDomReady(),this.trigger("domReady")},renderPromise:function(t){this.__renderDefer.promise.then(t)},_getItemPartsRenderPromise:function(){return e.map(this.__itemPartList,function(t){return t.__renderDefer.promise})},_getChildPartsRenderPromise:function(){return e.map(e.values(this.childParts),function(t){return t.__renderDefer.promise})},_removeAppendedChildParts:function(){var t=this;e.isEmpty(this.__partOptions)||e.each(this.childParts,function(e,i){e&&(t.__partOptions[i].isDynamic?t.removePart(i):e._detachFromParent())})},_detachFromParent:function(){this.__$replacedContainer?(this.__$replacedContainer.insertBefore(this.$el),this.$el.detach()):this.hasOwnElement()&&this.$el.detach(),this.__$replacedContainer=null,this.__isAppendedToParent=!1,this.__isTriggeredDomReady=!1},_isAppendedPart:function(){return this.__$replacedContainer&&this.__$replacedContainer.length},_attachChildPart:function(t){var i,n=this.__partOptions[t],r=this.childParts[t];if(r&&n&&!r.__isAppendedToParent){if(n.isDynamic&&!r.hasOwnElement())return void this._setAppendedChildPart(r);n.selector&&(i=this._getElementBySelector(n.selector)),!e.isEmpty(this.__childPartContainers)&&this.__childPartContainers[t]&&(i=this.__childPartContainers[t]),i&&i.length&&(r._replaceElement(i,t),this._setAppendedChildPart(r))}},_replaceElement:function(t,e){this.__$replacedContainer=t,this.$el.attr("data-part-name",e).insertBefore(this.__$replacedContainer),this.__$replacedContainer.detach()},_attachItemParts:function(){var t=this;e.each(this.__itemPartList,function(e){e.__isTriggeredRenderAll&&t._attachItemPart(e)})},_attachChildParts:function(){var t=this;e.each(this.childParts,function(e,i){e.__isTriggeredRenderAll&&t._attachChildPart(i)})},_attachReplaceItemParts:function(){e.each(this.__itemPartList,e.bind(this._attachReplaceItemPart,this))},_attachReplaceItemPart:function(i,n){var r,s,o=t(i.placeHolderTemplate?i.placeHolderTemplate():'<div style="display:none"></div>'),a=this.itemPartContainer;e.isNumber(n)&&-1!==n&&0!==this.__itemPartList.length?0===n?a.prepend(o):(s=this.__itemPartList[n-1],r=this.__replaceItems[s.cid]||s.$el,r.after(o)):a.append(o),this.__replaceItems[i.cid]=o},_popReplaceByItemPart:function(t){var e=this.__replaceItems[t.cid];return delete this.__replaceItems[t.cid],e},_attachItemPart:function(t){var e=t.$el,i=this._popReplaceByItemPart(t);i&&!t.__isAppendedToParent&&(i.replaceWith(e),this._setAppendedChildPart(t),this.trigger("renderItemPart",t))},_setAppendedChildPart:function(t){t.__isAppendedToParent=!0},addItemPart:function(t,i,n){var s,o=r.Router.getCurrentRouter(),a=e.extend({at:this.__itemPartList.length},n).at;return this.itemFilter&&!this.itemFilter(t)?!1:(s=this._createItemPart(t,a),s.start.apply(s,o&&o.getRouteInfo().args),this._attachReplaceItemPart(s,a),s)},removeItemPart:function(t){var i=this.__itemPartMap[t.getPrimaryValue()];i&&(i.stop(),delete this.__itemPartMap[t.getPrimaryValue()],this.__itemPartList.splice(e.indexOf(this.__itemPartList,i),1))},clearItemParts:function(){e.invoke(this.__itemPartMap,"stop"),this.__itemPartMap={},this.__itemPartList=[]},renderItemParts:function(){var t=r.Router.getCurrentRouter();this.clearItemParts(),this._createItemParts(),this._attachReplaceItemParts(),this._startItemParts(t&&t.getRouteInfo().args)},getItemPart:function(t){return this.__itemPartMap[t.getPrimaryValue()]},getItemParts:function(){return this.__itemPartList},_requirePart:function(t,n){var r=i.defer();return e.isEmpty(t)?i.resolve():(require(e.values(t),function(){e.each(t,n),r.resolve()}),r.promise)},_requireItemParts:function(){var t={},e=this;return this.itemPart&&"string"==typeof this.itemPart&&(t.itemPart=this.itemPart),this.emptyPart&&"string"==typeof this.emptyPart&&(t.emptyPart=this.emptyPart),this._requirePart(t,function(t,i){e[i]=require(t)})},_requireChildParts:function(){var t=this,n={};return e.isEmpty(this.__partOptions)?i.resolve():(e.each(this.__partOptions,function(t){"string"==typeof t.module&&(n[t.name]=t.module)}),this._requirePart(n,function(e,i){t.__partOptions[i].module=require(e)}))},_createChildPart:function(){var t=this;e.isEmpty(this.__partOptions)||e.each(this.__partOptions,function(e,i){var n=e.module;e.isDynamic||(t.childParts[i]=new n({name:i,parent:t}))})},_createItemPart:function(t,e){var i,n;return i=this.itemPart.prototype instanceof r.Part?this.itemPart:this.itemPart(t),n=new i({model:t,parent:this,isItemPart:!0}),this._addItemPart(n,e),n},_createEmptyPart:function(){var t,e;return t=this.emptyPart.prototype instanceof r.Part?this.emptyPart:this.emptyPart(),e=new t({parent:this,isItemPart:!0}),this._addItemPart(e),e},_createItemParts:function(){var t;(this.itemPart||this.emptyPart)&&this.collection&&(t=this.itemFilter?e.filter(this.collection.models,this.itemFilter):this.collection.models,this.itemPart&&e.each(t,this._createItemPart,this),0===t.length&&this.emptyPart&&this._createEmptyPart())},_addItemPart:function(t,i){var n=t.model&&t.model.getPrimaryValue()?t.model.getPrimaryValue():t.cid;this.__itemPartMap[n]=t,e.isUndefined(i)?this.__itemPartList.push(t):this.__itemPartList.splice(i,0,t)},_parseModuleOption:function(t){var i={},n=["name","selector","module"];return e.each(t,function(t,r){var s=r.split(" ");s.push(s.splice(1,s.length-1).join(" ")),s.push(t),i[s[0]]=e.object(n,s)}),i},isAttachedModelEvents:function(){return this.__isAttachedModelEvents},hasTriggeredOnRoute:function(){return this.__hasTriggeredOnRoute},attachModelEvents:function(){var t=this;this.__isAttachedModelEvents&&this.detachModelEvents(),!e.isEmpty(this.modelEvents)&&this.model&&(e.each(e.result(this,"modelEvents"),function(i,n){var r=n.split(/\s*,\s*/);e.each(r,function(e){t.listenTo(t.model,e,"string"==typeof i?t[i]:i)})}),this.__isAttachedModelEvents=!0),!e.isEmpty(this.collectionEvents)&&this.collection&&(e.each(e.result(this,"collectionEvents"),function(i,n){var r=n.split(/\s*,\s*/);e.each(r,function(e){t.listenTo(t.collection,e,"string"==typeof i?t[i]:i)})},this),this.__isAttachedModelEvents=!0)},detachModelEvents:function(){this.__isAttachedModelEvents&&(!e.isEmpty(this.modelEvents)&&this.model&&this.stopListening(this.model),!e.isEmpty(this.collectionEvents)&&this.collection&&this.stopListening(this.collection),this.__isAttachedModelEvents=!1)},_getElementBySelector:function(t){var i;return i=e.isString(t)?"*"===t?this.$el:this.$(t):t},hasOwnElement:function(){return this.__hasOwnElement||this.template},showAll:function(){e.invoke(this.childParts,"showAll"),this.show()},hideAll:function(){this.hide(),e.invoke(this.childParts,"hideAll")},defer:function(t){return e.defer(e.bind(t,this))},onSetup:null,onStart:null,onStop:null,onRender:null,onRoute:null,onDomReady:null,extendData:null});r.Part=a}(r),function(t){var r="/",s=n.Model.extend({parent:null,virtuals:null,DATA_EXPIRES_TIME:1e4,constructor:function(t,i){var r;this._virtuals={},this._gettingVirtualKey=null,this._cachedData=null,this._timeCachedData=0,this.parent=i&&i.parent?i.parent:null,n.Model.apply(this,arguments),r=e.keys(this.defaults),e.each(this.defaults,function(t,i){e.isFunction(t)&&!this._isModelInstance(this.attributes[i])&&this._addModel(i,this.defaults[i],this.attributes[i])},this),e.each(this.virtuals,function(t,i){if(e.contains(r,i))throw new Error("defaults 에서 사용하는 "+i+"을 가상 데이터에서 사용하려 합니다");if(e.isFunction(t)||(t=this[t]),!t)throw new Error(i+" 가상 데이터의 getter가 정의되지 않았습니다");t=e.bind(t,this),this._virtuals[i]=t},this)},set:function(t,i){var r;if(this.resetCache(),"object"==typeof t)r=t,e.each(r,function(t,e,i){this._setter(e,t)&&delete i[e]},this);else if(this._setter(t,i))return this;return n.Model.prototype.set.apply(this,arguments)},get:function(t){var e;if(t&&this._virtuals&&this._virtuals[t]){if(this._gettingVirtualKey===t)throw new Error("virtual 속성에서 같은 virtual 속성을 상호참조할 수 없습니다.");return this._gettingVirtualKey||(this._gettingVirtualKey=t),e=this._virtuals[t](),this._gettingVirtualKey===t&&(this._gettingVirtualKey=null),e}return n.Model.prototype.get.apply(this,arguments)},getPrimaryValue:function(){return this.get(this.idAttribute)||this.cid},_setter:function(t,i){var r=this.attributes[t];if(this._virtuals&&this._virtuals[t])throw new Error("가상 데이터에서 사용하는 속성은 set을 사용할 수 없습니다");if(e.isFunction(i))return this._addModel(t,i),!0;if(e.isObject(r)&&i){if(r instanceof n.Model)r.set(i);else{if(!(r instanceof n.Collection))return!1;r.add(i)}return!0}return!1},_addModel:function(t,i,n){var s=new i(n||null,{parent:this});this.listenTo(s,"all",function(){var i=arguments[0],n=e.rest(arguments),o=i.split(r),a="all"===e.last(o),h=o.length-1<2;this.bubble.apply(this,[t+r+i].concat(n)),s.isBubbling()?a&&h&&(i=e.initial(o).join(r)+r+n.shift(),this.bubble.apply(this,[t+r+"all",i].concat(n))):this.bubble.apply(this,[t+r+"all",i].concat(n))}),this.attributes[t]=s},_isModelInstance:function(e){return e instanceof n.Model||e instanceof t.Model||e instanceof n.Collection||e instanceof t.Collection},toJSON:function(){var t={};for(var e in this.attributes)this.attributes.hasOwnProperty(e)&&(t[e]=this.attributes[e]&&"undefined"!=typeof this.attributes[e].toJSON?this.attributes[e].toJSON():this.get(e));return t},toData:function(e){var i,r,s,o={},a=(new Date).getTime();if(this._cachedData&&a-this._timeCachedData<=this.DATA_EXPIRES_TIME)return e?this._cachedData:t.util.deepClone(this._cachedData);for(i in this.attributes)this.attributes.hasOwnProperty(i)&&(r=this.attributes[i],r instanceof n.Collection||(o[i]=r&&"undefined"!=typeof r.toData?r.toData(!0):r&&"undefined"!=typeof r.toJSON?r.toJSON():this.get(i)));for(i in this._virtuals)this._virtuals.hasOwnProperty(i)&&(s=this._virtuals[i],o[i]=s());return this.DATA_EXPIRES_TIME&&(this._cachedData=o,this._timeCachedData=a),o},reset:function(t,i){var n=t||{},r=!e.isEmpty(t);return e.each(this.attributes,function(t,s){return s in this.defaults?void(this.defaults[s]&&this._isModelInstance(t)?t.reset(null,e.defaults({silent:!0},i)):r||(n[s]=this.defaults[s])):void delete this.attributes[s]},this),this.set(n,e.defaults({silent:!0},i)),i&&i.silent||(e.each(this.attributes,function(t,e){this.defaults[e]&&this._isModelInstance(t)&&t.trigger("reset")},this),this.trigger("reset")),this},save:function(){var t=n.Model.prototype.save.apply(this,arguments);return t===!1?i.reject():t},destroy:function(){var t=n.Model.prototype.destroy.apply(this,arguments);return t===!1?i.resolve(this):t},resetCache:function(){this._cachedData=null,this._timeCachedData=0,this.collection&&this.collection.resetCache(),this.parent&&this.parent.resetCache()}});e.extend(s.prototype,t.Events),t.Model=s,t.ProxyModel={_instanceMap:{},_rxConstant:/^[_A-Z]+$/,_rxPublicMethod:/^[^_][a-zA-Z0-9]+$/,create:function(i){var n=t.Model.extend({constructor:function(n,r){t.Model.prototype.constructor.apply(this,arguments),t.ProxyModel.setOriginalInstance(i,e.extend({key:this.getPrimaryValue(),isTemporary:!this.id,proxyInstance:this,attributes:n},r))},_getOriginalInstance:function(){return this._syncKey&&t.ProxyModel.getOriginalInstance(this._syncKey)}});for(var r in i)this._rxConstant.test(r)&&!e.isFunction(i[r])&&(n[r]=i[r]);n.extend=function(){throw new Error("ProxyModel은 더 이상 확장할 수 없습니다.")};for(var r in i.prototype)e.isFunction(i.prototype[r])&&this._rxPublicMethod.test(r)&&"constructor"!==r?"off"===r?n.prototype.off=function(){var t;if(arguments.length<2)throw new Error("ProxyModel을 사용하는 경우, off() 메서드 호출 시에 2개 이상의 파라미터를 전달해야 합니다.");return t=this._getOriginalInstance(),t.off.apply(t,arguments)}:"set"===r?n.prototype.set=function(){var i;this._syncKey?(i=[this._syncKey].concat(e.toArray(arguments)),t.ProxyModel.proxySetter.apply(t.ProxyModel,i)):t.Model.prototype.set.apply(this,arguments)}:"crush"===r?n.prototype.crush=function(){}:n.prototype[r]=function(e){return function(){var i=this._syncKey&&t.ProxyModel.getOriginalInstance(this._syncKey);return i?i[e]?i[e].apply(i,arguments):void 0:t.Model.prototype[e].apply(this,arguments)}}(r):this._rxConstant.test(r)&&(n.prototype[r]=i.prototype[r]);return n},getOriginalInstance:function(t){return this._instanceMap[t]&&this._instanceMap[t].originalInstance},setOriginalInstance:function(e,i){if(!e||!e.NAME)throw new Error("ProxyModel을 생성하기 위한 OriginalClass가 없거나 OriginalClass의 이름이 설정되지 않았습니다.");var n=e.NAME+"-"+i.key,r=this.getOriginalInstance(n);return i.proxyInstance._syncKey=n,r?t.ProxyModel.proxySetter(n,i.attributes):this.createOriginalInstance(e,i),r},createOriginalInstance:function(t,e){var i=new t(e&&e.attributes),n=t.NAME+"-"+e.key;i._syncKey=n,this._instanceMap[n]={name:t.NAME,originalClass:t,originalInstance:i,proxyInstance:e.isTemporary?e.proxyInstance:null,isTemporary:e.isTemporary}},_replaceOriginalInstance:function(t,e){var i,n,r=this._instanceMap[t],s=r.originalInstance,o=this._instanceMap[e]&&this._instanceMap[e].originalInstance;if(r.proxyInstance._syncKey=e,o||(o=new r.originalClass,r.syncKey=e,r.originalInstance=o,r.isTemporary=!1,this._instanceMap[e]=r),s._events){for(var a in s._events)if(n=s._events[a],n&&n.length)for(var h=0,l=n.length;l>h;h++)i=n[h],i.context||(i.ctx=o),o._events||(o._events={}),o._events[a]||(o._events[a]=[]),o._events[a].push(i);s.off()}return delete this._instanceMap[t],o},proxySetter:function(t,i,n){if(t&&this._instanceMap[t]){var r,s,o=this._instanceMap[t],a=o.originalInstance.idAttribute;o.isTemporary&&(i===a||e.has(i,a))?(r=o.originalClass.NAME+"-"+(i===a?n:i[a]),s=this._replaceOriginalInstance(t,r),s.set(i,n)):o.originalInstance.set(i,n)}}}}(r),function(t){var r=n.Collection.extend({parent:null,DATA_EXPIRES_TIME:1e4,constructor:function(t,e){this._cachedData=null,this._timeCachedData=0,this.parent=e&&e.parent?e.parent:null,n.Collection.apply(this,arguments)},createAndWait:function(t,n){return n=e.defaults({wait:!0},n||{}),(t=this._prepareModel(t,n))?t.save(null,n):i.reject("Can't create a model")},set:function(t,e){return this.resetCache(),n.Collection.prototype.set.call(this,t,e)},remove:function(t,e){return this.resetCache(),n.Collection.prototype.remove.call(this,t,e)
},sort:function(t){return this.resetCache(),n.Collection.prototype.sort.call(this,t)},toData:function(e){var i=[],n=(new Date).getTime();if(this._cachedData&&n-this._timeCachedData<=this.DATA_EXPIRES_TIME)return e?this._cachedData:t.util.deepClone(this._cachedData);for(var r=0,s=this.models.length;s>r;r++)i.push(this.models[r].toData(!0));return this.DATA_EXPIRES_TIME&&(this._cachedData=i,this._timeCachedData=n),i},resetCache:function(){this._cachedData=null,this._timeCachedData=0}});e.extend(r.prototype,t.Events),t.Collection=r}(r),function(n){var r=function(t,i){this._name=t,this._renderedModuleCount=0,this._router=null,this._routePath=null,this._routeName=null,this._routeArgs=null,this._options=i||{},this._fOnRenderAll=e.bind(this._onRenderAll,this)};e.extend(r.prototype,{setRouter:function(t){this._router=t},getRouter:function(){return this._router},getRoutingPath:function(){return this._routePath},getName:function(){return this._name},route:function(t,e){var i=this;this._options.onRoute&&this._router.addNextFlow(function(){return i._options.onRoute.apply(i,e)})},start:function(e,n){var r=this,s=new RegExp("^"+location.protocol+"//"+location.host);this._routeName=e,this._routeArgs=n,this._routePath=location.href.toString().replace(s,""),this._renderedModuleCount=0,this._router.addNextFlow(function(){return r._options.onBeforeStart?r._options.onBeforeStart():void 0}),this._router.addNextFlow(function(){var s=i.defer();return r._options.isResetScroll!==!1&&t(window).scrollTop(0),r._options.title&&(document.title=r._options.title),require(r._options.modules,function(){for(var t,i=0,o=arguments.length;o>i;i++)t=arguments[i],t.isStarted()&&t.route(e,n,r._router),t.once("renderAll",r._fOnRenderAll),t.start.apply(t,n);s.resolve()}),s.promise}),this._router.addNextFlow(function(){return r._options.onStart?r._options.onStart():void 0})},stop:function(t){var n=this;this._router.addNextFlow(function(){var r=i.defer();return e.isEmpty(n._options.modules)?r.resolve():require(n._options.modules,function(){for(var e=0,i=arguments.length;i>e;e++)arguments[e].keepAlive&&t&&t.hasModule(n._options.modules[e])&&arguments[e].isStarted()&&!arguments[e].isAborted()||arguments[e].stop();r.resolve()}),r.promise})},routeModule:function(t,i){var n=this;e.isEmpty(this._options.modules)||this._router.addNextFlow(function(){require(n._options.modules,function(){for(var e,r=0,s=arguments.length;s>r;r++)e=arguments[r],e.route(t,i,n._router)})})},hasModule:function(t){return e.contains(this._options.modules,t)},isSameRouting:function(t,i){return this._routeName===t&&e.isEqual(this._routeArgs,i)},_onRenderAll:function(){this._renderedModuleCount++,this._renderedModuleCount===this._options.modules.length&&(this._options.onRenderAll&&this._options.onRenderAll(),this._router.trigger("renderAll"))}}),n.Resolver=r}(r),function(r){var s="(/)",o=100,a=/\(\/\)$/,h=null,l={},u=!1,c=document.referrer,d=location.href,_=[],p={name:null,args:null,url:null,skipTriggeredUrls:[],isSameUrlWithSkipTriggered:!1,isSameUrl:!1,router:null,params:{}},f=function(t){var e=/^https?:\/\/([a-z0-9._-]+)(\:(\d+))?/i,i="",n=t,r="";return e.test(t)&&(i=RegExp.$1,r=RegExp.$3,n=t.replace(e,"")),{host:i,port:r,path:n,isSameHost:!i||location.host===i}},m=function(t,i,n){var r,s=g.getPath(),o=null;return p.isSameUrlWithSkipTriggered?void(p.isSameUrlWithSkipTriggered=!1):(p.name=i||p.name,p.args=n||p.args,p.isSameUrl=null===p.url||p.url===s,p.router=t,p.url=s,-1!==p.url.indexOf("?")&&(o={},r=e.rest(p.url.split("?")).join("?"),e.each(r.split("&"),function(t){var i=t.split("="),n=e.first(i),r=e.rest(i).join("=");o[n]=r}),l=e.defaults(o,l||{})),p.params=l,void(l={}))};n.history.on("route",m);var g=n.Router.extend({routes:null,resolvers:null,staticPath:null,staticModules:null,isInterceptAnchorEvent:!0,onRoute:null,constructor:function(t){var i,s;if(t=t||{},i=this.routes||t.routes,e.extend(this,e.pick(t,e.keys(g.prototype))),this.flow=(new r.Flow).setContext(this),this._isStarted=!1,this._currentResolver=null,this._resolvers={},this._staticModules=[],this._triggeredNavigate=!1,this._routeInfo={name:null,args:null,isSameUrl:null,url:null},e.isArray(this.routes)){for(var o=i.length-1;o>=0;o--)this.route(this._addTrailingSlashRule(i[o].route),i[o].resolverName);this.routes=t.routes=null}else s={},e.each(this.routes,function(t,e){e=this._addTrailingSlashRule(e),s[e]=t},this),this.routes=s;n.Router.apply(this,arguments),this.resolvers&&(e.each(this.resolvers,function(t,e){this.addResolver(e,t)},this),this.on("route",e.bind(this._onRoute,this))),h=this},_addTrailingSlashRule:function(t){return e.isString(t)&&!a.test(t)?t+s:t},_onRoute:function(t,i,n){var s,a=this._resolvers[t],h=this._currentResolver,l=g.getPath(),f=p.skipTriggeredUrls.pop(),m=f===l;return this.flow.isAborted()&&(this.flow=(new r.Flow).setContext(this)),a?(this._triggeredNavigate=u||!h,m&&(t=p.name,i=p.args,p.isSameUrlWithSkipTriggered=!0,a=this._currentResolver),this._routeInfo.name=t||"",this._routeInfo.args=i||[],this._routeInfo.isSameUrl=null===this._routeInfo.url||m||this._routeInfo.url===l,this._routeInfo.url=l,s=this._routeInfo.isSameUrl&&h,this.flow.next(function(){return g._getBeforeUnloadPromise()}),this.flow.next(function(){return h&&(this.isNavigated()?(_.push(c),c=d,_.length>o&&_.shift()):c=_.pop(),d=location.href),this._currentResolver=a,this.onRoute?this.onRoute.apply(this,i):void 0}),h||this._startStaticModules(),void this.flow.next(function(){h&&e.invoke(this._staticModules,"route",t,i,this),this._currentResolver.route(t,i),s&&n!==!0?this._currentResolver.routeModule(t,i):(h&&h.stop(a),this._currentResolver.start(t,i))})):void(this.onRouteError&&this.onRouteError.apply(this,arguments))},triggerRoute:function(t,e){this._onRoute(t,e,!0)},addResolver:function(t,e){this._resolvers[t]=new r.Resolver(t,e),this._resolvers[t].setRouter(this)},_startStaticModules:function(){var t=this;e.isArray(this.staticModules)&&this.flow.next(function(){var e=i.defer();return require(t.staticModules,function(){for(var i,n=0,r=arguments.length;r>n;n++)i=arguments[n],i.start(),t._staticModules.push(i);e.resolve()}),e.promise})},start:function(t){this._isStarted||(t=e.defaults(t||{},{pushState:!0}),this.flow.next(function(){n.history.start(t),this.isInterceptAnchorEvent&&this._attachAnchorEvent()}),this._isStarted=!0)},_attachAnchorEvent:function(){t(document).on("click.router","a",e.bind(function(i){var n=t(i.currentTarget),r=n.attr("href"),s=f(r);s.path&&0===s.path.indexOf("/")&&0!==s.path.indexOf("/#")&&s.isSameHost&&(n.attr("data-skip-navigate")&&"true"===n.attr("data-skip-navigate")||e.contains(this.staticPath,s.path.substr(1))||this.containsRoutes(s.path)&&"_blank"!==n.attr("target")&&(i.metaKey||i.shiftKey||i.ctrlKey||i.altKey||(i.preventDefault(),g.navigate(s.path))))},this))},isStarted:function(){return this._isStarted},getResolver:function(){return this._currentResolver},containsRoutes:function(t){return e.some(n.history.handlers,function(e){var i=t?t.substr(1):"";return e.route.test(i)})},addNextFlow:function(t,e,i){return this.flow.next(t,e,i)},isNavigated:function(){return this._triggeredNavigate},getRouteInfo:function(){return this._routeInfo}});g.navigate=function(t,r){var s,o=i.resolve();if(!t)throw new Error("url이 없습니다");if(s=f(t),!s.isSameHost)throw new Error("유효하지 않은 경로입니다");return r=e.defaults(r||{},{trigger:!0}),r.replace||(o=g._getBeforeUnloadPromise()),r.params&&(l=e.clone(r.params)),r.trigger?p.skipTriggeredUrls=[]:p.params=l,u=!0,o.then(function(){r.trigger&&p.url===g.getPath(s.path)?p.router.triggerRoute(p.name,p.args):(r.trigger||r.replace||p.skipTriggeredUrls.push(g.getPath()),r.trigger||(p.url=g.getPath(s.path)),n.Router.prototype.navigate.call(n.Router,s.path,r))}).fin(function(){u=!1})},g.getPath=function(t){var e=n.history.getFragment(t);return e=e.replace(/\/$/,"")},g.getParams=function(){return p&&p.params||{}},g.getReferrer=function(){return c},g.onBeforeUnload=null,g._getBeforeUnloadPromise=function(){var t,e=i.resolve();return g.onBeforeUnload&&(t=g.onBeforeUnload(),i.isPromise(t)&&(e=t),e=e.then(function(){g.onBeforeUnload=null})),e},g.getCurrentRouter=function(){return h},e.extend(g.prototype,r.Events),r.Router=g}(r),function(i){var n=i.Part.extend({name:null,keepAlive:!1,constructor:function(){if(i.Part.apply(this,arguments),!this.name)throw new Error("Requires a name property")},renderAfterStart:function(){var n=this;i.Part.prototype.renderAfterStart.apply(this,arguments),this.renderPromise(function(){n.flow.next(e.bind(function(){t('[data-module~="'+n.name+'"],[data-module~="*"]').not('[data-module-exclude~="'+n.name+'"]').append(n.$el),n.domReady(!0)},n))})}});i.Module=n}(r),function(t){var e=t.Part.extend({});t.StaticModule=e}(r),r});
define("common/logger",[],function(){var n="debug",e={trace:0,debug:1,info:2,warn:3,error:4},r=e[n],o="console",t=null,i=function(n){for(var e=[+new Date],r=0,o=n.length;o>r;r++)e.push(n[r]);return e},u=function(n,e){if("console"===o){e.shift(),"trace"===n&&(n="log");try{throw new Error("A Fake error for logging")}catch(r){var i=c(r.stack);if(i){if(t&&!t.test(i))return;e.push("<"+i+">")}if("undefined"!=typeof console)try{console[n].apply(console,e)}catch(r){}}}},c=function(n){if(!n)return null;var e=n.match(/\/([^\/]+\.js:[0-9]+)/g);if(e)for(var r=0,o=e.length;o>r;r++)if(-1===e[r].indexOf("/logger"))return e[r].substr(1);return null};return window.logger={setLogLevel:function(n){r=e[n]},setLogMode:function(n){n=n||"console",o=n},setFilter:function(n){t=n},trace:function(){r<=e.trace&&u("trace",i(arguments))},debug:function(){r<=e.debug&&u("debug",i(arguments))},info:function(){r<=e.info&&u("info",i(arguments))},warn:function(){r<=e.warn&&u("warn",i(arguments))},error:function(){r<=e.error&&u("error",i(arguments))},time:function(n){console.time(n)},timeEnd:function(n){console.timeEnd(n)}},window.logger});
define("common/intl",[],function(){var n,r="locales",t="/",u=".json",o="_plural",e="__",i=e,f={lng:"en-US",files:null,msgs:null,onerror:null},l=f.lng,c={},a=function(n){var r=f.onerror;r&&"function"==typeof r&&r(n)},v=function(n){return _.extend(f,n),f},g=function(n){return c[n]},s=function(n,r){c[n]=r},p=function(n){c[n]||(c[n]={}),l=n},m=function(n,o){for(var e=[],i=0,f=o.length;f>i;i++)e.push(r+t+n+t+o[i]+u);return e},w=function(n,r){for(var t=0,u=r.length;u>t;t++)d(n,r[t])},d=function(n,r){var t=g(n);$.ajax(r,{success:function(n){for(var r in n)t[r]=n[r]},error:function(n,r){a(r)}})},h=function(r){var t=x(l,r);return t===n&&a(r+"에 해당하는 메시지가 없습니다."),t},j=function(r,t){for(var u,o=t.split("."),e=0,i=o.length;i>e;e++){if(r=r[o[e]],null===r||r===n)return n;if(e===i-1){if("object"==typeof r)return n;u=r}}return u},x=function(r,t){var u=g(r);return u?j(u,t):n},y=function(n){for(var r in n){var t=n[r];if("number"==typeof t&&t>=2)return!0}return!1},b=function(r,t,u){var f=x(r,t),l=t+o,c=x(r,l),a=f!==n?!0:!1,v=c!==n?!0:!1,g=y(u),s=f;if(!a&&!v)return n;g&&v&&(s=c);for(var p in u){var m=e+p+i;s=s.replace(new RegExp(m,"g"),u[p])}return s},E=function(r,t){var u=b(l,r,t);return u===n&&a(r+"에 해당하는 메시지가 없습니다."),u};return window.intl={init:function(n){var r,t;n=v(n||{}),t=n.msgs,p(n.lng),t?s(n.lng,t):(r=m(n.lng,n.files),w(n.lng,r))},t:function(n,r){return r?E(n,r):h(n)}},window.intl});
(function(){var e="data-kant-id",t="data-kant-option",n="data-kant-ignore",r=",",a=":",i=!1,o=(new Date).getTime(),f={},d={trackId:"",host:"//ad1-kant.kakao.com/web/track.gif",eventName:"click",pagePattern:"",additionalValue:""},u=function(r){var a,i=$(r.currentTarget),o=i.attr(e),f=i.attr(t),d=i.attr(n);"false"!==o&&"true"!==d&&(f=p(f),a=m.trigger("beforeDomSend",r,{pageId:o,additionalValue:f}),a&&(o=a.pageId,f=a.additionalValue),m.send(o,f))},s=function(){return encodeURIComponent(document.referrer||"")},p=function(e){var t={};return _.isString(e)?_.each(e.split(r),function(e){var n=e.split(a);t[n[0]]=n[1]}):_.isObject(e)&&(t=e),t},g=function(e){var t="";if("string"!=typeof e){for(var n in e)e.hasOwnProperty(n)&&(t+=r+n+a+e[n]);t&&(t=t.substr(1))}else t=e;return t},c=function(e,t){var n=new Image(1,1);t&&$(n).one("load error",function(){t()}),n.src=e},l=function(e,t){for(var n in t)t.hasOwnProperty(n)&&"undefined"==typeof e[n]&&(e[n]=t[n]);return e},m={setOptions:function(e){for(var t in e)e.hasOwnProperty(t)&&(d[t]=e[t],"eventName"===t&&i&&(this.stop(),this.start()))},getOptions:function(e){return e?d[e]:d},send:function(e,t,n,r){var a,i,f,u=s();if(t=t||{},n=l(n||{},d),t=p(t),t&&t.referrer&&(u=t.referrer,delete t.referrer),t.extReferrer=t.extReferrer||"",f=this.trigger("beforeSend",{pageId:e,additionalValue:t,options:n}),f&&(e=f.pageId,t=f.additionalValue,n=f.options),a="",i={ttype:"",tpage:"",opt2:g(t)||"",durtime:Math.round(((new Date).getTime()-o)/1e3),refer:u,ads:n.trackId,ts:Math.round((new Date).getTime()/1e3)},!e&&!n.pagePattern)throw new Error("정의된 페이지 아이디나 규칙이 없습니다.");e?(i.ttype="fieldById",i.tpage=e):(i.ttype="filterByName",i.tpage=n.pagePattern);for(var m in i)i.hasOwnProperty(m)&&(a+="&"+m+"="+i[m]);c(n.host+"?"+a.substr(1),r),this.trigger("send",{pageId:e,additionalValue:t,duration:i.durtime}),this.resetTime()},resetTime:function(){o=(new Date).getTime()},start:function(t){this.setOptions(t),i||($(document).on(d.eventName,"["+e+"]",u),i=!0)},stop:function(){$(document).off(d.eventName,"["+e+"]",u),i=!1},on:function(e,t){for(var n=f[e]=f[e]||[],r=0,a=n.length;a>r;r++)if(n[r]===t)return;n.push(t)},off:function(e,t){if(f[e]){var n=f[e];if(t){for(var r=0,a=n.length;a>r;r++)if(n[r]===t)return void n.splice(r,1)}else delete f[e]}},trigger:function(){var e,t=arguments[0],n=f[t],r=arguments.length>1?Array.prototype.slice.call(arguments,1,arguments.length):null;if(n)for(var a=0,i=n.length;i>a;a++)if(e=n[a].apply(n[a],r),"undefined"!=typeof e)return e},DATA_ATTRIBUTE_ID_NAME:e,DATA_ATTRIBUTE_OPTION_NAME:t,DATA_ATTRIBUTE_IGNORE_NAME:n};"undefined"!=typeof define&&define.amd?define("kant",[],function(){return m}):(window.kakao=window.kakao||{},window.kakao.kant=m)})();
(function(e,t){"function"==typeof define&&define.amd?define("common/agent",[],function(){return"undefined"==typeof e.agent&&(e.agent=t()),e.agent}):"undefined"==typeof e.agent&&(e.agent=t())})(window,function(){var e=768,t=-90,i=90,s=320,n=240,o="0",r="99999",a="x",h=new RegExp(a,"g"),d=function(e){return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))},c={OSES:["android","ios","windows","mac","unknown"],TYPES:["tablet","desktop","mobile"],VENDORS:["samsung","lg","pantech","apple","facebook","unknown"],BROWSERS:["edge","ie","chrome","firefox","safari","unknown"],APPS:["story","talk","facebook","daum","naver","twitter","band","storychannel","unknown"],os:{},type:{},vendor:{},browser:{},app:{},userAgent:"",_setIsProperty:function(e,t,i){var s,n,o;for(e.is=e.is||{},s=0,o=t.length;o>s;s++)n=t[s],e.is[n]=i===n},_setOs:function(e){this._setIsProperty(this.os,this.OSES,e),this.os.name=e},_setOsVersion:function(e){this.os.version=e},_setType:function(e){this._setIsProperty(this.type,this.TYPES,e),"tablet"===e&&(this.type.is.mobile=!0),this.type.name=e},_setVendor:function(e){this._setIsProperty(this.vendor,this.VENDORS,e),this.vendor.name=e},_setBrowser:function(e){this._setIsProperty(this.browser,this.BROWSERS,e),this.browser.name=e},_setApp:function(e){this._setIsProperty(this.app,this.APPS,e),this.app.name=e},_setBrowserVersion:function(e){this.browser.version=e},reset:function(t,i,s){var n,o=this.getScreenInfo(s);this._clear(),this.userAgent=t,/iemobile/i.test(t)?(this._setOs("unknown"),this._setBrowser("ie"),this._setType("mobile")):/android/i.test(t)?(n=t.match(/android (\d+\.\d+(\.\d+)?)/i),this._setOs("android"),this._setBrowser("android"),n&&n[1]&&this._setOsVersion(n[1]),this._setType(/mobile/i.test(t)?"mobile":"tablet"),this._setVendor(/GT-|SCH-|SHV-|SHW-|SPH|SWT-|SGH-|EK-|Galaxy Nexus|SAMSUNG/.test(t)?"samsung":/LG-/.test(t)?"lg":/IM-/.test(t)?"pantech":"unknown")):/(iphone|ipad|ipod)/i.test(t)?(this._setOs("ios"),this._setVendor("apple"),n=t.match(/(\d+_\d+)/i),n&&n[1]&&this._setOsVersion(n[1].replace(/_/,".")),this._setType(/ipad/i.test(t)?"tablet":"mobile")):d(t)?(this._setOs("unknown"),this._setType("mobile")):/(MacIntel|MacPPC)/i.test(i)?(this._setOs("mac"),this._setType("desktop"),n=/Mac OS X (\d+[_.]\d+)/.exec(t),n&&n[1]&&this._setOsVersion(n[1].replace(/_/,"."))):/(win32|win64)/i.test(i)?(this._setOs("windows"),this._setType("desktop"),n=/Windows NT (\d+.\d+)/.exec(t),n&&this._setOsVersion(n[1])):(this._setOs("unknown"),this._setType("desktop")),/MSIE|Trident|iemobile/i.test(t)&&(this._setBrowser("ie"),n=/MSIE (\d+[.]\d+)/.exec(t),n&&this._setBrowserVersion(n[1]),n=/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(t),n&&this._setBrowserVersion(n[1]),n=/iemobile[ \/]?([\d.]*)/i.exec(t),n&&this._setBrowserVersion(n[1]),this.type.is.desktop&&this.isIeVersion("7")&&/Trident/i.test(t)&&this._setBrowserVersion("8.0")),this.browser.is.ie||(/edge/i.test(t)?(this._setBrowser("edge"),n=/edge\/(\d+[.]\d+)/i.exec(t),n&&this._setBrowserVersion(n[1])):/firefox/i.test(t)?(this._setBrowser("firefox"),n=/firefox\/(\d+[.]\d+)/i.exec(t),n&&this._setBrowserVersion(n[1])):/chrome/i.test(t)?(this._setBrowser("chrome"),n=/Chrome\/([\d.]+)/.exec(t),n&&this._setBrowserVersion(n[1])):!this.os.is.android&&/safari/i.test(t)&&this._setBrowser("safari")),this.type.is.tablet&&o.width<e&&this._setType("mobile"),t.indexOf("KAKAOTALK")>-1?this._setApp("talk"):t.indexOf("KAKAOSTORY")>-1?this._setApp("story"):t.indexOf("DaumApps")>-1?this._setApp("daum"):t.indexOf("NAVER")>-1?this._setApp("naver"):/(FBIOS|FB_IAB)/.test(t)?this._setApp("facebook"):t.indexOf("Twitter")>-1?this._setApp("twitter"):t.indexOf("BAND")>-1?this._setApp("band"):t.indexOf("KAKAOCHANNEL")>-1&&this._setApp("storychannel"),this.type.is.mobile&&o.width>=e&&("android"!==this.os.name||this.isOsVersion("4~"))&&(window.debugDataForLogging=window.debugDataForLogging||{},window.debugDataForLogging.checkAgentType={innerWidth:window.innerWidth,innerHeight:window.innerHeight,outerWidth:window.outerWidth,outerHeight:window.outerHeight,devicePixelRatio:window.devicePixelRatio,originalScreenWidth:screen.width,originalScreenHeight:screen.height,orientation:window.orientation,userAgent:navigator.userAgent,screenWidth:o.width,screenHeight:o.height,screenAvailWidth:screen.availWidth,screenAvailHeight:screen.availHeight,clientWidth:(document.documentElement||document.body).clientWidth,clientHeight:(document.documentElement||document.body).clientHeight})},getScreenInfo:function(e,o){var r,a,h,d,c,p,w=!1;return e=e||window.screen,o=o||document.documentElement||document.body,e&&e.width&&e.height?(r=Math.min(e.width,e.height),a=Math.max(e.width,e.height),h=o.clientWidth,d=o.clientHeight,c=window.devicePixelRatio||1,w="number"==typeof window.orientation?window.orientation===t||window.orientation===i:h>d,w&&(p=h,h=d,d=p),(0===h||h===Math.round(r/c)||0===d||d===Math.round(a/c)||h===s&&d===n)&&(r/=c,a/=c),{width:Math.round(r),height:Math.round(a),pixelDepth:e.pixelDepth||0,isLandscape:w}):{width:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,height:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,pixelDepth:0,isLandscape:!0}},isIeVersion:function(e){return this.browser.is.ie?this._compareVersionByString(this.browser.version,e,!0):!1},isOsVersion:function(e){return this._compareVersionByString(this.os.version,e)},isIosVersion:function(e){return agent.os.is.ios?this._compareVersionByString(this.os.version,e):!1},_compareVersionByString:function(e,t,i){var s,n,o;if(t=t.toString().replace(/\s+/g,""),new RegExp("[^,~0-9."+a+"]+").test(t))throw new Error("숫자, 마침표(.), 콤마(,), 틸드(~)만 허용됩니다.");s=t.split(",");for(var r=0,h=s.length;h>r;r++){if(n=s[r],!n)throw new Error("빈 조건이 있습니다.");if(o=this._compareVersionByTask(e,n,i))return o}return!1},_compareVersionByTask:function(e,t,i){var s,n,d,c=t.split("~");if(!c.length)throw new Error("범위 문자를 한 개만 사용해 주세요.");if(1===c.length){if(s=c[0],-1===s.indexOf(a))return 0===this._compareVersions(e,s,i);n=s.split(".")[0],d=n+"."+r,c=[n,d]}if(2===c.length){if(!c[0]&&!c[1])throw new Error("범위 문자는 버전과 조합해서 사용해야 합니다.");return n=c[0]||o,d=c[1]||r,n=n.replace(h,o),d=d.replace(h,r),this._compareVersions(e,n,i)>=0&&this._compareVersions(e,d,i)<=0}throw new Error("범위 문자 안에 ~ 가 여러 개일 수 없습니다.")},_compareVersions:function(e,t,i){if(e===t)return 0;var s,n,o,r=String(e).split("."),a=String(t).split("."),h=0;for(i&&(r=r.splice(0,1),a=a.splice(0,1)),s=Math.max(r.length,a.length);s>h;h++){if(n=parseInt(r[h],10)||0,o=parseInt(a[h],10)||0,n>o)return 1;if(o>n)return-1}return 0},_clear:function(){this._setOs("unknown"),this._setOsVersion(""),this._setType("desktop"),this._setBrowser("unknown"),this._setBrowserVersion(""),this._setVendor("unknown"),this._setApp("unknown")},isInApp:function(){return!this.app.is.unknown}};return c.reset(navigator.userAgent||navigator.vendor||window.opera,navigator.platform,window.screen),c});
define("common/agentSupport",["common/agent","swfobject","underscore","jquery"],function(e,t){var s=5,o=5,i=null,n=null,r=null,u=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect;return _.extend(e,{support:{},_setSupport:function(e){this.support[e]=!0},resetAgentSupport:function(){var t,s=this.os.is.android&&this.isOsVersion("4.4~4.x"),o=!this.type.is.desktop&&/DaumApps|NAVER|FBAV\//i.test(this.userAgent);s&&o||this._setSupport("upload"),"ontouchstart"in window&&this._setSupport("touch"),window.devicePixelRatio&&window.devicePixelRatio>=1.5&&this._setSupport("retina"),"undefined"==typeof document.body.style[this.getCssPrefix("perspective",!0)]&&"undefined"==typeof document.body.style.perspective||this.os.android&&!this.isOsVersion("4~")||this._setSupport("css3d"),XMLHttpRequest&&(t=new XMLHttpRequest)&&("withCredentials"in t&&this._setSupport("cors"),"undefined"!=typeof t.upload&&"undefined"!=typeof FormData&&this._setSupport("xhrUpload")),document.createRange&&this._setSupport("w3cRange"),(!e.browser.is.ie||e.isIeVersion("9~"))&&this._setSupport("video")},getCssPrefix:function(e,t){var s,o="";if(null===i&&(i="undefined"!=typeof document.body.style.webkitTransform?"-webkit-":"undefined"!=typeof document.body.style.MozTransform?"-moz-":"undefined"!=typeof document.body.style.OTransform?"-o-":"undefined"!=typeof document.body.style.msTransform?"-ms-":""),o=i+(e?e:""),t){s=o.split("-"),o="";for(var n=0,r=s.length;r>n;n++)s[n]&&(o+=o?s[n].substr(0,1).toUpperCase()+s[n].substr(1):s[n]);("-moz-"===i||"-o-"===i)&&(o=o.substr(0,1).toUpperCase()+o.substr(1))}return o},isStoryAppAvailable:function(){return this.type.is.mobile&&(this.os.is.ios||this.os.is.android)},isNativeAndroidBrowser:function(){return this.os.is.android&&this.vendor.is.samsung},getTouchEvent:function(e){return this.support.touch&&e.originalEvent.changedTouches?e.originalEvent.changedTouches[0]:e||window.event},isClick:function(e,t,o,i){return Math.abs(e-o)<=s&&Math.abs(t-i)<=s},getPositionStyle:function(t,s){var o={},i=this.getCssPrefix("transform",!0);return this.support.css3d?(s=_.isNumber(s)?s:0,t=_.isNumber(t)?t:0,o[i]=e.type.is.desktop?"translate("+[t,s].join("px,")+")":"translate3d("+[t,s,0].join("px,")+")",o.left=0,o.top=0):(_.isNumber(s)&&(o.top=s+"px"),_.isNumber(t)&&(o.left=t+"px")),o},getFlashVersion:function(){return null===n&&(n=t&&t.getFlashPlayerVersion()),n&&n.major>0?n.major+"."+n.minor+"."+n.release:!1},getWheelDelta:function(e){var t,s=e.originalEvent;return t="undefined"!=typeof s.deltaY?-1*s.deltaY:"undefined"!=typeof s.wheelDeltaY?s.wheelDeltaY:s.wheelDelta/o},getScrollBarWidth:function(){var e,t,s,o,i;return r||(t=$('<div style="position:absolute;width:100px;height:100px;top:-500px;left:-500px;visibility:hidden;overflow:hidden"></div>'),e=$('<p style="width:100%;height:100%;"></p>').appendTo(t),$(document.body).append(t),s=e.width(),t.css("overflow","scroll"),o=e.width(),i=t[0].clientWidth,s===o&&i&&(o=i),t.detach(),t=null,e=null,r=s-o),r},isSVGSupport:function(){return u}}),e.resetAgentSupport(),e});
function StringBuffer(){this.buffer=[]}function Utf8EncodeEnumerator(t){this._input=t,this._index=-1,this._buffer=[]}function Base64DecodeEnumerator(t){this._input=t,this._index=-1,this._buffer=[]}StringBuffer.prototype.append=function(t){return this.buffer.push(t),this},StringBuffer.prototype.toString=function(){return this.buffer.join("")};var Base64={codex:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",encode:function(t){for(var e=new StringBuffer,r=new Utf8EncodeEnumerator(t);r.moveNext();){var n=r.current;r.moveNext();var i=r.current;r.moveNext();var u=r.current,h=n>>2,s=(3&n)<<4|i>>4,f=(15&i)<<2|u>>6,o=63&u;isNaN(i)?f=o=64:isNaN(u)&&(o=64),e.append(this.codex.charAt(h)+this.codex.charAt(s)+this.codex.charAt(f)+this.codex.charAt(o))}return e.toString().replace(new RegExp(this.codex.charAt(64),"g"),"")},decode:function(t){var e=t.length%4;if(e>0)for(var r=0;4-e>r;r++)t+=this.codex.charAt(64);for(var n=new StringBuffer,i=new Base64DecodeEnumerator(t);i.moveNext();){var u=i.current;if(128>u)n.append(String.fromCharCode(u));else if(u>191&&224>u){i.moveNext();var h=i.current;n.append(String.fromCharCode((31&u)<<6|63&h))}else{i.moveNext();var h=i.current;i.moveNext();var s=i.current;n.append(String.fromCharCode((15&u)<<12|(63&h)<<6|63&s))}}return n.toString()}};Utf8EncodeEnumerator.prototype={current:Number.NaN,moveNext:function(){if(this._buffer.length>0)return this.current=this._buffer.shift(),!0;if(this._index>=this._input.length-1)return this.current=Number.NaN,!1;var t=this._input.charCodeAt(++this._index);return 13==t&&10==this._input.charCodeAt(this._index+1)&&(t=10,this._index+=2),128>t?this.current=t:t>127&&2048>t?(this.current=t>>6|192,this._buffer.push(63&t|128)):(this.current=t>>12|224,this._buffer.push(t>>6&63|128),this._buffer.push(63&t|128)),!0}},Base64DecodeEnumerator.prototype={current:64,moveNext:function(){if(this._buffer.length>0)return this.current=this._buffer.shift(),!0;if(this._index>=this._input.length-1)return this.current=64,!1;var t=Base64.codex.indexOf(this._input.charAt(++this._index)),e=Base64.codex.indexOf(this._input.charAt(++this._index)),r=Base64.codex.indexOf(this._input.charAt(++this._index)),n=Base64.codex.indexOf(this._input.charAt(++this._index)),i=t<<2|e>>4,u=(15&e)<<4|r>>2,h=(3&r)<<6|n;return this.current=i,64!=r&&this._buffer.push(u),64!=n&&this._buffer.push(h),!0}},define("base64url",[],function(){return Base64});
(function(t){function e(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function n(t,e){return function(n){return _(t.call(this,n),e)}}function s(t,e){return function(n){return this.lang().ordinal(t.call(this,n),e)}}function a(){}function r(t){w(t),u(this,t)}function i(t){var e=Y(t),n=e.year||0,s=e.month||0,a=e.week||0,r=e.day||0,i=e.hour||0,u=e.minute||0,o=e.second||0,d=e.millisecond||0;this._milliseconds=+d+1e3*o+6e4*u+36e5*i,this._days=+r+7*a,this._months=+s+12*n,this._data={},this._bubble()}function u(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return e.hasOwnProperty("toString")&&(t.toString=e.toString),e.hasOwnProperty("valueOf")&&(t.valueOf=e.valueOf),t}function o(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&Ye.hasOwnProperty(e)&&(n[e]=t[e]);return n}function d(t){return 0>t?Math.ceil(t):Math.floor(t)}function _(t,e,n){for(var s=""+Math.abs(t),a=t>=0;s.length<e;)s="0"+s;return(a?n?"+":"":"-")+s}function h(t,e,n,s){var a,r,i=e._milliseconds,u=e._days,o=e._months;i&&t._d.setTime(+t._d+i*n),(u||o)&&(a=t.minute(),r=t.hour()),u&&t.date(t.date()+u*n),o&&t.month(t.month()+o*n),i&&!s&&se.updateOffset(t),(u||o)&&(t.minute(a),t.hour(r))}function l(t){return"[object Array]"===Object.prototype.toString.call(t)}function c(t){return"[object Date]"===Object.prototype.toString.call(t)||t instanceof Date}function f(t,e,n){var s,a=Math.min(t.length,e.length),r=Math.abs(t.length-e.length),i=0;for(s=0;a>s;s++)(n&&t[s]!==e[s]||!n&&M(t[s])!==M(e[s]))&&i++;return i+r}function m(t){if(t){var e=t.toLowerCase().replace(/(.)s$/,"$1");t=je[t]||$e[e]||e}return t}function Y(t){var e,n,s={};for(n in t)t.hasOwnProperty(n)&&(e=m(n),e&&(s[e]=t[n]));return s}function y(e){var n,s;if(0===e.indexOf("week"))n=7,s="day";else{if(0!==e.indexOf("month"))return;n=12,s="month"}se[e]=function(a,r){var i,u,o=se.fn._lang[e],d=[];if("number"==typeof a&&(r=a,a=t),u=function(t){var e=se().utc().set(s,t);return o.call(se.fn._lang,e,a||"")},null!=r)return u(r);for(i=0;n>i;i++)d.push(u(i));return d}}function M(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=e>=0?Math.floor(e):Math.ceil(e)),n}function p(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function g(t){return D(t)?366:365}function D(t){return t%4===0&&t%100!==0||t%400===0}function w(t){var e;t._a&&-2===t._pf.overflow&&(e=t._a[de]<0||t._a[de]>11?de:t._a[_e]<1||t._a[_e]>p(t._a[oe],t._a[de])?_e:t._a[he]<0||t._a[he]>23?he:t._a[le]<0||t._a[le]>59?le:t._a[ce]<0||t._a[ce]>59?ce:t._a[fe]<0||t._a[fe]>999?fe:-1,t._pf._overflowDayOfYear&&(oe>e||e>_e)&&(e=_e),t._pf.overflow=e)}function k(t){return null==t._isValid&&(t._isValid=!isNaN(t._d.getTime())&&t._pf.overflow<0&&!t._pf.empty&&!t._pf.invalidMonth&&!t._pf.nullInput&&!t._pf.invalidFormat&&!t._pf.userInvalidated,t._strict&&(t._isValid=t._isValid&&0===t._pf.charsLeftOver&&0===t._pf.unusedTokens.length)),t._isValid}function T(t){return t?t.toLowerCase().replace("_","-"):t}function L(t,e){return e._isUTC?se(t).zone(e._offset||0):se(t).local()}function v(t,e){return e.abbr=t,me[t]||(me[t]=new a),me[t].set(e),me[t]}function S(t){delete me[t]}function b(t){var e,n,s,a,r=0,i=function(t){if(!me[t]&&ye)try{require("./lang/"+t)}catch(e){}return me[t]};if(!t)return se.fn._lang;if(!l(t)){if(n=i(t))return n;t=[t]}for(;r<t.length;){for(a=T(t[r]).split("-"),e=a.length,s=T(t[r+1]),s=s?s.split("-"):null;e>0;){if(n=i(a.slice(0,e).join("-")))return n;if(s&&s.length>=e&&f(a,s,!0)>=e-1)break;e--}r++}return se.fn._lang}function O(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function W(t){var e,n,s=t.match(De);for(e=0,n=s.length;n>e;e++)s[e]=Ke[s[e]]?Ke[s[e]]:O(s[e]);return function(a){var r="";for(e=0;n>e;e++)r+=s[e]instanceof Function?s[e].call(a,t):s[e];return r}}function G(t,e){return t.isValid()?(e=F(e,t.lang()),Ve[e]||(Ve[e]=W(e)),Ve[e](t)):t.lang().invalidDate()}function F(t,e){function n(t){return e.longDateFormat(t)||t}var s=5;for(we.lastIndex=0;s>=0&&we.test(t);)t=t.replace(we,n),we.lastIndex=0,s-=1;return t}function C(t,e){var n,s=e._strict;switch(t){case"DDDD":return xe;case"YYYY":case"GGGG":case"gggg":return s?ze:Le;case"Y":case"G":case"g":return He;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return s?Ae:ve;case"S":if(s)return Fe;case"SS":if(s)return Ce;case"SSS":if(s)return xe;case"DDD":return Te;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return be;case"a":case"A":return b(e._l)._meridiemParse;case"X":return Ge;case"Z":case"ZZ":return Oe;case"T":return We;case"SSSS":return Se;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return s?Ce:ke;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return ke;default:return n=new RegExp(Z(I(t.replace("\\","")),"i"))}}function x(t){t=t||"";var e=t.match(Oe)||[],n=e[e.length-1]||[],s=(n+"").match(Ee)||["-",0,0],a=+(60*s[1])+M(s[2]);return"+"===s[0]?-a:a}function z(t,e,n){var s,a=n._a;switch(t){case"M":case"MM":null!=e&&(a[de]=M(e)-1);break;case"MMM":case"MMMM":s=b(n._l).monthsParse(e),null!=s?a[de]=s:n._pf.invalidMonth=e;break;case"D":case"DD":null!=e&&(a[_e]=M(e));break;case"DDD":case"DDDD":null!=e&&(n._dayOfYear=M(e));break;case"YY":a[oe]=M(e)+(M(e)>68?1900:2e3);break;case"YYYY":case"YYYYY":case"YYYYYY":a[oe]=M(e);break;case"a":case"A":n._isPm=b(n._l).isPM(e);break;case"H":case"HH":case"h":case"hh":a[he]=M(e);break;case"m":case"mm":a[le]=M(e);break;case"s":case"ss":a[ce]=M(e);break;case"S":case"SS":case"SSS":case"SSSS":a[fe]=M(1e3*("0."+e));break;case"X":n._d=new Date(1e3*parseFloat(e));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=x(e);break;case"w":case"ww":case"W":case"WW":case"d":case"dd":case"ddd":case"dddd":case"e":case"E":t=t.substr(0,1);case"gg":case"gggg":case"GG":case"GGGG":case"GGGGG":t=t.substr(0,2),e&&(n._w=n._w||{},n._w[t]=e)}}function A(t){var e,n,s,a,r,i,u,o,d,_,h=[];if(!t._d){for(s=P(t),t._w&&null==t._a[_e]&&null==t._a[de]&&(r=function(e){var n=parseInt(e,10);return e?e.length<3?n>68?1900+n:2e3+n:n:null==t._a[oe]?se().weekYear():t._a[oe]},i=t._w,null!=i.GG||null!=i.W||null!=i.E?u=X(r(i.GG),i.W||1,i.E,4,1):(o=b(t._l),d=null!=i.d?V(i.d,o):null!=i.e?parseInt(i.e,10)+o._week.dow:0,_=parseInt(i.w,10)||1,null!=i.d&&d<o._week.dow&&_++,u=X(r(i.gg),_,d,o._week.doy,o._week.dow)),t._a[oe]=u.year,t._dayOfYear=u.dayOfYear),t._dayOfYear&&(a=null==t._a[oe]?s[oe]:t._a[oe],t._dayOfYear>g(a)&&(t._pf._overflowDayOfYear=!0),n=$(a,0,t._dayOfYear),t._a[de]=n.getUTCMonth(),t._a[_e]=n.getUTCDate()),e=0;3>e&&null==t._a[e];++e)t._a[e]=h[e]=s[e];for(;7>e;e++)t._a[e]=h[e]=null==t._a[e]?2===e?1:0:t._a[e];h[he]+=M((t._tzm||0)/60),h[le]+=M((t._tzm||0)%60),t._d=(t._useUTC?$:j).apply(null,h)}}function H(t){var e;t._d||(e=Y(t._i),t._a=[e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond],A(t))}function P(t){var e=new Date;return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function U(t){t._a=[],t._pf.empty=!0;var e,n,s,a,r,i=b(t._l),u=""+t._i,o=u.length,d=0;for(s=F(t._f,i).match(De)||[],e=0;e<s.length;e++)a=s[e],n=(u.match(C(a,t))||[])[0],n&&(r=u.substr(0,u.indexOf(n)),r.length>0&&t._pf.unusedInput.push(r),u=u.slice(u.indexOf(n)+n.length),d+=n.length),Ke[a]?(n?t._pf.empty=!1:t._pf.unusedTokens.push(a),z(a,n,t)):t._strict&&!n&&t._pf.unusedTokens.push(a);t._pf.charsLeftOver=o-d,u.length>0&&t._pf.unusedInput.push(u),t._isPm&&t._a[he]<12&&(t._a[he]+=12),t._isPm===!1&&12===t._a[he]&&(t._a[he]=0),A(t),w(t)}function I(t){return t.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,s,a){return e||n||s||a})}function Z(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function E(t){var n,s,a,r,i;if(0===t._f.length)return t._pf.invalidFormat=!0,void(t._d=new Date(0/0));for(r=0;r<t._f.length;r++)i=0,n=u({},t),n._pf=e(),n._f=t._f[r],U(n),k(n)&&(i+=n._pf.charsLeftOver,i+=10*n._pf.unusedTokens.length,n._pf.score=i,(null==a||a>i)&&(a=i,s=n));u(t,s||n)}function N(t){var e,n,s=t._i,a=Pe.exec(s);if(a){for(t._pf.iso=!0,e=0,n=Ie.length;n>e;e++)if(Ie[e][1].exec(s)){t._f=Ie[e][0]+(a[6]||" ");break}for(e=0,n=Ze.length;n>e;e++)if(Ze[e][1].exec(s)){t._f+=Ze[e][0];break}s.match(Oe)&&(t._f+="Z"),U(t)}else t._d=new Date(s)}function J(e){var n=e._i,s=Me.exec(n);n===t?e._d=new Date:s?e._d=new Date(+s[1]):"string"==typeof n?N(e):l(n)?(e._a=n.slice(0),A(e)):c(n)?e._d=new Date(+n):"object"==typeof n?H(e):e._d=new Date(n)}function j(t,e,n,s,a,r,i){var u=new Date(t,e,n,s,a,r,i);return 1970>t&&u.setFullYear(t),u}function $(t){var e=new Date(Date.UTC.apply(null,arguments));return 1970>t&&e.setUTCFullYear(t),e}function V(t,e){if("string"==typeof t)if(isNaN(t)){if(t=e.weekdaysParse(t),"number"!=typeof t)return null}else t=parseInt(t,10);return t}function q(t,e,n,s,a){return a.relativeTime(e||1,!!n,t,s)}function R(t,e,n){var s=ue(Math.abs(t)/1e3),a=ue(s/60),r=ue(a/60),i=ue(r/24),u=ue(i/365),o=45>s&&["s",s]||1===a&&["m"]||45>a&&["mm",a]||1===r&&["h"]||22>r&&["hh",r]||1===i&&["d"]||25>=i&&["dd",i]||45>=i&&["M"]||345>i&&["MM",ue(i/30)]||1===u&&["y"]||["yy",u];return o[2]=e,o[3]=t>0,o[4]=n,q.apply({},o)}function K(t,e,n){var s,a=n-e,r=n-t.day();return r>a&&(r-=7),a-7>r&&(r+=7),s=se(t).add("d",r),{week:Math.ceil(s.dayOfYear()/7),year:s.year()}}function X(t,e,n,s,a){var r,i,u=$(t,0,1).getUTCDay();return n=null!=n?n:a,r=a-u+(u>s?7:0)-(a>u?7:0),i=7*(e-1)+(n-a)+r+1,{year:i>0?t:t-1,dayOfYear:i>0?i:g(t-1)+i}}function B(t){var e=t._i,n=t._f;return null===e?se.invalid({nullInput:!0}):("string"==typeof e&&(t._i=e=b().preparse(e)),se.isMoment(e)?(t=o(e),t._d=new Date(+e._d)):n?l(n)?E(t):U(t):J(t),new r(t))}function Q(t,e){se.fn[t]=se.fn[t+"s"]=function(t){var n=this._isUTC?"UTC":"";return null!=t?(this._d["set"+n+e](t),se.updateOffset(this),this):this._d["get"+n+e]()}}function te(t){se.duration.fn[t]=function(){return this._data[t]}}function ee(t,e){se.duration.fn["as"+t]=function(){return+this/e}}function ne(t){var e=!1,n=se;"undefined"==typeof ender&&(t?(ie.moment=function(){return!e&&console&&console.warn&&(e=!0,console.warn("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.")),n.apply(null,arguments)},u(ie.moment,n)):ie.moment=se)}for(var se,ae,re="2.5.1",ie=this,ue=Math.round,oe=0,de=1,_e=2,he=3,le=4,ce=5,fe=6,me={},Ye={_isAMomentObject:null,_i:null,_f:null,_l:null,_strict:null,_isUTC:null,_offset:null,_pf:null,_lang:null},ye="undefined"!=typeof module&&module.exports&&"undefined"!=typeof require,Me=/^\/?Date\((\-?\d+)/i,pe=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,ge=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,De=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,we=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,ke=/\d\d?/,Te=/\d{1,3}/,Le=/\d{1,4}/,ve=/[+\-]?\d{1,6}/,Se=/\d+/,be=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Oe=/Z|[\+\-]\d\d:?\d\d/gi,We=/T/i,Ge=/[\+\-]?\d+(\.\d{1,3})?/,Fe=/\d/,Ce=/\d\d/,xe=/\d{3}/,ze=/\d{4}/,Ae=/[+-]?\d{6}/,He=/[+-]?\d+/,Pe=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ue="YYYY-MM-DDTHH:mm:ssZ",Ie=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],Ze=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],Ee=/([\+\-]|\d\d)/gi,Ne="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),Je={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},je={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},$e={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},Ve={},qe="DDD w W M D d".split(" "),Re="M D H h m s w W".split(" "),Ke={M:function(){return this.month()+1},MMM:function(t){return this.lang().monthsShort(this,t)},MMMM:function(t){return this.lang().months(this,t)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(t){return this.lang().weekdaysMin(this,t)},ddd:function(t){return this.lang().weekdaysShort(this,t)},dddd:function(t){return this.lang().weekdays(this,t)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return _(this.year()%100,2)},YYYY:function(){return _(this.year(),4)},YYYYY:function(){return _(this.year(),5)},YYYYYY:function(){var t=this.year(),e=t>=0?"+":"-";return e+_(Math.abs(t),6)},gg:function(){return _(this.weekYear()%100,2)},gggg:function(){return _(this.weekYear(),4)},ggggg:function(){return _(this.weekYear(),5)},GG:function(){return _(this.isoWeekYear()%100,2)},GGGG:function(){return _(this.isoWeekYear(),4)},GGGGG:function(){return _(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return M(this.milliseconds()/100)},SS:function(){return _(M(this.milliseconds()/10),2)},SSS:function(){return _(this.milliseconds(),3)},SSSS:function(){return _(this.milliseconds(),3)},Z:function(){var t=-this.zone(),e="+";return 0>t&&(t=-t,e="-"),e+_(M(t/60),2)+":"+_(M(t)%60,2)},ZZ:function(){var t=-this.zone(),e="+";return 0>t&&(t=-t,e="-"),e+_(M(t/60),2)+_(M(t)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},Xe=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];qe.length;)ae=qe.pop(),Ke[ae+"o"]=s(Ke[ae],ae);for(;Re.length;)ae=Re.pop(),Ke[ae+ae]=n(Ke[ae],2);for(Ke.DDDD=n(Ke.DDD,3),u(a.prototype,{set:function(t){var e,n;for(n in t)e=t[n],"function"==typeof e?this[n]=e:this["_"+n]=e},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(t){return this._months[t.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(t){return this._monthsShort[t.month()]},monthsParse:function(t){var e,n,s;for(this._monthsParse||(this._monthsParse=[]),e=0;12>e;e++)if(this._monthsParse[e]||(n=se.utc([2e3,e]),s="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[e]=new RegExp(s.replace(".",""),"i")),this._monthsParse[e].test(t))return e},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(t){return this._weekdays[t.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(t){return this._weekdaysShort[t.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(t){return this._weekdaysMin[t.day()]},weekdaysParse:function(t){var e,n,s;for(this._weekdaysParse||(this._weekdaysParse=[]),e=0;7>e;e++)if(this._weekdaysParse[e]||(n=se([2e3,1]).day(e),s="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[e]=new RegExp(s.replace(".",""),"i")),this._weekdaysParse[e].test(t))return e},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(t){var e=this._longDateFormat[t];return!e&&this._longDateFormat[t.toUpperCase()]&&(e=this._longDateFormat[t.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t]=e),e},isPM:function(t){return"p"===(t+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(t,e){var n=this._calendar[t];return"function"==typeof n?n.apply(e):n},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(t,e,n,s){var a=this._relativeTime[n];return"function"==typeof a?a(t,e,n,s):a.replace(/%d/i,t)},pastFuture:function(t,e){var n=this._relativeTime[t>0?"future":"past"];return"function"==typeof n?n(e):n.replace(/%s/i,e)},ordinal:function(t){return this._ordinal.replace("%d",t)},_ordinal:"%d",preparse:function(t){return t},postformat:function(t){return t},week:function(t){return K(t,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),se=function(n,s,a,r){var i;return"boolean"==typeof a&&(r=a,a=t),i={},i._isAMomentObject=!0,i._i=n,i._f=s,i._l=a,i._strict=r,i._isUTC=!1,i._pf=e(),B(i)},se.utc=function(n,s,a,r){var i;return"boolean"==typeof a&&(r=a,a=t),i={},i._isAMomentObject=!0,i._useUTC=!0,i._isUTC=!0,i._l=a,i._i=n,i._f=s,i._strict=r,i._pf=e(),B(i).utc()},se.unix=function(t){return se(1e3*t)},se.duration=function(t,e){var n,s,a,r=t,u=null;return se.isDuration(t)?r={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(r={},e?r[e]=t:r.milliseconds=t):(u=pe.exec(t))?(n="-"===u[1]?-1:1,r={y:0,d:M(u[_e])*n,h:M(u[he])*n,m:M(u[le])*n,s:M(u[ce])*n,ms:M(u[fe])*n}):(u=ge.exec(t))&&(n="-"===u[1]?-1:1,a=function(t){var e=t&&parseFloat(t.replace(",","."));return(isNaN(e)?0:e)*n},r={y:a(u[2]),M:a(u[3]),d:a(u[4]),h:a(u[5]),m:a(u[6]),s:a(u[7]),w:a(u[8])}),s=new i(r),se.isDuration(t)&&t.hasOwnProperty("_lang")&&(s._lang=t._lang),s},se.version=re,se.defaultFormat=Ue,se.updateOffset=function(){},se.lang=function(t,e){var n;return t?(e?v(T(t),e):null===e?(S(t),t="en"):me[t]||b(t),n=se.duration.fn._lang=se.fn._lang=b(t),n._abbr):se.fn._lang._abbr},se.langData=function(t){return t&&t._lang&&t._lang._abbr&&(t=t._lang._abbr),b(t)},se.isMoment=function(t){return t instanceof r||null!=t&&t.hasOwnProperty("_isAMomentObject")},se.isDuration=function(t){return t instanceof i},ae=Xe.length-1;ae>=0;--ae)y(Xe[ae]);for(se.normalizeUnits=function(t){return m(t)},se.invalid=function(t){var e=se.utc(0/0);return null!=t?u(e._pf,t):e._pf.userInvalidated=!0,e},se.parseZone=function(t){return se(t).parseZone()},u(se.fn=r.prototype,{clone:function(){return se(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().lang("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var t=se(this).utc();return 0<t.year()&&t.year()<=9999?G(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):G(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var t=this;return[t.year(),t.month(),t.date(),t.hours(),t.minutes(),t.seconds(),t.milliseconds()]},isValid:function(){return k(this)},isDSTShifted:function(){return this._a?this.isValid()&&f(this._a,(this._isUTC?se.utc(this._a):se(this._a)).toArray())>0:!1},parsingFlags:function(){return u({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(t){var e=G(this,t||se.defaultFormat);return this.lang().postformat(e)},add:function(t,e){var n;return n="string"==typeof t?se.duration(+e,t):se.duration(t,e),h(this,n,1),this},subtract:function(t,e){var n;return n="string"==typeof t?se.duration(+e,t):se.duration(t,e),h(this,n,-1),this},diff:function(t,e,n){var s,a,r=L(t,this),i=6e4*(this.zone()-r.zone());return e=m(e),"year"===e||"month"===e?(s=432e5*(this.daysInMonth()+r.daysInMonth()),a=12*(this.year()-r.year())+(this.month()-r.month()),a+=(this-se(this).startOf("month")-(r-se(r).startOf("month")))/s,a-=6e4*(this.zone()-se(this).startOf("month").zone()-(r.zone()-se(r).startOf("month").zone()))/s,"year"===e&&(a/=12)):(s=this-r,a="second"===e?s/1e3:"minute"===e?s/6e4:"hour"===e?s/36e5:"day"===e?(s-i)/864e5:"week"===e?(s-i)/6048e5:s),n?a:d(a)},from:function(t,e){return se.duration(this.diff(t)).lang(this.lang()._abbr).humanize(!e)},fromNow:function(t){return this.from(se(),t)},calendar:function(){var t=L(se(),this).startOf("day"),e=this.diff(t,"days",!0),n=-6>e?"sameElse":-1>e?"lastWeek":0>e?"lastDay":1>e?"sameDay":2>e?"nextDay":7>e?"nextWeek":"sameElse";return this.format(this.lang().calendar(n,this))},isLeapYear:function(){return D(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=V(t,this.lang()),this.add({d:t-e})):e},month:function(t){var e,n=this._isUTC?"UTC":"";return null!=t?"string"==typeof t&&(t=this.lang().monthsParse(t),"number"!=typeof t)?this:(e=this.date(),this.date(1),this._d["set"+n+"Month"](t),this.date(Math.min(e,this.daysInMonth())),se.updateOffset(this),this):this._d["get"+n+"Month"]()},startOf:function(t){switch(t=m(t)){case"year":this.month(0);case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t?this.weekday(0):"isoWeek"===t&&this.isoWeekday(1),this},endOf:function(t){return t=m(t),this.startOf(t).add("isoWeek"===t?"week":t,1).subtract("ms",1)},isAfter:function(t,e){return e="undefined"!=typeof e?e:"millisecond",+this.clone().startOf(e)>+se(t).startOf(e)},isBefore:function(t,e){return e="undefined"!=typeof e?e:"millisecond",+this.clone().startOf(e)<+se(t).startOf(e)},isSame:function(t,e){return e=e||"ms",+this.clone().startOf(e)===+L(t,this).startOf(e)},min:function(t){return t=se.apply(null,arguments),this>t?this:t},max:function(t){return t=se.apply(null,arguments),t>this?this:t},zone:function(t){var e=this._offset||0;return null==t?this._isUTC?e:this._d.getTimezoneOffset():("string"==typeof t&&(t=x(t)),Math.abs(t)<16&&(t=60*t),this._offset=t,this._isUTC=!0,e!==t&&h(this,se.duration(e-t,"m"),1,!0),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(t){return t=t?se(t).zone():0,(this.zone()-t)%60===0},daysInMonth:function(){return p(this.year(),this.month())},dayOfYear:function(t){var e=ue((se(this).startOf("day")-se(this).startOf("year"))/864e5)+1;return null==t?e:this.add("d",t-e)},quarter:function(){return Math.ceil((this.month()+1)/3)},weekYear:function(t){var e=K(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==t?e:this.add("y",t-e)},isoWeekYear:function(t){var e=K(this,1,4).year;return null==t?e:this.add("y",t-e)},week:function(t){var e=this.lang().week(this);return null==t?e:this.add("d",7*(t-e))},isoWeek:function(t){var e=K(this,1,4).week;return null==t?e:this.add("d",7*(t-e))},weekday:function(t){var e=(this.day()+7-this.lang()._week.dow)%7;return null==t?e:this.add("d",t-e)},isoWeekday:function(t){return null==t?this.day()||7:this.day(this.day()%7?t:t-7)},get:function(t){return t=m(t),this[t]()},set:function(t,e){return t=m(t),"function"==typeof this[t]&&this[t](e),this},lang:function(e){return e===t?this._lang:(this._lang=b(e),this)}}),ae=0;ae<Ne.length;ae++)Q(Ne[ae].toLowerCase().replace(/s$/,""),Ne[ae]);Q("year","FullYear"),se.fn.days=se.fn.day,se.fn.months=se.fn.month,se.fn.weeks=se.fn.week,se.fn.isoWeeks=se.fn.isoWeek,se.fn.toJSON=se.fn.toISOString,u(se.duration.fn=i.prototype,{_bubble:function(){var t,e,n,s,a=this._milliseconds,r=this._days,i=this._months,u=this._data;u.milliseconds=a%1e3,t=d(a/1e3),u.seconds=t%60,e=d(t/60),u.minutes=e%60,n=d(e/60),u.hours=n%24,r+=d(n/24),u.days=r%30,i+=d(r/30),u.months=i%12,s=d(i/12),u.years=s},weeks:function(){return d(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*M(this._months/12)},humanize:function(t){var e=+this,n=R(e,!t,this.lang());return t&&(n=this.lang().pastFuture(e,n)),this.lang().postformat(n)},add:function(t,e){var n=se.duration(t,e);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(t,e){var n=se.duration(t,e);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(t){return t=m(t),this[t.toLowerCase()+"s"]()},as:function(t){return t=m(t),this["as"+t.charAt(0).toUpperCase()+t.slice(1)+"s"]()},lang:se.fn.lang,toIsoString:function(){var t=Math.abs(this.years()),e=Math.abs(this.months()),n=Math.abs(this.days()),s=Math.abs(this.hours()),a=Math.abs(this.minutes()),r=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(t?t+"Y":"")+(e?e+"M":"")+(n?n+"D":"")+(s||a||r?"T":"")+(s?s+"H":"")+(a?a+"M":"")+(r?r+"S":""):"P0D"}});for(ae in Je)Je.hasOwnProperty(ae)&&(ee(ae,Je[ae]),te(ae.toLowerCase()));ee("Weeks",6048e5),se.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},se.lang("en",{ordinal:function(t){var e=t%10,n=1===M(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+n}}),function(t){t(se)}(function(t){return t.lang("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] LT",LLLL:"dddd, D MMMM YYYY [pukul] LT"},meridiem:function(t){return 11>t?"pagi":15>t?"siang":19>t?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}),function(t){t(se)}(function(t){return t.lang("ja",{months:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"日曜日_月曜日_火曜日_水曜日_木曜日_金曜日_土曜日".split("_"),weekdaysShort:"日_月_火_水_木_金_土".split("_"),weekdaysMin:"日_月_火_水_木_金_土".split("_"),longDateFormat:{LT:"Ah時m分",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日LT",LLLL:"YYYY年M月D日LT dddd"},meridiem:function(t){return 12>t?"午前":"午後"},calendar:{sameDay:"[今日] LT",nextDay:"[明日] LT",nextWeek:"[来週]dddd LT",lastDay:"[昨日] LT",lastWeek:"[前週]dddd LT",sameElse:"L"},relativeTime:{future:"%s後",past:"%s前",s:"数秒",m:"1分",mm:"%d分",h:"1時間",hh:"%d時間",d:"1日",dd:"%d日",M:"1ヶ月",MM:"%dヶ月",y:"1年",yy:"%d年"}})}),function(t){t(se)}(function(t){return t.lang("ko",{months:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),monthsShort:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),weekdays:"일요일_월요일_화요일_수요일_목요일_금요일_토요일".split("_"),weekdaysShort:"일_월_화_수_목_금_토".split("_"),weekdaysMin:"일_월_화_수_목_금_토".split("_"),longDateFormat:{LT:"A h시 mm분",L:"YYYY.MM.DD",LL:"YYYY년 MMMM D일",LLL:"YYYY년 MMMM D일 LT",LLLL:"YYYY년 MMMM D일 dddd LT"},meridiem:function(t){return 12>t?"오전":"오후"},calendar:{sameDay:"오늘 LT",nextDay:"내일 LT",nextWeek:"dddd LT",lastDay:"어제 LT",lastWeek:"지난주 dddd LT",sameElse:"L"},relativeTime:{future:"%s 후",past:"%s 전",s:"%d초",ss:"%d초",m:"%d분",mm:"%d분",h:"%d시간",hh:"%d시간",d:"%d일",dd:"%d일",M:"%d달",MM:"%d달",y:"%d년",yy:"%d년"},ordinal:"%d일",meridiemParse:/(오전|오후)/,isPM:function(t){return"오후"===t}})}),function(t){t(se)}(function(t){return t.lang("vn",{months:"tháng 1_tháng 2_tháng 3_tháng 4_tháng 5_tháng 6_tháng 7_tháng 8_tháng 9_tháng 10_tháng 11_tháng 12".split("_"),monthsShort:"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),weekdays:"chủ nhật_thứ hai_thứ ba_thứ tư_thứ năm_thứ sáu_thứ bảy".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM [năm] YYYY",LLL:"D MMMM [năm] YYYY LT",LLLL:"dddd, D MMMM [năm] YYYY LT",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY LT",llll:"ddd, D MMM YYYY LT"},calendar:{sameDay:"[Hôm nay lúc] LT",nextDay:"[Ngày mai lúc] LT",nextWeek:"dddd [tuần tới lúc] LT",lastDay:"[Hôm qua lúc] LT",lastWeek:"dddd [tuần rồi lúc] LT",sameElse:"L"},relativeTime:{future:"%s tới",past:"%s trước",s:"vài giây",m:"một phút",mm:"%d phút",h:"một giờ",hh:"%d giờ",d:"một ngày",dd:"%d ngày",M:"một tháng",MM:"%d tháng",y:"một năm",yy:"%d năm"},ordinal:function(t){return t},week:{dow:1,doy:4}})}),function(t){t(se)}(function(t){return t.lang("zh-cn",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"Ah点mm",L:"YYYY-MM-DD",LL:"YYYY年MMMD日",LLL:"YYYY年MMMD日LT",LLLL:"YYYY年MMMD日ddddLT",l:"YYYY-MM-DD",ll:"YYYY年MMMD日",lll:"YYYY年MMMD日LT",llll:"YYYY年MMMD日ddddLT"},meridiem:function(t,e){var n=100*t+e;return 600>n?"凌晨":900>n?"早上":1130>n?"上午":1230>n?"中午":1800>n?"下午":"晚上"},calendar:{sameDay:function(){return 0===this.minutes()?"[今天]Ah[点整]":"[今天]LT"},nextDay:function(){return 0===this.minutes()?"[明天]Ah[点整]":"[明天]LT"},lastDay:function(){return 0===this.minutes()?"[昨天]Ah[点整]":"[昨天]LT"},nextWeek:function(){var e,n;return e=t().startOf("week"),n=this.unix()-e.unix()>=604800?"[下]":"[本]",0===this.minutes()?n+"dddAh点整":n+"dddAh点mm"},lastWeek:function(){var e,n;return e=t().startOf("week"),n=this.unix()<e.unix()?"[上]":"[本]",0===this.minutes()?n+"dddAh点整":n+"dddAh点mm"},sameElse:"LL"},ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"日";case"M":return t+"月";case"w":case"W":return t+"周";default:return t}},relativeTime:{future:"%s内",past:"%s前",s:"几秒",m:"1分钟",mm:"%d分钟",h:"1小时",hh:"%d小时",d:"1天",dd:"%d天",M:"1个月",MM:"%d个月",y:"1年",yy:"%d年"},week:{dow:1,doy:4}})}),function(t){t(se)}(function(t){return t.lang("zh-tw",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"週日_週一_週二_週三_週四_週五_週六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"Ah點mm",L:"YYYY年MMMD日",LL:"YYYY年MMMD日",LLL:"YYYY年MMMD日LT",LLLL:"YYYY年MMMD日ddddLT",l:"YYYY年MMMD日",ll:"YYYY年MMMD日",lll:"YYYY年MMMD日LT",llll:"YYYY年MMMD日ddddLT"},meridiem:function(t,e){var n=100*t+e;return 900>n?"早上":1130>n?"上午":1230>n?"中午":1800>n?"下午":"晚上"},calendar:{sameDay:"[今天]LT",nextDay:"[明天]LT",nextWeek:"[下]ddddLT",lastDay:"[昨天]LT",lastWeek:"[上]ddddLT",sameElse:"L"},ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"日";case"M":return t+"月";case"w":case"W":return t+"週";default:return t}},relativeTime:{future:"%s內",past:"%s前",s:"幾秒",m:"一分鐘",mm:"%d分鐘",h:"一小時",hh:"%d小時",d:"一天",dd:"%d天",M:"一個月",MM:"%d個月",y:"一年",yy:"%d年"}})}),se.lang("en"),ye?(module.exports=se,ne(!0)):"function"==typeof define&&define.amd?define("moment",["require","exports","module"],function(e,n,s){return s.config&&s.config()&&s.config().noGlobal!==!0&&ne(s.config().noGlobal===t),se}):ne()}).call(this);
define("common/urlUtil",[],function(){return{URL_REGEX:/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}\.|[a-z0-9.\-]+\.[a-z]{2,4}\/)(?:[^\s"'<>]+)(?:[^\s`!(\[\]{};:\'".,<>?«»“”‘’]))/gi,DOMAIN_IN_URL:/^(.+:\/\/)?([^\/]+@)?([^\/]+)(\/.*|$)/i,INVALID_DOMAIN_CHARACTER:/[^a-zA-Z0-9.:-]/g,PROTOCOL_REGEX:/^[a-z][a-z0-9-+\.]*$/i,QUERY_STRING_REGEX:/[?#].*?$/,STORY_URL_REGEX:/^([^.]*)story([^.]*)\.kakao\.com$/,IMAGE_FILENAME_REGEX:/([\w,\s-]+)(_(?:s|m|l|xl))(\.[a-zA-Z]{3,4})(\?[^\/]+)?$/,LARGE_SIZE_IMAGE_SUFFIX:"_l",LARGE_SIZE_IMAGE_FILENAME:"_l.jpg",PARENTHESIS:"(){}",GIF_IMAGE_REGEX:/(\.gif)(\?[^\?]*)$/i,HTTP_PROTOCOL_REGEX:/^http:/,HTTPS_PROTOCOL:"https:",IMAGE_VERSION_KEY:"v",extractFirstUrlFromString:function(t){if(!t)return"";this.URL_REGEX.lastIndex=0;var r=t.match(this.URL_REGEX);return this.URL_REGEX.lastIndex=0,_.first(r)||""},hasUrl:function(t){return!!this.extractFirstUrlFromString(t)},hasProtocol:function(t){var r=t.indexOf(":"),e=t.substring(0,r)||null;return!!e&&this.PROTOCOL_REGEX.test(e)},isUrlByWeakRule:function(t){return!!t&&-1!==t.indexOf(".")},prependProtocol:function(t){return t&&this.isUrlByWeakRule(t)?this.hasProtocol(t)?t:"http://"+t:""},removeSpecialCharactersOnDomain:function(t){var r="",e="",n="",i="";return t&&this.isUrlByWeakRule(t)?this.DOMAIN_IN_URL.test(t)?(r=RegExp.$1,e=RegExp.$2,n=RegExp.$3,i=RegExp.$4,r+e+n.replace(this.INVALID_DOMAIN_CHARACTER,"")+i):t:""},getHostWithProtocol:function(t){var r=$("<a>").attr("href",t);return r.prop("protocol")+"//"+r.prop("host")},getQueryString:function(t,r){var e;return r||this.hasUrl(t)?(e=t.split("?"),e.length<2?"":_.rest(e).join("?")):""},stripQueryString:function(t){return t.replace(this.QUERY_STRING_REGEX,"")},getObjectFromQueryString:function(t){for(var r,e={},n=t.split("&"),i=0,s=n.length;s>i;i++)r=n[i].split("="),e[_.first(r)]=_.rest(r).join("=");return e},decodeReservedChar:function(t){var r=["%23","%24","%26","%2B","%2C","%2F","%3A","%3B","%3D","%3F","%40"],e=["#","$","&","+",",","/",":",";","=","?","@"];return _.each(r,function(r,n){var i=new RegExp(r,"g");t=t.replace(i,e[n])}),t},getQueryStringFromObject:function(t){return t?_.map(t,function(t,r){return r+"="+t}).join("&"):""},getQueryValueFromUrl:function(t,r){for(var e,n=this.getQueryString(t),i=n.split("&"),s=0,o=i.length;o>s;s++)if(e=i[s].split("="),_.first(e)===r)return _.rest(e).join("=");return""},getLastPathFromUrl:function(t){var r;return-1!==t.indexOf("://")&&(t=t.substring(t.indexOf("://")+3)),-1!==t.indexOf("?")&&(t=t.substring(0,t.indexOf("?"))),r=t.split("/"),r.length>1?_.last(r):""},getOrigin:function(){var t=document.location,r=t.origin;return r||(r=t.protocol+"//"+t.hostname+(t.port?":"+t.port:"")),r},getExtension:function(t){var r=t.split(".");return r.length>1?r.pop().toLowerCase():""},appendQueryString:function(t,r){var e=-1!==t.indexOf("?")?"&":"?";return t+e+this.getQueryStringFromObject(r)},tokenizeByUrl:function(t){var r,e,n=[],i=0,s="";if(!t)return n;for(this.URL_REGEX.lastIndex=0;null!==(r=this.URL_REGEX.exec(t));)e=r[0],s=t.substring(i,this.URL_REGEX.lastIndex-e.length),e=this.removeUnbalancedParenthesis(e),this.URL_REGEX.lastIndex=i+s.length+e.length,n.push({type:"text",value:s}),n.push({type:"url",value:e}),i=this.URL_REGEX.lastIndex;return i<t.length&&n.push({type:"text",value:t.substring(i)}),n},removeUnbalancedParenthesis:function(t){var r=this._indexOfUnbalancedParenthesis(t);return r>-1&&(t=t.substring(0,r)),t},_indexOfUnbalancedParenthesis:function(t){for(var r,e=[],n=[],i=0,s=0,o=t.length;o>s;s++)if(r=t[s],i=this.PARENTHESIS.indexOf(r),-1!==i)if(i%2===0)e.push(i+1),n.push(s);else{if(e.pop()!==i)return n.length?n[0]:s;n.pop()}return n.length?n[0]:-1},getHost:function(t){return $("<a>").attr("href",t).prop("hostname")},removeWwwFromScrapHost:function(t){return t.replace(/^www\./i,"")},convertImageUrlForProxy:function(t){return t?"/i/"+t.replace(/^https?:\/\//,""):void 0},convertImageUrlToLarge:function(t){return t.replace(this.IMAGE_FILENAME_REGEX,"$1"+this.LARGE_SIZE_IMAGE_SUFFIX+"$3$4")},isGifImageUrl:function(t){return t&&this.GIF_IMAGE_REGEX.test(t)},convertGifImageUrlToLargeThumbnailUrl:function(t){var r=this;return this.isGifImageUrl(t)?t.replace(this.GIF_IMAGE_REGEX,function(t,e,n){return r.LARGE_SIZE_IMAGE_FILENAME+n}):t},hasVersionImages:function(t,r){var e=parseInt(this.getQueryValueFromUrl(t,this.IMAGE_VERSION_KEY),10);return _.isNumber(e)&&e>=r},convertUrlProtocolToHttps:function(t){return t&&this.HTTP_PROTOCOL_REGEX.test(t)?t.replace(this.HTTP_PROTOCOL_REGEX,this.HTTPS_PROTOCOL):t},getExternalReferrer:function(t){return t=this.getHost(t||document.referrer),t&&!this.STORY_URL_REGEX.test(t)?t:""},getImageDimension:function(t){var r=this.getObjectFromQueryString(this.getQueryString(t));return{width:r&&parseInt(r.width,10)||0,height:r&&parseInt(r.height,10)||0}},isStoryUrl:function(t){var r=this.getHost(t);return this.STORY_URL_REGEX.test(r)},getRelativieUrl:function(t){return this.isStoryUrl(t)?t.replace(this.getHostWithProtocol(t),""):""},getKageKeyFromUrl:function(t){var r,e=t.indexOf("://"),n=t.indexOf("?");return-1!==e&&(t=t.substring(e+3)),-1!==n&&(t=t.substring(0,n)),r=t.split("/"),r.length>1?_.first(_.last(r,3)):""}}});
define("buildConfig",[],function(){return{phase:"real",CDN_HOST:"https://story-web-0.kakaocdn.net",CDN_SUB_HOST:"https://story-web-1.kakaocdn.net",CDN_PUBLIC_DIR:"public/web",CDN_PUBLIC_PATH:"https://story-web-0.kakaocdn.net/public/web",CDN_SUB_PUBLIC_PATH:"https://story-web-1.kakaocdn.net/public/web",staticHost:"https://story-web-0.kakaocdn.net",staticDir:"web/991d193",staticPath:"https://story-web-0.kakaocdn.net/web/991d193",accountPasswordPath:"https://accounts.kakao.com/weblogin/check_password"}});
define("config/common",["buildConfig"],function(a){return{CDN_HOST:a.CDN_HOST,CDN_SUB_HOST:a.CDN_SUB_HOST,CDN_PUBLIC_DIR:a.CDN_PUBLIC_DIR,CDN_PUBLIC_PATH:a.CDN_PUBLIC_PATH,CDN_SUB_PUBLIC_PATH:a.CDN_SUB_PUBLIC_PATH,staticHost:a.staticHost,staticHostSub:a.staticHostSub,staticPath:a.staticPath,rootDomain:"kakao.com",realServiceDomain:"story.kakao.com",dummyPage:"/s/dummy",kakaoLogin:{createAccount:"/create_account",findEmail:"/find_account_guide",findPassword:"/find_password",changePassword:"/account/info/change_password",setting:"/account/info",agreement:"/weblogin/account/agree?service=story",myAccount:"/weblogin/account/profile"},serviceUrl:{kakaoHome:"http://www.kakao.com/",talk:"http://www.kakao.com/services/8",group:"http://www.kakao.com/services/11",music:"http://www.kakao.com/services/5",page:"http://www.kakao.com/services/10",game:"http://www.kakao.com/services/4",style:"http://www.kakao.com/services/13",place:"http://www.kakao.com/services/15",home:"http://www.kakao.com/services/7",agit:"http://www.kakao.com/services/12",account:"http://www.kakao.com/services/account",link:"http://www.kakao.com/services/6",developers:"https://developers.kakao.com/",story:"http://www.kakao.com/services/9"},plusFriend:{channel:"https://pf.kakao.com/_Jxnhwl"},externalUrl:{channelAppStore:"https://itunes.apple.com/app/id915337341?mt=8",channelGooglePlay:"https://play.google.com/store/apps/details?id=com.kakao.channel",chromeDownload:"https://www.google.com/chrome/browser"},videoPlayer:{kakaoPlayerPath:function(){return a.staticPath+"/base/swf/"}},uploader:{path:function(){var t="/base/swf/swfupload.swf";return a.staticDir?"/"+a.staticDir+t:t}},customer:{request:"https://cs.kakao.com/requests?category=19&locale=ko&node=NODE0000000823&service=9",suggest:"https://cs.kakao.com/requests?category=38&locale=ko&node=NODE0000000824&service=9"},kant:{host:"//ad1-kant.kakao.com/web/track.gif"},daumMap:{imageMap:"https://spi.maps.daum.net/map2/map/imageservice",httpsConvt:"https://t1.daumcdn.net/thumb/R240x0.q70/?fname=",markerSpriteUrl:function(){return a.staticPath+"/mobile/img/sp.png"},markerSpriteUrlDesktop:function(){return a.staticPath+"/desktop/img/ico_ks.png"},ios:{store:{app:"https://itunes.apple.com/kr/app/id304608425"}},android:{store:{app:"market://details?id=net.daum.android.map"}}},googleMap:{imageMap:"https://maps.googleapis.com/maps/api/staticmap",mobileMarkerPath:"/mobile/img/temp_pin.png",desktopMarkerPath:"/mobile/img/temp_pin.png",desktopSecondaryMarkerPath:"/mobile/img/temp_pin.png"},intl:{onerror:null},staticImages:{locActivityBg:{desktop:a.staticPath+"/desktop/img/thumb_map.png",mobile:a.staticPath+"/mobile/img/thumb_map.png"}},kakaoApiKey:"90c1434c4e8916a6ec5aa88109889601",kakaoTalk:{profileImageWidth:250},kakaoLinkTemplateId:{NO_IMAGE:5290,SIMPLE:5300}}});
define("phaseConfig",[],function(){return{storyUrl:"https://story.kakao.com",kage:{imageUpUrl:"https://up-api-kage-4story.kakao.com",imageDnUrl:"https://dn-s-story.kakaocdn.net",imageEffectUpUrl:"https://up-api-kage-4story.kakao.com",videoUpUrl:"https://up-api-kage-4story-video.kakao.com",videoThumbnailUrl:"https://dn-v-story.kakaocdn.net",videoPlayUrl:"https://dn-v-story.kakaocdn.net",scrapPreviewImageDnUrl:"kakaocdn.net"},kakaoLogin:{phase:"",clientId:"86680234706731008",pageUrl:"https://accounts.kakao.com/weblogin",logout:"https://accounts.kakao.com/logout",loginUrl:"https://accounts.kakao.com/login/kakaostory"},serviceUrl:{storyPlus:"https://ch.kakao.com",kakaoAccount:"https://accounts.kakao.com"},kant:{trackId:"265",pageViewTrackId:"264",feedStayTrackId:"369",channelInterestTrackId:"384"},storyPlus:{list:"https://ch.kakao.com/channels"},kakaoGroup:{url:"https://group.kakao.com"},androidIntentPostfix:"#Intent;package=com.kakao.story;action=android.intent.action.VIEW;scheme=kakaostory;end;",googleMap:{jsMapKey:"AIzaSyDXmiutXvRybwhGI1s35P-DtII4JMoTJLU"},mobileWebAd:{unitId:"DAN-1hv5g72bc6wkl",scriptUrl:"https://t1.daumcdn.net/adfit/static/ad-native.min.js"},schemeOrigin:{scheme:"kakaostory://",ulink:"https://al-story.kakao.com/",intent:"intent://"}}});
define("config",["underscore","config/common","phaseConfig"],function(n,c,i){var o=n.clone(c),e=function(c){return n.isObject(c)&&!n.isFunction(c)&&!n.isArray(c)},t=function(c,i){e(i)&&n.each(i,function(n,i){"undefined"!=typeof c[i]&&e(c[i])&&e(n)?t(c[i],n):c[i]=n})},u=function(c,i){var t=!i;return t&&(i=n.clone(c)),e(c)&&n.each(c,function(c,t){e(c)?u(c,i[t]):i[t]=n.isFunction(c)?c.call(o):c}),t?i:void 0};return t(o,i),o=u(o)});
define("common/util",["moment","common/urlUtil","config"],function(t,e,n){var r="_kawlt",a="_karmt",i="_kawltea",o="_karmtea",c="."+n.rootDomain,s="_kslat",u=[r,a,i,o],l={BACKSPACE:8,TAB:9,ENTER:13,SPACE:32,UP:38,DOWN:40,LEFT:37,RIGHT:39,ESC:27,DELETE:46},d=0,m=1900,f={position:"absolute",left:"-9999px"},g=/[\uD800-\uDFFF]/,h=1,p=12,v=1,b=31;return _.each(_.range(65,91),function(t){l[String.fromCharCode(t)]=t}),{KEY:l,EMPTY_BIRTH_YEAR:d,hasModifierKey:function(t){return t.altKey||t.shiftKey||t.ctrlKey},getCaretRange:function(t){var e,n,r,a,i,o={start:0,end:0};return"selectionStart"in t?(o.start=t.selectionStart,o.end=t.selectionEnd):"selection"in document&&(e=document.selection.createRange(),e&&e.parentElement()===t&&(a=t.value.length,i=t.value.replace(/\r\n/g,"\n"),n=t.createTextRange(),n.moveToBookmark(e.getBookmark()),r=t.createTextRange(),r.collapse(!1),n.compareEndPoints("StartToEnd",r)>-1?o.start=o.end=a:(o.start=-n.moveStart("character",-a),o.start+=i.slice(0,o.start).split("\n").length-1,n.compareEndPoints("EndToEnd",r)>-1?o.end=a:(o.end=-n.moveEnd("character",-a),o.end+=i.slice(0,o.end).split("\n").length-1)))),o},isCollapsedRange:function(t){return t.start===t.end},shiftRange:function(t,e){return{start:t.start+e,end:t.end+e}},getIntersectRange:function(t,e){return t.start>e.start?this.getIntersectRange(e,t):e.start<=t.end?{start:e.start,end:Math.min(t.end,e.end)}:null},setCaretPosition:function(t,e){var n;"selectionStart"in t?(t.focus(),t.setSelectionRange(e,e)):"selection"in document?(n=t.createTextRange(),n.move("character",e),n.select()):t.focus()},getWordBeforePosition:function(t,e){var n=t.substring(0,e).split(/\s+/);return _.last(n)||""},isBoundsInBounds:function(t,e){return e.top<=t.top&&t.bottom<=e.bottom&&e.left<=t.left&&t.right<=e.right},isTextSelected:function(){var t="";return window.getSelection?t=window.getSelection().toString():document.selection&&"Control"!==document.selection.type&&(t=document.selection.createRange().text),!!t},getConvertedImagePath:function(t,e){return/convert=\d+h$/.test(t)?t:t+"?convert="+(agent.support.retina?2*e:e)+"h"},escapeHtmlString:function(t){return t=t||"",t.toString().replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"<br>").replace(/  /g," &nbsp;").replace(/(<br>){2,}/g,function(t){return t.split("<br>").join("&nbsp;<br>")})},escapeHtmlStringWithUrlAnchor:function(t,n){var r=this,a=e.tokenizeByUrl(t),i="";return n=n||{},_.reduce(a,function(t,a){var o=e.prependProtocol(a.value);return"url"===a.type?(i=_.reduce(n.outlinkProperties||[],function(t,e){return t+" "+e.name+'="'+e.value+'"'},""),t+['<a href="',o,'" target="_blank" class="_autolink link_url" '+i+">",r.escapeHtmlString(a.value),"</a>"].join("")):t+r.escapeHtmlString(a.value)},"")},trim:function(t){return t=(t||"").toString(),"undefined"!=typeof String.prototype.trim?t.trim():t.replace(/^[\s\u00A0]+|[\s\u00A0]+$/g,"")},nl2br:function(t){var e=/\r?\n/g;return t.replace(e,"<br>")},makeSafeString:function(t){return this.trim(this.escapeHtmlString(t))},ellipsis:function(t,e,n,r){var a;return n=n||"",r=r||!1,e>t.length?t:(a=t.substring(0,e),r&&(a=this.trim(a)),a+n)},isValidDate:function(e,n,r){return r=r||"YYYYMMDD",this.isNumber(e)?n&&"YYYYMMDD"===r&&/0229$/.test(e)?!0:t(e,r).isValid():!1},isValidBirthYear:function(t){var e=t,n=(new Date).getFullYear();return this.isNumber(t)?("string"==typeof t&&(e=parseInt(t,10)),e!==d&&(m>e||e>n)?!1:!0):!1},isValidStoryId:function(t){var e=/^[a-z0-9]{1}[-_a-z0-9]{3,14}$/i;return e.test(t)},isValidStoryIdChar:function(t){var e=/^[a-z0-9]+[-_a-z0-9]*/i;return e.test(t)},isValidStoryNameChar:function(t){var e=/^[ㄱ-ㅎㅏ-ㅣ가-힣a-z0-9 ]+$/i;return e.test(t)},isValidStoryNameCharWithoutVowelAndConsonant:function(t){var e=/^[가-힣a-z0-9 ]+$/i;return e.test(t)},dateFormat:function(e,n,r){var a=t(e),i=t(r),o="";return o=n&&"simple"!==n&&"time"!==n?a.format("all"===n?"LL a hh:mm":n):a.isAfter(t().subtract("minutes",1))?intl.t("date.justNow"):a.isAfter(t().subtract("hours",12))?a.fromNow():a.format(a.isSame(i,"day")||"time"===n?"a hh:mm":a.isSame(i,"year")?"MMM Do a hh:mm":"simple"===n?"LL":"LL a hh:mm")},isCurrentYear:function(e){var n=t(e),r=t();return n.isSame(r,"year")},numberFormat:function(t,e,n){return"undefined"==typeof n&&(n="+"),_.isNumber(t)?(_.isNumber(e)&&t>e?t=e:n="",t=t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),t+n):t},copyToClipboard:function(t){var e,n;if(window.clipboardData)return window.clipboardData.setData("Text",t);n=$("<textarea>").attr("readonly","readonly").css(f).appendTo(document.body).val(t).select();try{e=document.execCommand("copy")}catch(r){e=!1}return n.remove(),e},copyToClipboardForIos:function(t){var e,n=t.contentEditable,r=t.readOnly,a=document.createRange(),i=window.getSelection();t.contentEditable=!0,t.readOnly=!1,a.selectNodeContents(t),i.removeAllRanges(),i.addRange(a),t.setSelectionRange(0,999999),t.contentEditable=n,t.readOnly=r;try{e=document.execCommand("copy")}catch(o){e=!1}return setTimeout(function(){t.blur()},0),e},hasKorean:function(t){var e=/[ㄱ-ㅎㅏ-ㅣ가-힣]/;return e.test(t)},isNumber:function(t){var e=/^[0-9]+$/;return e.test(t)},isValidEmail:function(t){var e=/^[_\.0-9a-zA-Z-]+@([0-9a-zA-Z][0-9a-zA-Z-]+\.)+[a-zA-Z]{2,6}$/i;return e.test(t)},makeValidDate:function(e,n,r,a,i){if(e=parseInt(e,10),n=parseInt(n,10),r=parseInt(r,10),i=i||"YYYYMMDD",a)return e=0===e?"0000":e,i.replace("YYYY",e).replace("MM",this.pad(n,2)).replace("DD",this.pad(r,2));var o=t({year:e,month:n-1,day:r});return o.format(i)},pad:function(t,e){return t=t.toString(),t.length<e?this.pad("0"+t,e):t},isValidBirthday:function(t,e,n,r){var a=null;return this.isNumber(t)&&this.isNumber(e)&&this.isNumber(n)?(a=this.makeValidDate(t,e,n,r),r?this.isValidBirthYear(t)&&e>=h&&p>=e&&n>=v&&b>=n:this.isValidBirthYear(t)&&this.isValidDate(a,r)):!1},clearSessionCookie:function(){var t=this;_.each(u,function(e){t.clearCookie(e,c)}),this.clearCookie(s,location.hostname)},clearCookie:function(t,e){document.cookie=t+"=deleted;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/;domain="+e+";"},getCookie:function(t){var e=this,n="",r=document.cookie.split(";");return _.some(r,function(r){var a=r.split("="),i=e.trim(a[0])===t;return i&&(n=a[1]),i}),n},setCookie:function(t,e,n,r){n=new Date(n).toGMTString(),r=r||c,document.cookie=t+"="+e+";expires="+n+";path=/;domain="+r+";"},convertByteToMb:function(t,e){var n,r=Math.pow(10,e||0);return n=0===t?0:Math.round(t/Math.pow(1024,2)*r)/r},replaceAll:function(t,e,n){return e=e.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1"),t.replace(new RegExp(e,"g"),n)},sum:function(t,e){return e=_.bind(e,this),_.reduce(t,function(t,n){return t+e(n)},0)},getFileSize:function(t){return t[0].files?this.sum(t[0].files,function(t){return t.size}):0},deepClone:function(t){var e=_.clone(t),n=this;return _.each(e,function(t,r){_.isObject(t)&&!_.isFunction(t)&&(e[r]=n.deepClone(t))}),e},logByImage:function(t){var e=Q.defer(),n=new Image(1,1);return $(n).one("load error",function(){e.resolve()}),n.src=t,e.promise},toggleMovieProfileImage:function(t,e){var n=t.attr("data-image-src"),r=t.attr("data-movie-src"),a=t.attr("src"),i=a===n;r&&(_.isUndefined(e)?t.attr("src",i?r:n):e&&i?t.attr("src",r):e||i||t.attr("src",n))},triggerWhenOrientationchange:function(t){return this.triggerWhenChange(t,function(){return agent.getScreenInfo().isLandscape})},triggerWhenChange:function(t,e,n){var r=_.rest(arguments,3),a=e.apply(n,r);return function(){var i=r.concat(_.toArray(arguments)),o=e.apply(n,i);return a!==o?(a=o,t.apply(this,i)):void 0}},stripTags:function(t){return t.replace(/<\w+(\s+("[^"]*"|'[^']*'|[^>])+)?>|<\/\w+>/gi,"")},convertUtf8Hex:function(t,e){for(var n,r,a=[],i=[],o=0,c=0,s=0,u=t.length;u>s;s++)if(n=t.charCodeAt(s),128>n?(a[o++]=n,c=1):2048>n?(a[o++]=n>>6|192,a[o++]=63&n|128,c=2):55296===(64512&n)&&s+1<t.length&&56320===(64512&t.charCodeAt(s+1))?(n=65536+((1023&n)<<10)+(1023&t.charCodeAt(++s)),a[o++]=n>>18|240,a[o++]=n>>12&63|128,a[o++]=n>>6&63|128,a[o++]=63&n|128,c=4):(a[o++]=n>>12|224,a[o++]=n>>6&63|128,a[o++]=63&n|128,c=3),e&&o>e){a.length=o-c;break}return i=_.map(a,function(t){return r=t.toString(16),r.length>1?r:"0"+r}),i.join("")},surrogateSafeSubstr:function(t,e,n,r){var a=t.substr(n-1,1);return r=!!r,g.test(a)?r?t.substr(e,n+1):t.substr(e,n-1):t.substr(e,n)},convertBlankToUnicode:function(t){return t.replace(/ /g," ")},parseDateToObj:function(t){var e=t.match(/(^\d{4})-(\d{2})-(\d{2}).*/);return{year:e[1],month:e[2],day:e[3]}}}});
(function(t){var n=t.CryptoJS||function(t,n){var i={},e=i.lib={},r=function(){},s=e.Base={extend:function(t){r.prototype=this;var n=new r;return t&&n.mixIn(t),n.hasOwnProperty("init")||(n.init=function(){n.$super.init.apply(this,arguments)}),n.init.prototype=n,n.$super=this,n},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var n in t)t.hasOwnProperty(n)&&(this[n]=t[n]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},o=e.WordArray=s.extend({init:function(t,i){t=this.words=t||[],this.sigBytes=i!=n?i:4*t.length},toString:function(t){return(t||c).stringify(this)},concat:function(t){var n=this.words,i=t.words,e=this.sigBytes;if(t=t.sigBytes,this.clamp(),e%4)for(var r=0;t>r;r++)n[e+r>>>2]|=(i[r>>>2]>>>24-8*(r%4)&255)<<24-8*((e+r)%4);else if(65535<i.length)for(r=0;t>r;r+=4)n[e+r>>>2]=i[r>>>2];else n.push.apply(n,i);return this.sigBytes+=t,this},clamp:function(){var n=this.words,i=this.sigBytes;n[i>>>2]&=4294967295<<32-8*(i%4),n.length=t.ceil(i/4)},clone:function(){var t=s.clone.call(this);return t.words=this.words.slice(0),t},random:function(n){for(var i=[],e=0;n>e;e+=4)i.push(4294967296*t.random()|0);return new o.init(i,n)}}),a=i.enc={},c=a.Hex={stringify:function(t){var n=t.words;t=t.sigBytes;for(var i=[],e=0;t>e;e++){var r=n[e>>>2]>>>24-8*(e%4)&255;i.push((r>>>4).toString(16)),i.push((15&r).toString(16))}return i.join("")},parse:function(t){for(var n=t.length,i=[],e=0;n>e;e+=2)i[e>>>3]|=parseInt(t.substr(e,2),16)<<24-4*(e%8);return new o.init(i,n/2)}},h=a.Latin1={stringify:function(t){var n=t.words;t=t.sigBytes;for(var i=[],e=0;t>e;e++)i.push(String.fromCharCode(n[e>>>2]>>>24-8*(e%4)&255));return i.join("")},parse:function(t){for(var n=t.length,i=[],e=0;n>e;e++)i[e>>>2]|=(255&t.charCodeAt(e))<<24-8*(e%4);return new o.init(i,n)}},u=a.Utf8={stringify:function(t){try{return decodeURIComponent(escape(h.stringify(t)))}catch(n){throw Error("Malformed UTF-8 data")}},parse:function(t){return h.parse(unescape(encodeURIComponent(t)))}},f=e.BufferedBlockAlgorithm=s.extend({reset:function(){this._data=new o.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=u.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(n){var i=this._data,e=i.words,r=i.sigBytes,s=this.blockSize,a=r/(4*s),a=n?t.ceil(a):t.max((0|a)-this._minBufferSize,0);if(n=a*s,r=t.min(4*n,r),n){for(var c=0;n>c;c+=s)this._doProcessBlock(e,c);c=e.splice(0,n),i.sigBytes-=r}return new o.init(c,r)},clone:function(){var t=s.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0});e.Hasher=f.extend({cfg:s.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){f.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(n,i){return new t.init(i).finalize(n)}},_createHmacHelper:function(t){return function(n,i){return new l.HMAC.init(t,i).finalize(n)}}});var l=i.algo={};return i}(Math);(function(t){for(var i=n,e=i.lib,r=e.WordArray,s=e.Hasher,e=i.algo,o=[],a=[],c=function(t){return 4294967296*(t-(0|t))|0},h=2,u=0;64>u;){var f;t:{f=h;for(var l=t.sqrt(f),p=2;l>=p;p++)if(!(f%p)){f=!1;break t}f=!0}f&&(8>u&&(o[u]=c(t.pow(h,.5))),a[u]=c(t.pow(h,1/3)),u++),h++}var d=[],e=e.SHA256=s.extend({_doReset:function(){this._hash=new r.init(o.slice(0))},_doProcessBlock:function(t,n){for(var i=this._hash.words,e=i[0],r=i[1],s=i[2],o=i[3],c=i[4],h=i[5],u=i[6],f=i[7],l=0;64>l;l++){if(16>l)d[l]=0|t[n+l];else{var p=d[l-15],g=d[l-2];d[l]=((p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3)+d[l-7]+((g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10)+d[l-16]}p=f+((c<<26|c>>>6)^(c<<21|c>>>11)^(c<<7|c>>>25))+(c&h^~c&u)+a[l]+d[l],g=((e<<30|e>>>2)^(e<<19|e>>>13)^(e<<10|e>>>22))+(e&r^e&s^r&s),f=u,u=h,h=c,c=o+p|0,o=s,s=r,r=e,e=p+g|0}i[0]=i[0]+e|0,i[1]=i[1]+r|0,i[2]=i[2]+s|0,i[3]=i[3]+o|0,i[4]=i[4]+c|0,i[5]=i[5]+h|0,i[6]=i[6]+u|0,i[7]=i[7]+f|0},_doFinalize:function(){var n=this._data,i=n.words,e=8*this._nDataBytes,r=8*n.sigBytes;return i[r>>>5]|=128<<24-r%32,i[(r+64>>>9<<4)+14]=t.floor(e/4294967296),i[(r+64>>>9<<4)+15]=e,n.sigBytes=4*i.length,this._process(),this._hash},clone:function(){var t=s.clone.call(this);return t._hash=this._hash.clone(),t}});i.SHA256=s._createHelper(e),i.HmacSHA256=s._createHmacHelper(e)})(Math),define("cryptojs",[],function(){return n}),t.CryptoJS=n})(window);
define("common/api",["backbone","base64url","common/util","common/agent","cryptojs"],function(e,t,n){var r=100,i=2e4,a=1e3,o=18e4,u=20,c="WC1LYWthby1WQw",s=1e4,f=2e4,d=s,p=function(){var e=_.now(),t=_.isFunction(G.hook)?G.hook():"";return function n(){var r=e%d++;d>f&&(d=s),t+=r.toString(16),t.length<u&&n()}(),t.substr(0,u)},h="|",l=["Accept-Language","X-Kakao-ApiLevel","X-Kakao-ProfileProperties"],m="web:"+(agent.type.is.mobile?"m":"d")+";-;-",v=/^(GET|HEAD)$/i,g=/\?/,x=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,E=function(e){var t={},n=0,r={has:function(e){return this.checkExpiration(e)},get:function(e){return this.checkExpiration(e)?t[e].data:null},checkExpiration:function(e){if(!(e in t))return!1;var n=(new Date).getTime();return n<=t[e].expireTime?!0:(this.remove(e),!1)},add:function(n,r,i){i=i||e.defaultExpiredIn;var a=(new Date).getTime(),o=a+i;t[n]={data:r,createTime:a,expireTime:o},this.clearExpiredCache(a)},remove:function(e){delete t[e]},getCreateTime:function(e){var n=t[e];return n&&n.createTime},inspect:function(){return t},clear:function(){_.each(t,_.bind(function(e,t){this.remove(t)},this))},clearExpiredCache:function(e){n>e||(_.each(t,_.bind(function(e,t){this.checkExpiration(t)},this)),n=e+o)}};return r},k=function(e){var t,r;return e.url in I&&"GET"===H(e)?(logger.trace("Static Response:",e.url,I[e.url]),Q.resolve(I[e.url])):(e=q(e,{Accept:"application/json","X-Kakao-ApiLevel":45,"X-Kakao-DeviceInfo":m,"Accept-Language":"ko"}),e.url in K?e=K[e.url](e):_.each(X,function(t){t.regexp.test(e.url)&&(e=t.handler(e))}),e.url=j(e.url),e=_.extend({dataType:"json",timeout:i,cache:!1},e),A(e)?(t=w(e),L.has(t)?r=C(t):D.has(t)?r=R(t):(r=y(e),r=r.fin(function(e){return D.remove(t),e}),r=r.then(function(r){return L.add(t,n.deepClone(r),e.responseCacheTimeout),r}),D.add(t,r))):r=y(e),r=r.then(function(t){return T(t,e),t}))},C=function(e){var t=n.deepClone(L.get(e));return Q.resolve(t)},R=function(e){return D.get(e).then(function(e){return n.deepClone(e)})},T=function(e,t){t.extraData!==!0&&delete e._extra},y=function(e){var t=Q.defer();try{$.ajax(e).then(function(e,n,r){e=e||{},e._extra={responseHeaders:b(r)},t.resolve(e)},function(e){t.reject(e)})}catch(n){t.reject(n)}return t.promise},b=function(e){for(var t=e.getAllResponseHeaders(),n={};x.test(t);)n[RegExp.$1.toLowerCase()]=RegExp.$2;return n},j=function(e){return"/a"+(0===e.indexOf("/")?"":"/")+e},A=function(e){return v.test(H(e))&&e.forceRequest!==!0},w=function(e){var t="";return e.ignoreCacheByHeader||_.isEmpty(e.headers)||(t=JSON.stringify(_.pick(e.headers,l))),[H(e),S(e),t].join(h)},H=function(e){var t=e.type||e.method||"GET";return t.toUpperCase()},S=function(e){var t=e.url;if(!e.data)return t;var n=$.param(e.data),r=g.test(t)?"&":"?";return t+r+n},q=function(e,n){return e=e||{},e.headers=_.extend(e.headers||{},n),e.headers[t.decode(c)]=p(),e},D=E({defaultExpiredIn:i}),L=E({defaultExpiredIn:a}),I={},K={},X=[];(function(){e.ajax=k})();var G={request:k,_requesting:D,_responseCache:L,clearResponseCache:function(e){e.url=j(e.url);var t,n,i=w(e),a=L.getCreateTime(i);return a?(t=(new Date).getTime(),n=t-a,n>r&&!this.hasStaticResponse()?(L.remove(i),!0):!1):!1},addStaticResponse:function(e,t){I[e]=t},removeStaticResponse:function(e){e&&e in I&&delete I[e]},hasStaticResponse:function(){return!_.isEmpty(I)},addRequestHook:function(e,t){return _.isArray(e)?void _.each(e,function(e){this.addRequestHook(e,t)},this):void(e instanceof RegExp?X.push({regexp:e,handler:t}):K[e]=t)},removeRequestHook:function(e){delete K[e]},clearCache:function(){L.clear()}};return G});
(function(t){function e(r,n){function o(t){if(o[t]!==y)return o[t];var e;if("bug-string-char-index"==t)e="a"!="a"[0];else if("json"==t)e=o("json-stringify")&&o("json-parse");else{var r,a='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==t){var f=n.stringify,s="function"==typeof f&&d;if(s){(r=function(){return 1}).toJSON=r;try{s="0"===f(0)&&"0"===f(new c)&&'""'==f(new i)&&f(v)===y&&f(y)===y&&f()===y&&"1"===f(r)&&"[1]"==f([r])&&"[null]"==f([y])&&"null"==f(null)&&"[null,null,null]"==f([y,v,null])&&f({a:[r,!0,!1,null,"\x00\b\n\f\r	"]})==a&&"1"===f(null,r)&&"[\n 1,\n 2\n]"==f([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==f(new l(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==f(new l(864e13))&&'"-000001-01-01T00:00:00.000Z"'==f(new l(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==f(new l(-1))}catch(u){s=!1}}e=s}if("json-parse"==t){var h=n.parse;if("function"==typeof h)try{if(0===h("0")&&!h(!1)){r=h(a);var p=5==r.a.length&&1===r.a[0];if(p){try{p=!h('"	"')}catch(u){}if(p)try{p=1!==h("01")}catch(u){}if(p)try{p=1!==h("1.")}catch(u){}}}}catch(u){p=!1}e=p}}return o[t]=!!e}r||(r=t.Object()),n||(n=t.Object());var c=r.Number||t.Number,i=r.String||t.String,a=r.Object||t.Object,l=r.Date||t.Date,f=r.SyntaxError||t.SyntaxError,s=r.TypeError||t.TypeError,u=r.Math||t.Math,h=r.JSON||t.JSON;"object"==typeof h&&h&&(n.stringify=h.stringify,n.parse=h.parse);var p,g,y,b=a.prototype,v=b.toString,d=new l(-0xc782b5b800cec);try{d=-109252==d.getUTCFullYear()&&0===d.getUTCMonth()&&1===d.getUTCDate()&&10==d.getUTCHours()&&37==d.getUTCMinutes()&&6==d.getUTCSeconds()&&708==d.getUTCMilliseconds()}catch(C){}if(!o("json")){var j="[object Function]",S="[object Date]",O="[object Number]",T="[object String]",A="[object Array]",_="[object Boolean]",w=o("bug-string-char-index");if(!d)var N=u.floor,U=[0,31,59,90,120,151,181,212,243,273,304,334],x=function(t,e){return U[e]+365*(t-1970)+N((t-1969+(e=+(e>1)))/4)-N((t-1901+e)/100)+N((t-1601+e)/400)};(p=b.hasOwnProperty)||(p=function(t){var e,r={};return(r.__proto__=null,r.__proto__={toString:1},r).toString!=v?p=function(t){var e=this.__proto__,r=t in(this.__proto__=null,this);return this.__proto__=e,r}:(e=r.constructor,p=function(t){var r=(this.constructor||e).prototype;return t in this&&!(t in r&&this[t]===r[t])}),r=null,p.call(this,t)});var J={"boolean":1,number:1,string:1,undefined:1},M=function(t,e){var r=typeof t[e];return"object"==r?!!t[e]:!J[r]};if(g=function(t,e){var r,n,o,c=0;(r=function(){this.valueOf=0}).prototype.valueOf=0,n=new r;for(o in n)p.call(n,o)&&c++;return r=n=null,c?g=2==c?function(t,e){var r,n={},o=v.call(t)==j;for(r in t)o&&"prototype"==r||p.call(n,r)||!(n[r]=1)||!p.call(t,r)||e(r)}:function(t,e){var r,n,o=v.call(t)==j;for(r in t)o&&"prototype"==r||!p.call(t,r)||(n="constructor"===r)||e(r);(n||p.call(t,r="constructor"))&&e(r)}:(n=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],g=function(t,e){var r,o,c=v.call(t)==j,i=!c&&"function"!=typeof t.constructor&&M(t,"hasOwnProperty")?t.hasOwnProperty:p;for(r in t)c&&"prototype"==r||!i.call(t,r)||e(r);for(o=n.length;r=n[--o];i.call(t,r)&&e(r));}),g(t,e)},!o("json-stringify")){var m={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},k="000000",D=function(t,e){return(k+(e||0)).slice(-t)},E="\\u00",P=function(t){for(var e='"',r=0,n=t.length,o=!w||n>10,c=o&&(w?t.split(""):t);n>r;r++){var i=t.charCodeAt(r);switch(i){case 8:case 9:case 10:case 12:case 13:case 34:case 92:e+=m[i];break;default:if(32>i){e+=E+D(2,i.toString(16));break}e+=o?c[r]:t.charAt(r)}}return e+'"'},Z=function(t,e,r,n,o,c,i){var a,l,f,u,h,b,d,C,j,w,U,J,M,m,k,E;try{a=e[t]}catch(F){}if("object"==typeof a&&a)if(l=v.call(a),l!=S||p.call(a,"toJSON"))"function"==typeof a.toJSON&&(l!=O&&l!=T&&l!=A||p.call(a,"toJSON"))&&(a=a.toJSON(t));else if(a>-1/0&&1/0>a){if(x){for(h=N(a/864e5),f=N(h/365.2425)+1970-1;x(f+1,0)<=h;f++);for(u=N((h-x(f,0))/30.42);x(f,u+1)<=h;u++);h=1+h-x(f,u),b=(a%864e5+864e5)%864e5,d=N(b/36e5)%24,C=N(b/6e4)%60,j=N(b/1e3)%60,w=b%1e3}else f=a.getUTCFullYear(),u=a.getUTCMonth(),h=a.getUTCDate(),d=a.getUTCHours(),C=a.getUTCMinutes(),j=a.getUTCSeconds(),w=a.getUTCMilliseconds();a=(0>=f||f>=1e4?(0>f?"-":"+")+D(6,0>f?-f:f):D(4,f))+"-"+D(2,u+1)+"-"+D(2,h)+"T"+D(2,d)+":"+D(2,C)+":"+D(2,j)+"."+D(3,w)+"Z"}else a=null;if(r&&(a=r.call(e,t,a)),null===a)return"null";if(l=v.call(a),l==_)return""+a;if(l==O)return a>-1/0&&1/0>a?""+a:"null";if(l==T)return P(""+a);if("object"==typeof a){for(m=i.length;m--;)if(i[m]===a)throw s();if(i.push(a),U=[],k=c,c+=o,l==A){for(M=0,m=a.length;m>M;M++)J=Z(M,a,r,n,o,c,i),U.push(J===y?"null":J);E=U.length?o?"[\n"+c+U.join(",\n"+c)+"\n"+k+"]":"["+U.join(",")+"]":"[]"}else g(n||a,function(t){var e=Z(t,a,r,n,o,c,i);e!==y&&U.push(P(t)+":"+(o?" ":"")+e)}),E=U.length?o?"{\n"+c+U.join(",\n"+c)+"\n"+k+"}":"{"+U.join(",")+"}":"{}";return i.pop(),E}};n.stringify=function(t,e,r){var n,o,c,i;if("function"==typeof e||"object"==typeof e&&e)if((i=v.call(e))==j)o=e;else if(i==A){c={};for(var a,l=0,f=e.length;f>l;a=e[l++],i=v.call(a),(i==T||i==O)&&(c[a]=1));}if(r)if((i=v.call(r))==O){if((r-=r%1)>0)for(n="",r>10&&(r=10);n.length<r;n+=" ");}else i==T&&(n=r.length<=10?r:r.slice(0,10));return Z("",(a={},a[""]=t,a),o,c,n,"",[])}}if(!o("json-parse")){var F,$,H=i.fromCharCode,I={92:"\\",34:'"',47:"/",98:"\b",116:"	",110:"\n",102:"\f",114:"\r"},Y=function(){throw F=$=null,f()},B=function(){for(var t,e,r,n,o,c=$,i=c.length;i>F;)switch(o=c.charCodeAt(F)){case 9:case 10:case 13:case 32:F++;break;case 123:case 125:case 91:case 93:case 58:case 44:return t=w?c.charAt(F):c[F],F++,t;case 34:for(t="@",F++;i>F;)if(o=c.charCodeAt(F),32>o)Y();else if(92==o)switch(o=c.charCodeAt(++F)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:t+=I[o],F++;break;case 117:for(e=++F,r=F+4;r>F;F++)o=c.charCodeAt(F),o>=48&&57>=o||o>=97&&102>=o||o>=65&&70>=o||Y();t+=H("0x"+c.slice(e,F));break;default:Y()}else{if(34==o)break;for(o=c.charCodeAt(F),e=F;o>=32&&92!=o&&34!=o;)o=c.charCodeAt(++F);t+=c.slice(e,F)}if(34==c.charCodeAt(F))return F++,t;Y();default:if(e=F,45==o&&(n=!0,o=c.charCodeAt(++F)),o>=48&&57>=o){for(48==o&&(o=c.charCodeAt(F+1),o>=48&&57>=o)&&Y(),n=!1;i>F&&(o=c.charCodeAt(F),o>=48&&57>=o);F++);if(46==c.charCodeAt(F)){for(r=++F;i>r&&(o=c.charCodeAt(r),o>=48&&57>=o);r++);r==F&&Y(),F=r}if(o=c.charCodeAt(F),101==o||69==o){for(o=c.charCodeAt(++F),(43==o||45==o)&&F++,r=F;i>r&&(o=c.charCodeAt(r),o>=48&&57>=o);r++);r==F&&Y(),F=r}return+c.slice(e,F)}if(n&&Y(),"true"==c.slice(F,F+4))return F+=4,!0;if("false"==c.slice(F,F+5))return F+=5,!1;if("null"==c.slice(F,F+4))return F+=4,null;Y()}return"$"},L=function(t){var e,r;if("$"==t&&Y(),"string"==typeof t){if("@"==(w?t.charAt(0):t[0]))return t.slice(1);if("["==t){for(e=[];t=B(),"]"!=t;r||(r=!0))r&&(","==t?(t=B(),"]"==t&&Y()):Y()),","==t&&Y(),e.push(L(t));return e}if("{"==t){for(e={};t=B(),"}"!=t;r||(r=!0))r&&(","==t?(t=B(),"}"==t&&Y()):Y()),(","==t||"string"!=typeof t||"@"!=(w?t.charAt(0):t[0])||":"!=B())&&Y(),e[t.slice(1)]=L(B());return e}Y()}return t},q=function(t,e,r){var n=z(t,e,r);n===y?delete t[e]:t[e]=n},z=function(t,e,r){var n,o=t[e];if("object"==typeof o&&o)if(v.call(o)==A)for(n=o.length;n--;)q(o,n,r);else g(o,function(t){q(o,t,r)});return r.call(t,e,o)};n.parse=function(t,e){var r,n;return F=0,$=""+t,r=L(B()),"$"!=B()&&Y(),F=$=null,e&&v.call(e)==j?z((n={},n[""]=r,n),"",e):r}}}return n.runInContext=e,n}var r="function"==typeof define&&define.amd,n="object"==typeof global&&global;if(!n||n.global!==n&&n.window!==n||(t=n),"object"!=typeof exports||!exports||exports.nodeType||r){var o=t.JSON,c=e(t,t.JSON3={noConflict:function(){return t.JSON=o,c}});t.JSON={parse:c.parse,stringify:c.stringify}}else e(t,exports);r&&define("json3",[],function(){return c})})(this);
(function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("Handlebars",t):"object"==typeof exports?exports.Handlebars=t():e.Handlebars=t()})(this,function(){return function(e){function t(n){if(r[n])return r[n].exports;var a=r[n]={exports:{},id:n,loaded:!1};return e[n].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){function n(){var e=new s.HandlebarsEnvironment;return d.extend(e,s),e.SafeString=u["default"],e.Exception=f["default"],e.Utils=d,e.escapeExpression=d.escapeExpression,e.VM=m,e.template=function(t){return m.template(t,e)},e}var a=r(7)["default"],o=r(8)["default"];t.__esModule=!0;var i=r(1),s=a(i),l=r(2),u=o(l),c=r(3),f=o(c),p=r(4),d=a(p),h=r(5),m=a(h),v=r(6),g=o(v),w=n();w.create=n,g["default"](w),w["default"]=w,t["default"]=w,e.exports=t["default"]},function(e,t,r){function n(e,t){this.helpers=e||{},this.partials=t||{},a(this)}function a(e){e.registerHelper("helperMissing",function(){if(1===arguments.length)return void 0;throw new f["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"')}),e.registerHelper("blockHelperMissing",function(t,r){var n=r.inverse,a=r.fn;if(t===!0)return a(this);if(t===!1||null==t)return n(this);if(m(t))return t.length>0?(r.ids&&(r.ids=[r.name]),e.helpers.each(t,r)):n(this);if(r.data&&r.ids){var i=o(r.data);i.contextPath=u.appendContextPath(r.data.contextPath,r.name),r={data:i}}return a(t,r)}),e.registerHelper("each",function(e,t){function r(t,r,a){l&&(l.key=t,l.index=r,l.first=0===r,l.last=!!a,c&&(l.contextPath=c+t)),s+=n(e[t],{data:l,blockParams:u.blockParams([e[t],t],[c+t,null])})}if(!t)throw new f["default"]("Must pass iterator to #each");var n=t.fn,a=t.inverse,i=0,s="",l=void 0,c=void 0;if(t.data&&t.ids&&(c=u.appendContextPath(t.data.contextPath,t.ids[0])+"."),v(e)&&(e=e.call(this)),t.data&&(l=o(t.data)),e&&"object"==typeof e)if(m(e))for(var p=e.length;p>i;i++)r(i,i,i===e.length-1);else{var d=void 0;for(var h in e)e.hasOwnProperty(h)&&(d&&r(d,i-1),d=h,i++);d&&r(d,i-1,!0)}return 0===i&&(s=a(this)),s}),e.registerHelper("if",function(e,t){return v(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||u.isEmpty(e)?t.inverse(this):t.fn(this)}),e.registerHelper("unless",function(t,r){return e.helpers["if"].call(this,t,{fn:r.inverse,inverse:r.fn,hash:r.hash})}),e.registerHelper("with",function(e,t){v(e)&&(e=e.call(this));var r=t.fn;if(u.isEmpty(e))return t.inverse(this);if(t.data&&t.ids){var n=o(t.data);n.contextPath=u.appendContextPath(t.data.contextPath,t.ids[0]),t={data:n}}return r(e,t)}),e.registerHelper("log",function(t,r){var n=r.data&&null!=r.data.level?parseInt(r.data.level,10):1;e.log(n,t)}),e.registerHelper("lookup",function(e,t){return e&&e[t]})}function o(e){var t=u.extend({},e);return t._parent=e,t}var i=r(7)["default"],s=r(8)["default"];t.__esModule=!0,t.HandlebarsEnvironment=n,t.createFrame=o;var l=r(4),u=i(l),c=r(3),f=s(c),p="3.0.1";t.VERSION=p;var d=6;t.COMPILER_REVISION=d;var h={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1"};t.REVISION_CHANGES=h;var m=u.isArray,v=u.isFunction,g=u.toString,w="[object Object]";n.prototype={constructor:n,logger:x,log:b,registerHelper:function(e,t){if(g.call(e)===w){if(t)throw new f["default"]("Arg not supported with multiple helpers");u.extend(this.helpers,e)}else this.helpers[e]=t},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){if(g.call(e)===w)u.extend(this.partials,e);else{if("undefined"==typeof t)throw new f["default"]("Attempting to register a partial as undefined");this.partials[e]=t}},unregisterPartial:function(e){delete this.partials[e]}};var x={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:1,log:function(e,t){if("undefined"!=typeof console&&x.level<=e){var r=x.methodMap[e];(console[r]||console.log).call(console,t)}}};t.logger=x;var b=x.log;t.log=b},function(e,t){function r(e){this.string=e}t.__esModule=!0,r.prototype.toString=r.prototype.toHTML=function(){return""+this.string},t["default"]=r,e.exports=t["default"]},function(e,t){function r(e,t){var a=t&&t.loc,o=void 0,i=void 0;a&&(o=a.start.line,i=a.start.column,e+=" - "+o+":"+i);for(var s=Error.prototype.constructor.call(this,e),l=0;l<n.length;l++)this[n[l]]=s[n[l]];Error.captureStackTrace&&Error.captureStackTrace(this,r),a&&(this.lineNumber=o,this.column=i)}t.__esModule=!0;var n=["description","fileName","lineNumber","message","name","number","stack"];r.prototype=new Error,t["default"]=r,e.exports=t["default"]},function(e,t){function r(e){return u[e]}function n(e){for(var t=1;t<arguments.length;t++)for(var r in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],r)&&(e[r]=arguments[t][r]);return e}function a(e,t){for(var r=0,n=e.length;n>r;r++)if(e[r]===t)return r;return-1}function o(e){if("string"!=typeof e){if(e&&e.toHTML)return e.toHTML();if(null==e)return"";if(!e)return e+"";e=""+e}return f.test(e)?e.replace(c,r):e}function i(e){return e||0===e?h(e)&&0===e.length?!0:!1:!0}function s(e,t){return e.path=t,e}function l(e,t){return(e?e+".":"")+t}t.__esModule=!0,t.extend=n,t.indexOf=a,t.escapeExpression=o,t.isEmpty=i,t.blockParams=s,t.appendContextPath=l;var u={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},c=/[&<>"'`]/g,f=/[&<>"'`]/,p=Object.prototype.toString;t.toString=p;var d=function(e){return"function"==typeof e};d(/x/)&&(t.isFunction=d=function(e){return"function"==typeof e&&"[object Function]"===p.call(e)});var d;t.isFunction=d;var h=Array.isArray||function(e){return e&&"object"==typeof e?"[object Array]"===p.call(e):!1};t.isArray=h},function(e,t,r){function n(e){var t=e&&e[0]||1,r=v.COMPILER_REVISION;if(t!==r){if(r>t){var n=v.REVISION_CHANGES[r],a=v.REVISION_CHANGES[t];throw new m["default"]("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+n+") or downgrade your runtime to an older version ("+a+").")}throw new m["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}}function a(e,t){function r(r,n,a){a.hash&&(n=d.extend({},n,a.hash)),r=t.VM.resolvePartial.call(this,r,n,a);var o=t.VM.invokePartial.call(this,r,n,a);if(null==o&&t.compile&&(a.partials[a.name]=t.compile(r,e.compilerOptions,t),o=a.partials[a.name](n,a)),null!=o){if(a.indent){for(var i=o.split("\n"),s=0,l=i.length;l>s&&(i[s]||s+1!==l);s++)i[s]=a.indent+i[s];o=i.join("\n")}return o}throw new m["default"]("The partial "+a.name+" could not be compiled when running in runtime-only mode")}function n(t){var r=void 0===arguments[1]?{}:arguments[1],o=r.data;n._setup(r),!r.partial&&e.useData&&(o=u(t,o));var i=void 0,s=e.useBlockParams?[]:void 0;return e.useDepths&&(i=r.depths?[t].concat(r.depths):[t]),e.main.call(a,t,a.helpers,a.partials,o,s,i)}if(!t)throw new m["default"]("No environment passed to template");if(!e||!e.main)throw new m["default"]("Unknown template object: "+typeof e);t.VM.checkRevision(e.compiler);var a={strict:function(e,t){if(!(t in e))throw new m["default"]('"'+t+'" not defined in '+e);return e[t]},lookup:function(e,t){for(var r=e.length,n=0;r>n;n++)if(e[n]&&null!=e[n][t])return e[n][t]},lambda:function(e,t){return"function"==typeof e?e.call(t):e},escapeExpression:d.escapeExpression,invokePartial:r,fn:function(t){return e[t]},programs:[],program:function(e,t,r,n,a){var i=this.programs[e],s=this.fn(e);return t||a||n||r?i=o(this,e,s,t,r,n,a):i||(i=this.programs[e]=o(this,e,s)),i},data:function(e,t){for(;e&&t--;)e=e._parent;return e},merge:function(e,t){var r=e||t;return e&&t&&e!==t&&(r=d.extend({},t,e)),r},noop:t.VM.noop,compilerInfo:e.compiler};return n.isTop=!0,n._setup=function(r){r.partial?(a.helpers=r.helpers,a.partials=r.partials):(a.helpers=a.merge(r.helpers,t.helpers),e.usePartial&&(a.partials=a.merge(r.partials,t.partials)))},n._child=function(t,r,n,i){if(e.useBlockParams&&!n)throw new m["default"]("must pass block params");if(e.useDepths&&!i)throw new m["default"]("must pass parent depths");return o(a,t,e[t],r,0,n,i)},n}function o(e,t,r,n,a,o,i){function s(t){var a=void 0===arguments[1]?{}:arguments[1];return r.call(e,t,e.helpers,e.partials,a.data||n,o&&[a.blockParams].concat(o),i&&[t].concat(i))}return s.program=t,s.depth=i?i.length:0,s.blockParams=a||0,s}function i(e,t,r){return e?e.call||r.name||(r.name=e,e=r.partials[e]):e=r.partials[r.name],e}function s(e,t,r){if(r.partial=!0,void 0===e)throw new m["default"]("The partial "+r.name+" could not be found");return e instanceof Function?e(t,r):void 0}function l(){return""}function u(e,t){return t&&"root"in t||(t=t?v.createFrame(t):{},t.root=e),t}var c=r(7)["default"],f=r(8)["default"];t.__esModule=!0,t.checkRevision=n,t.template=a,t.wrapProgram=o,t.resolvePartial=i,t.invokePartial=s,t.noop=l;var p=r(4),d=c(p),h=r(3),m=f(h),v=r(1)},function(e,t){(function(r){t.__esModule=!0,t["default"]=function(e){var t="undefined"!=typeof r?r:window,n=t.Handlebars;e.noConflict=function(){t.Handlebars===e&&(t.Handlebars=n)}},e.exports=t["default"]}).call(t,function(){return this}())},function(e,t){t["default"]=function(e){if(e&&e.__esModule)return e;var t={};if("object"==typeof e&&null!==e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t},t.__esModule=!0},function(e,t){t["default"]=function(e){return e&&e.__esModule?e:{"default":e}},t.__esModule=!0}])});
define("common/imgPath",["config"],function(n){var e="/mobile/img/space.png",t=/([\w,\s-]+)(\.[a-zA-Z]{3,4})$/,a=n.staticPath;return{get:function(n,t){return t=_.defaults(t||{},{retina:!0,lang:!1}),0===n.indexOf("http")?n:0!==n.indexOf("/")?(logger.error("유효하지 않은 경로입니다. ("+n+")"),a+e):(agent.support.retina&&t.retina&&(n=this._changeToRetinaImage(n)),t.lang,a+n)},_changeToRetinaImage:function(n){return n.replace(t,"$1_rtn$2")}}});
define("common/profileImage",["config","common/util","common/urlUtil"],function(e,t,r){var i=[40,60,100,150,250],n=/([\w,\s-]+)(_[s|m|l])(\.[a-zA-Z]{3,4})(\?[^\/]+)?$/,o=/covert=\d+x\d+\./,u="/public/images/",a="_l";return{getUrl:function(e,r){return e?(e=t.escapeHtmlString(e),this._isPublicImage(e)?e:(r=Number(r),!r||isNaN(r)?e:this._hasSizePattern(e)?e:(e=this._replaceToLargeSize(e),this._appendSizeQueryString(e,this._getSizeQueryString(r))))):""},_isPublicImage:function(e){return e.indexOf(u)>-1},_hasSizePattern:function(e){return o.test(e)},_replaceToLargeSize:function(e){return e.replace(n,"$1"+a+"$3$4")},_appendSizeQueryString:function(e,t){if(!t)return e;var r=e.indexOf("?")>-1?"&":"?";return e+r+t},_getSizeQueryString:function(e){var t=this.getProperSize(e);return"convert="+t+"x"+t},getProperSize:function(e){var t=0,r=i[i.length-1],n=i.length;if(agent.support.retina&&(e*=2),e>=r)return r;for(;n--&&!(e>i[n]);)t=i[n];return t},getProfileHtml:function(t){var i=t.size;if(!i&&window.console){var n="profileImage helper: size 속성은 필수값입니다.";return void(console.error?console.error(n):console.log(n))}var o=this,u=["size","url","tagName","text","src","movieUrl"],a="img",l="video",c="gif",s=" ",g=/^http:/i,m=r.stripQueryString(t.url),p=t.tagName||a,f=t.text||"",h=m,d=t.movieUrl?r.stripQueryString(t.movieUrl):null,v=!!d&&agent.support.video,S=!!d&&r.getExtension(d)===c,z=null,x="",y="",P=function(t,r,i,n){var u=n?t:o.getUrl(t,r);return!n&&g.test(u)&&(u=e.daumMap.httpsConvt+encodeURIComponent(u)),i===a?{src:u,width:r,height:r}:i===l?{src:u,width:r,height:r,loop:null,muted:null}:{style:["background-image:url("+u+")","width:"+r+"px","height:"+r+"px"].join(";")}};return S?(p=a,h=d):v&&(p=l,h=d),h?(z=P(h,i,p,v||S),z["data-image-src"]=m||"",z["data-movie-src"]=d||"",_.each(t,function(e,t){_.contains(u,t)||(z[t]="style"===t&&z[t]?z[t]+e:e)}),y=_.reduce(z,function(e,t,r){return t?e+s+r+'="'+t+'"':e+s+r},s),x="<"+p+y+(p===a?"/>":">"+f+"</"+p+">")):""}}});
define("common/helper",["config","Handlebars","common/util","common/imgPath","common/profileImage"],function(e,t,r,i,n){t.registerHelper("t",function(){var e,r=_.initial(arguments),i=arguments[0],n=_.last(arguments);return r.length>=2&&!_.isObject(r[1])?e=_.rest(r):2===r.length&&(e=r[1]),new t.SafeString(n&&n.hash?intl.t(i,n.hash):"string"==typeof i?intl.t(i,e):intl.t(n.hash.key,i))}),t.registerHelper("dateFormat",function(){var e=["date","format","options"],i=_.object(e,_.initial(arguments)),n=r.dateFormat(i.date,i.format);return i.format||(n=n.replace(/([\d:\-\/]+)/g,"<em>$1</em>")),new t.SafeString(n)}),t.registerHelper("numberFormat",function(){var e=["number","maxNumber","ellipsisString","options"],i=_.object(e,_.initial(arguments));return new t.SafeString(r.numberFormat(parseInt(i.number,10),parseInt(i.maxNumber,10),i.ellipsisString))}),t.registerHelper("FIXME",function(e,r){var i=["overflow: hidden;","display: inline;","max-width: 120px;","padding: 3px;","color: red;","background: yellow;","font-weight: normal;","font-size: 11px;","position: absolute;","white-space: nowrap;","text-overflow: ellipsis;","width: initial;","height: initial;","line-height: initial;","z-index: 190;"].join(""),n='<div style="position:relative;width:0;height:0;">';return n+='<a target="_blank"',n+=' style="'+i+'"',"string"==typeof r&&(n+=' href="'+r+'"'),n+=' title="'+e+'"',n+=">"+e,n+="</a></div>",new t.SafeString(n)}),t.registerHelper("img",function(e){var r="",n=function(e,t){return i.get(e,{retina:"false"===t.retina?!1:!0,lang:"true"===t.lang})},a=function(e){return e?intl.t(e):""};return _.each(e.hash,function(t,i){switch(i){case"src":t=n(t,{retina:e.hash["data-retina"],lang:e.hash["data-lang"]});break;case"alt":case"title":t=a(t)}r+=" "+i+'="'+t+'"'}),new t.SafeString("<img"+r+" />")}),t.registerHelper("profileImage",function(e){return new t.SafeString(n.getProfileHtml(_.extend({},e.hash)))}),t.registerHelper("ellipsis",function(){var e=["text","len","postfix","trim"],i=_.object(e,_.initial(arguments));return i.postfix=i.postfix||"",i.trim=i.trim||!1,new t.SafeString(r.ellipsis(i.text,i.len,i.postfix,i.trim))}),t.registerHelper("httpsImage",function(){var t=["url"],r=_.object(t,_.initial(arguments));return e.daumMap.httpsConvt+encodeURIComponent(r.url)}),t.registerHelper("toUpperCase",function(e){return e.toUpperCase()}),t.registerHelper("times",function(e,t,r){for(var i="",n=e;t>n;++n)r.data.index=n,r.data.pageNum=n+1,i+=r.fn(n);return i}),t.registerHelper("equals",function(e,t,r){return e===t?r.fn(this):r.inverse(this)})});
define("common/webFontLoader",["config","common/agent","jquery","underscore"],function(e){var n=function(){return agent.os.is.windows||agent.os.is.mac&&!agent.isOsVersion("10.5~")},t=e.CDN_SUB_PUBLIC_PATH+"/web_font.css?t="+_.now(),o=!0;return"false"===$("script[data-webfont]").attr("data-webfont")&&(o=!1),n()&&o&&$("head").append('<link href="'+t+'" rel="stylesheet" type="text/css">'),{}});
define("common/imagePreLoader",["config","common/imgPath","common/agent","jquery"],function(n,e){var i=1.5;if(!agent.type.is.desktop){var o=[];o.push("/mobile/img/ani_emotion.png");var t=function(){o.length>0&&(a.src=e.get(o.pop(),{retina:window.devicePixelRatio&&window.devicePixelRatio>=i}))},a=new Image;a.onload=function(){t()},$(function(){t()})}});
(function(i,n){"function"==typeof define&&define.amd?define("initialData",[],function(){var e;return"undefined"==typeof i.initialData?n():(e=i.initialData,i.initialData=void 0,e)}):"undefined"==typeof i.initialData&&(i.initialData=n())})(window,function(){var i=0,n=-1,e=-37006,r={appConfig:null,profile:null,profile_error:0,friends:null,fromTalk:!1},t=null,o=function(i,n){var e;if(n)for(e in n)i[e]=n[e];return i},f=function(i){var n;if(i)for(n in i)if(i.hasOwnProperty(n))return!1;return!0},a=["s/settings","s/more","s/lab"],u=function(i,n){if(i){if(!n.isRegistered)return n.isLoggedIn?(location.href="/s/login",!0):(location.href="/s/logout",!0)}else if(!s()&&n.isStoryPlus)return location.href="/s/login",!0},l=function(){return location.pathname.replace(/^\//,"")+location.hash.substring(1).replace(/\?.*/,"")},s=function(){return 0===l().indexOf("s/login")};return{parse:function(n,e){var f;if(n)return t=o(r,n),"undefined"!=typeof n.profile?(f=this.parseProfile(t.profile,t.profile_error||i),e&&""===l()&&!f.isRegistered?(location.href="/browse",!0):u(this.isLoginRequired(),f)):void 0},parseProfile:function(i,r){var t=!1,o=!1,a=!1,u=!1;switch(f(i)||(t=!0,o=!0,a=i.blocked),r){case n:t=!0;break;case e:t=!0,u=!0}return{isLoggedIn:t,isRegistered:o,isBlocked:a,isStoryPlus:u}},get:function(i){return t&&t[i]},isLoginRequired:function(){var i=l();if(""===i)return!0;for(var n=0;n<a.length;n++)if(0===i.indexOf(a[n]))return!0;return!1},isParsed:function(){return!!t}}});
define("appLoader",["space","jquery","underscore","backbone","q","common/logger","common/intl","kant","common/agent","common/agentSupport","common/api","moment","json3","common/helper","common/webFontLoader","common/imagePreLoader","lang","config","initialData"],function(){var e,o,t=require("common/intl"),n=require("common/api"),r=require("moment"),a=require("json3"),i=require("lang"),s=require("kant"),c=$("script[data-router], script[data-starter]"),l=$(document.body),d=c.attr("data-router"),g=c.attr("data-starter"),p=c.attr("data-root"),m="true"===c.attr("data-old-browser"),u=require("config"),f=require("initialData"),h=$("#contentLoading"),k="__ie11__",q=agent.type.is.desktop?"desktop":"mobile",v=1e4,b=null,w=function(){n.removeStaticResponse("/profiles/me"),n.removeStaticResponse("/friends"),n.removeStaticResponse(e),n.removeStaticResponse(o),clearTimeout(b)},y=function(){h.remove()},S=function(){var e,o=location.pathname.replace(/^\//,""),t="";return 0===o.indexOf("ch/")&&(t="@",o=o.replace("ch/","")),e=o.split("/"),t+e[0]+"."+e[1]},R=function(){var e=location.pathname.replace(/^\//,""),o=e.split("/");return o[0]};if(s.start({host:u.kant.host,trackId:u.kant.trackId}),t&&t.init({lng:"ko-KR",msgs:i,onerror:u.intl.onerror}),r&&r.lang("ko"),a&&(a.noConflict(),"object"!=typeof JSON&&(JSON=a)),n&&space&&n.addRequestHook(["/activities",/^\/profiles\/.+\/follow/],function(e){var o=location.search.replace(/^\?/,""),t={};return _.each(o.split("&"),function(e){var o=e.split("="),n=o[0],r=o[1];t[n]=r}),t&&t.kakao_agent&&(e.headers["X-Kakao-OpenApi-Agent"]=t.kakao_agent,e.headers["X-Kakao-OpenApi-AppKey"]=t.app_key||"false"),e}),d?(f.isParsed()&&(n.addStaticResponse("/profiles/me",{profile:f.get("profile"),profile_error:f.get("profile_error")}),f.get("friends")&&n.addStaticResponse("/friends",{profiles:f.get("friends")}),_.isEmpty(f.get("activity"))||(e="/activities/"+encodeURIComponent(S()),n.addStaticResponse(e,f.get("activity"))),f.get("highlight")&&(o="/profiles/"+encodeURIComponent(R())+"/highlight",n.addStaticResponse(o,f.get("highlight")))),require([d,"module/static/error"],function(e,o){e.once("renderAll",w),agent.type.is.mobile&&(e.once("renderAll",y),o.once("pageError",y)),o.once("pageError",w),b=setTimeout(function(){w(),s.send("error.routeDelayed")},v),e.once("route",function(){e.once("route",w)}),e.start({root:p||""})}),require(["common/notification","eegg/starter"],function(e){e.requestPermission()})):g&&require([g],function(){agent.type.is.mobile&&y()}),window.debugDataForLogging)for(var C in window.debugDataForLogging)n.request({url:"/web/error_log",type:"POST",data:{type:"D",id:C,contents:JSON.stringify(window.debugDataForLogging[C])}});l.addClass("__"+q+"__"),agent.support.retina&&l.addClass("__"+q+"_rtn__"),agent.isIeVersion(11)&&l.addClass(k),agent.os.is.mac&&l.addClass("__os_"+agent.os.name+"__"),agent.type.is.mobile?(h.show(),l.toggleClass("__landscape__",agent.getScreenInfo().isLandscape),$(window).on("orientationchange",function(){l.toggleClass("__landscape__",agent.getScreenInfo().isLandscape)})):y(),m||require(["common/util","common/kantUtil"],function(e,o){return agent.isIeVersion("~7")&&!e.getCookie("_koldbrowser")?void o.sendPageView("bro",null).then(function(){location.href="/s/oldBrowser?url="+encodeURIComponent(location.href)}):void 0})});
define("common/jaso",[],function(){var r=["ㄱ","ㄲ","ㄴ","ㄷ","ㄸ","ㄹ","ㅁ","ㅂ","ㅃ","ㅅ","ㅆ","ㅇ","ㅈ","ㅉ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"],e=["ㅏ","ㅐ","ㅑ","ㅒ","ㅓ","ㅔ","ㅕ","ㅖ","ㅗ","ㅗㅏ","ㅗㅐ","ㅗㅣ","ㅛ","ㅜ","ㅜㅓ","ㅜㅔ","ㅜㅣ","ㅠ","ㅡ","ㅡㅣ","ㅣ"],n=["","ㄱ","ㄲ","ㄱㅅ","ㄴ","ㄴㅈ","ㄴㅎ","ㄷ","ㄹ","ㄹㄱ","ㄹㅁ","ㄹㅂ","ㄹㅅ","ㄹㅌ","ㄹㅍ","ㄹㅎ","ㅁ","ㅂ","ㅂㅅ","ㅅ","ㅆ","ㅇ","ㅈ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"],t=12593,a=12633,i=44032,o=55203,f=function(r){var e=r.charCodeAt(0);return e>=t&&a>=e},u=function(r){var e=r.charCodeAt(0);return e>=i&&o>=e},c=function(t){var a=[];if(!t)return"";var o=t.charCodeAt(0),f=o-i,u=f%28,c=(f-u)/28%21,h=((f-u)/28-c)/21;return a.push(r[h],e[c],n[u]),a.join("")},h=function(r){return c(r).charAt(0)};return{split:function(r){for(var e,n=[],t=0;t<r.length;t++)e=r.charAt(t),n.push(u(e)?c(e):e);return n.join("")},isMatch:function(r,e){r=r.replace(/\s/g,"").toLowerCase(),e=e.replace(/\s/g,"").toLowerCase();var n,t,a,i,o=r.length,s=e.length,l=s-o,A=0,v=0;if(0===o)return!0;if(0>l)return!1;for(;l>=A;A++){for(v=0;o>v;)if(n=r.charAt(v),t=e.charAt(A+v),a=e.charAt(A+v+1),f(n)&&u(t)){if(n!==h(t))break;v++}else if(u(n)&&u(t)&&v===o-1){if(i=c(t)+c(a),0!==i.indexOf(c(n)))break;v++}else{if(n!==t)break;v++}if(v===o)return!0}return!1}}});
define("common/urlKey",[],function(){var n=".",i="@",r="ch/";return{CHANNEL_ID_PREFIX:i,CHANNEL_URL_PREFIX:r,profile:{idToUrlKey:function(n){return _.isString(n)&&0===n.indexOf(i)?r+n.substring(1):n},urlKeyToId:function(n){return _.isString(n)&&0===n.indexOf(r)?i+n.substring(r.length):n}},activity:{idToUrlKey:function(i){return _.isString(i)&&i.indexOf(n)>-1?_.last(i.split(n)):i},urlKeyToId:function(i,r){return i?i+n+r:""}}}});
define("model/StoryPlusBizInfo",["common/api"],function(e){var t={EXEMPTED:0,REPORTED:1};return space.Model.extend({url:function(){return"/bizinfo/"+this.parent.parent.get("id")},defaults:{bizinfo:!1,category:"",certified:!1,follower_count:0,keywords:[],biz_name:"",owner_name:"",address:"",phone:"",email:"",biz_number:"",agreement_outlink:"",report_no:"",seller_type:t.EXEMPTION,ref_url:"",site_url:""},virtuals:{isExemptedSeller:function(){return this.get("seller_type")===t.EXEMPTED}},fetch:function(){var t=this;return e.request({url:_.result(this,"url"),type:"GET"}).then(function(e){t.set(e)})}})});
define("model/StoryChannelInfo",["model/StoryPlusBizInfo"],function(e){return space.Model.extend({defaults:{bizinfo:e,category:"",certified:!1,follower_count:0,keywords:[],phone:"",site_url:"",outlinks:[],email:"",address:""},virtuals:{hasAdditionalInfo:function(){return _.some(this.pick("site_url","address","phone","email"),function(e){return!!e})},hasBizInfo:function(){return this.get("bizinfo")&&this.get("bizinfo").get("biz_number")}}})});
define("model/Friend",["common/api"],function(e){return{url:"/friends/",urlBlockFeed:"/profiles/",deleteFriend:function(r){var n=this;return e.request({url:this.url+r,type:"DELETE"}).then(function(){n._findFriendInMemory(r).spread(function(e,r){e.remove(r)})})},_findFriendInMemory:function(e){var r=Q.defer();return require(["model/me"],function(n){var t=n.get("friends").get("people"),u=t.get(e);u?r.resolve([t,u]):r.reject()}),r.promise},makeFavorite:function(r){return e.request({url:this.url+r+"/favorite",type:"POST"})},makeUnfavorite:function(r){return e.request({url:this.url+r+"/favorite",type:"DELETE"})},blockFeed:function(r){return e.request({url:this.urlBlockFeed+r+"/feed_block",type:"POST"})},unblockFeed:function(r){return e.request({url:this.urlBlockFeed+r+"/feed_block",type:"DELETE"})},ban:function(r){return e.request({url:this.urlBlockFeed+r+"/ban",type:"POST"})},unban:function(r){return e.request({url:this.urlBlockFeed+r+"/ban",type:"DELETE"})}}});
define("model/Invitation",["common/api","common/urlKey","common/util"],function(e,t,n){var i=space.Model.extend({defaults:{id:null,type:null,user_id:null,display_name:null,has_profile:null,profile_thumbnamil_url:null,profile_image_url:null},virtuals:{isSent:function(){return this.get("type")===i.TYPE.SENT},isReceived:function(){return this.get("type")===i.TYPE.RECEIVED},urlKey:function(){return t.profile.idToUrlKey(this.get("user_id"))},getDisplayName:function(){return n.convertBlankToUnicode(this.get("display_name"))}},accept:function(){var e=this,t=this.get("user_id"),n=this.get("has_profile");return i.accept(t,n).then(function(){e.trigger("destroy",e)})},ignore:function(){var e=this,t=this.get("user_id");return i.ignore(t).then(function(){e.trigger("destroy",e)})},cancel:function(){var e=this,t=this.get("user_id"),n=this.get("has_profile");return i.cancel(t,n).then(function(){e.trigger("destroy",e)})}});return _.extend(i,{TYPE:{SENT:"sent",RECEIVED:"received"},url:{invite:"/invitations",accept:"/invitations/accept",ignore:"/invitations/ignore",cancel:"/invitations/cancel"},invite:function(t,n,r){return e.request({url:i.url.invite,type:"POST",data:{friend_id:t,has_profile:n,from:r}}).then(function(e){require(["model/me"],function(t){t.get("invitations").add(e)})})},accept:function(t,n){var i=this;return e.request({url:this.url.accept,type:"POST",data:{inviter_id:t,has_profile:n}}).then(function(){require(["model/ProxyProfile","model/me"],function(e,n){var r;n.get("invitations").removeByUserId(t),i._updateReceivedCount(n),r=new e({id:t}),r.fetch(null,[e.PROPERTIES.SIMPLE]).then(function(){var e=n.get("friends");e.addNewFriend(r)})})})},_updateReceivedCount:function(e){var t=e.get("newCount").get("received_count");t>0&&e.get("newCount").set("received_count",t-1)},ignore:function(t){var n=this;return e.request({url:this.url.ignore,type:"POST",data:{inviter_id:t}}).then(function(){require(["model/me"],function(e){e.get("invitations").removeByUserId(t),n._updateReceivedCount(e)})})},cancel:function(t,n){return e.request({url:this.url.cancel,type:"POST",data:{user_id:t,has_profile:n}}).then(function(){require(["model/me"],function(e){e.get("invitations").removeByUserId(t)})})}}),i});
define("model/Friendship",["common/api"],function(e){var n=space.Model.extend({});return _.extend(n,{url:{follow:function(e){return"/profiles/"+e+"/follow"},unfollow:function(e){return"/profiles/"+e+"/unfollow"}},follow:function(n,o){return e.request({url:this.url.follow(n),type:"POST",data:{profile_id:n}}).then(function(){o||require(["model/ProxyProfile","model/me"],function(e,o){var r=new e({id:n});r.fetch(null,[e.PROPERTIES.SIMPLE]).then(function(){var e=o.get("friends");e.addNewFriend(r)})})})},unfollow:function(n){return e.request({url:this.url.unfollow(n),type:"POST",data:{profile_id:n}}).then(function(){require(["model/me"],function(e){var o=e.get("friends");_.each(_.map(["storyPluses","followeePeople"],function(e){return o.get(e)}),function(e){var o=e.get(n);o&&e.remove(o)})})})}}),n});
define("model/Relation",["common/api","model/Friend","model/Invitation","model/Friendship"],function(e,t,n,i){var r={NONE:"N",FRIEND:"F",FRIEND_REQUEST_SENT:"R",FRIEND_REQUEST_RECEIVED:"C",FOLLOWING:"FE",FOLLOWED:"FR",FOLLOW_EACH_OTHER:"FEFR"},o={ACTIVE:"A",PASSIVE:"P",BOTH:"B",NONE:"N"},l={ALL:"A",FRIEND_FRIEND:"FOAF",NONE:"NONE"},a=space.Model.extend({defaults:{self:!1,friend:r.NONE,follow:r.NONE,feed_blocked:!1,favorite:!1,foaf:!1,ban:o.NONE},virtuals:{amIBanned:function(){return _.contains([o.PASSIVE,o.BOTH],this.get("ban"))},amIBanning:function(){return _.contains([o.ACTIVE,o.BOTH],this.get("ban"))},canAddFriend:function(){return!this.get("self")&&this.get("friend")===r.NONE&&!this.get("amIBanned")&&(this.parent.get("friend_accept_level")===l.ALL||this.get("foaf"))},isRequestSent:function(){return this.get("friend")===r.FRIEND_REQUEST_SENT},isRequestReceived:function(){return this.get("friend")===r.FRIEND_REQUEST_RECEIVED},isFriendRelation:function(){return this.get("friend")===r.FRIEND},canFollow:function(){return this._canFollow()},isFollowing:function(){return this.get("follow")===r.FOLLOWING||this.get("follow")===r.FOLLOW_EACH_OTHER},isFollowed:function(){return this.get("follow")===r.FOLLOWED},isMe:function(){return this.get("self")},canFollowInFeed:function(){return this._canFollow(!0)},canAddFriendInFeed:function(){var e=!this.parent.get("allow_following")||this.parent.get("friend_accept_level")===l.NONE||this.parent.get("friend_accept_level")===l.ALL||this.parent.get("friend_accept_level")===l.FRIEND_FRIEND&&this.get("foaf");return!this.get("self")&&this.get("friend")===r.NONE&&!this.get("amIBanned")&&e}},parent:null,getParentProfileId:function(){return this.parent.get("id")},_canFollow:function(e){var t=this.get("follow"),n=e?this.get("friend")===r.NONE:!this.get("isFriendRelation");return!this.get("self")&&!this.get("amIBanned")&&n&&this.parent.get("allow_following")&&(t===r.NONE||t===r.FOLLOWED)},isFriend:function(e){return e?this.get("isFollowing")||this.get("isFollowingEachOther"):this.get("isFriendRelation")},deleteFriend:function(){var e=this,n=this.getParentProfileId();return t.deleteFriend(n).then(function(){e.set("friend",r.NONE),e.set("favorite",!1),e.trigger("deleteFriend",n)})},makeFavorite:function(){var e=this,n=this.getParentProfileId();return this.get("feed_blocked")?Q.reject({message:intl.t("profile.error.unableMakeFavorite")}):t.makeFavorite(n).then(function(){e.set("favorite",!0),e.trigger("makeFav",n)})},makeUnfavorite:function(){var e=this,n=this.getParentProfileId();return t.makeUnfavorite(n).then(function(){e.set("favorite",!1),e.trigger("makeUnfav",n)})},invite:function(e){var t=this,i=this.getParentProfileId();return n.invite(i,!0,e).then(function(){t.set("friend",r.FRIEND_REQUEST_SENT),t.trigger("invite",i)})},ignore:function(){var e=this,t=this.getParentProfileId();return n.ignore(t).then(function(){e.set("friend",r.NONE),e.trigger("ignore",t)})},acceptFriend:function(){var e=this,t=this.getParentProfileId();return n.accept(t,!0).then(function(){e.set("friend",r.FRIEND),e.set("following",r.NONE),e.set("favorite",!1),e.trigger("acceptFriend",t)})},cancel:function(){var e=this,t=this.getParentProfileId();return n.cancel(t,!0).then(function(){e.set("friend",r.NONE),e.trigger("cancel",t)})},unblockFeed:function(){var e=this,n=this.getParentProfileId();return t.unblockFeed(n).then(function(){e.set("feed_blocked",!1),e.trigger("unblockFeed",n)})},blockFeed:function(){var e=this,n=this.getParentProfileId();return this.get("favorite")?Q.reject({message:intl.t("profile.error.unableBlockFeed")}):t.blockFeed(n).then(function(){e.set("feed_blocked",!0),e.trigger("blockFeed",n)})},follow:function(e){var t=this,n=this.getParentProfileId();return i.follow(n,e).then(function(){t.get("follow")===r.FOLLOWED?t.set("follow",r.FOLLOW_EACH_OTHER):t.set("follow",r.FOLLOWING),t.trigger("follow",n)})},unfollow:function(){var e=this,t=this.getParentProfileId();return i.unfollow(t).then(function(){e.get("follow")===r.FOLLOW_EACH_OTHER?e.set("follow",r.FOLLOWED):e.set("follow",r.NONE),e.set("favorite",!1),e.trigger("unfollow",t)})},ban:function(){var e=this,n=this.getParentProfileId(),i=this.get("ban");return t.ban(n).then(function(){o.NONE===i?e.set("ban",o.ACTIVE):o.PASSIVE===i&&e.set("ban",o.BOTH),e.set("friend",r.NONE),e.set("follow",r.NONE),e.set("favorite",!1),require(["model/me"],function(e){var t=e.get("invitations").getInvitationBySenderId(n),i=e.get("newCount").get("received_count");e.get("invitations").removeByUserId(n),t&&i>0&&e.get("newCount").set("received_count",i-1)})})},unban:function(){var e=this,n=this.getParentProfileId(),i=this.get("ban");return t.unban(n).then(function(){o.ACTIVE===i?e.set("ban",o.NONE):o.BOTH===i&&e.set("ban",o.PASSIVE)})}});return a.RELATIONSHIP=r,a});
define("model/Profile",["common/api","common/jaso","common/util","common/urlKey","model/StoryChannelInfo","model/Relation"],function(t,e,i,r,n,s){var u=/public\/images\/wallpapers/i,o={MUSIC:"music",TEXT:"text",INPUT:"input_status"},a="noti",l={MALE:"M",FEMALE:"F",NONE:""},c={ALL:"A",FRIEND_FRIEND:"FOAF",NONE:"NONE"},f={VIP:"vip",STORYTELLER:"story_teller"},g=space.Model.extend({urlRoot:"/profiles/",defaults:{id:null,display_name:"",profile_thumbnail_url:"",profile_image_url:"",activity_count:0,friend_count:0,follower_count:0,relation:s,allow_following:!1,friend_accept_level:c.NONE,profile_video_url_hq:"",profile_video_url_lq:"",profile_video_url_square:"",is_default_profile_image:!1,bg_image_url:"",birth:"",birthday:"",birth_type:"",is_birthday:!1,default_bg_id:"",status_objects:null,type:"",channel_object:n,gender:"",vip:!1,dormant:!1,sharable:!0,comment_all_writable:!0,foaf_count:0,foaf_list:[],message_sendable:!0,message_rejectee:!1,message_received_bomb:!1,message_receiver_priority:0,biography_summary:[],classes:[]},TYPE:{OFFICIAL:"official"},GENDER:{MALE:"M",FEMALE:"F"},PROPERTIES:{SIMPLE:"simple",MESSAGE:"message",STATUS:"status",MISC:"misc"},virtuals:{getDisplayName:function(){return i.convertBlankToUnicode(this.get("display_name"))},isStoryPlus:function(){return this.get("type")===this.TYPE.OFFICIAL},hasBizInfo:function(){var t=this.get("channel_object");return t&&t.get("hasBizInfo")},statusMessage:function(){var t=_.first(this.get("status_objects")),e="",i="";if(t)switch(e=t.object_type){case o.MUSIC:i=t.title;break;case o.TEXT:i=t.message}return i},textStatus:function(){return this._findStatus(o.TEXT)},musicStatus:function(){return this._findStatus(o.MUSIC)},hasTextStatus:function(){return!!this._findStatus(o.TEXT)},hasMusicStatus:function(){return!!this._findStatus(o.MUSIC)},statusTextMessage:function(){var t=this._findStatus(o.TEXT);return t?t.message:""},musicStatusMessage:function(){var t=this._findStatus(o.MUSIC);return t?t.title+" - "+t.artist:""},isMusicStatus:function(){return!!this._findStatus(o.MUSIC)},birthdayText:function(){var t=this.get("birthday"),e="-"===this.get("birth_type")?intl.t("profile.birthdayLunar"):"";return t?intl.t("profile.birthday",{month:parseInt(t.substr(0,2),10),day:parseInt(t.substr(2,2),10)})+e:""},isLunarBirth:function(){return"-"===this.get("birth_type")},isFriend:function(){return this.get("relation").isFriend(this.get("type")===this.TYPE.OFFICIAL)},isMe:function(){return this.get("relation").get("isMe")},storyPlusDescription:function(){return this.get("type")!==this.TYPE.OFFICIAL?"":intl.t("friend.paragraph.followerMessage",{count:i.numberFormat(this.get("follower_count"))})},urlKey:function(){return r.profile.idToUrlKey(this.get("id"))},plainId:function(){var t=this.get("id")||"";return t.replace(/^@/,"")},canSendMessage:function(){return!this.get("message_rejectee")&&!this.get("isStoryPlus")&&this.get("message_sendable")},hasBirthYear:function(){var t,e=this.get("birth");return e?(t=parseInt(e.substr(0,4),10),t>0):!1},isMale:function(){return this.get("gender")===l.MALE},isFemale:function(){return this.get("gender")===l.FEMALE},isVip:function(){return _.contains(this.get("classes"),f.VIP)},isStoryTeller:function(){return _.contains(this.get("classes"),f.STORYTELLER)}},_findStatus:function(t){return _.find(this.get("status_objects"),function(e){return e.object_type===t})},isMatch:function(t){return e.isMatch(t,this.get("display_name"))},deleteFriend:function(){var t=this;return this.get("isStoryPlus")?Q.reject({message:intl.t("profile.error.unableDeleteFriend")}):this.get("relation").deleteFriend().then(function(){t.trigger("destroy",t)})},makeFavorite:function(){return this.get("relation").makeFavorite()},makeUnfavorite:function(){return this.get("relation").makeUnfavorite()},invite:function(t){return this.get("isStoryPlus")?Q.reject({message:intl.t("profile.error.unableInvite")}):this.get("relation").invite(t)},acceptFriend:function(){return this.get("isStoryPlus")?Q.reject({message:intl.t("profile.error.unableAccept")}):this.get("relation").acceptFriend()},cancel:function(){return this.get("isStoryPlus")?Q.reject({message:intl.t("profile.error.unableCancelRequest")}):this.get("relation").cancel()},unblockFeed:function(){return this.get("relation").unblockFeed()},blockFeed:function(){return this.get("relation").blockFeed()},follow:function(t){return this.get("relation").follow(t)},unfollow:function(){var t=this;return this.get("relation").unfollow().then(function(){t.trigger("destroy",t)})},rejectMessage:function(){return t.request({url:"/messages/rejectees/"+this.get("id"),type:"POST"})},acceptMessage:function(){return t.request({url:"/messages/rejectees/"+this.get("id"),type:"DELETE"})},rejectQna:function(e){return t.request({url:"/settings/profile/block_questioners",type:"POST",data:{profile_id:e}})},acceptQna:function(e){return t.request({url:"/settings/profile/block_questioners",type:"DELETE",data:{profile_id:e}})},isDefaultBgImage:function(){return u.test(this.get("bg_image_url"))},isNotAllowed:function(){return this.get("isStoryPlus")||this.get("blocked")},fetch:function(e,i){var r=this,n={profile_only:!0},s=null;return e&&(n.from=a),_.isArray(i)&&i.length&&(s={"X-Kakao-ProfileProperties":i.join(",")}),t.request({url:_.result(this,"url"),type:"GET",data:n,headers:s}).then(function(t){r.set(t)})},requestSuggestQuestion:function(e,i){return t.request({url:_.result(this,"url")+"/questions",type:"POST",data:{suggested_question_id:e,from:i}})},requestQuestion:function(e,i){return t.request({url:_.result(this,"url")+"/questions",type:"POST",data:{question:e,from:i}})},ban:function(){return this.get("relation").ban()},unban:function(){return this.get("relation").unban()}});return g.NAME="Profile",g.TYPE=g.prototype.TYPE,g.GENDER=g.prototype.GENDER,g.PROPERTIES=g.prototype.PROPERTIES,g.STATUS_TYPE=o,g.FRIEND_ACCEPT=c,g.CLASS_TYPE=f,g});
define("common/kantUtil",["kant","config"],function(e,t){var n="data-kant-group",r=13,a=32,o=".",T=/[^0-9]+/,d="other";$(document).on("mousedown keydown","["+e.DATA_ATTRIBUTE_ID_NAME+"]",function(t){var o,T=$(t.currentTarget);"true"!==T.attr(e.DATA_ATTRIBUTE_IGNORE_NAME)&&("keydown"!==t.type||t.keyCode===r||t.keyCode===a)&&(T.attr(n)||(o=T.closest("["+n+"]").attr(n),T.attr(n,o)))}),e.on("beforeDomSend",function(e,t){var r=$(e.currentTarget),a=r.attr(n);return a&&"false"!==a?(t.pageId=a+o+t.pageId,t):T.test(t.pageId)?void 0:(t.pageId=d+o+t.pageId,t)}),e.on("beforeSend",function(e){return e.additionalValue=_.defaults(e.additionalValue||{},{type:agent.type.name,url:encodeURIComponent(location.href)}),e});var A={DATA_ATTRIBUTE_ID_NAME:e.DATA_ATTRIBUTE_ID_NAME,DATA_ATTRIBUTE_OPTION_NAME:e.DATA_ATTRIBUTE_OPTION_NAME,DATA_ATTRIBUTE_IGNORE_NAME:e.DATA_ATTRIBUTE_IGNORE_NAME,DATA_ATTRIBUTE_GROUP_NAME:n,send:function(t,n,r){var a=$.Deferred(),o=function(){return a.resolve()};return e.send(t,n,r,o),window.Q?Q(a.promise()):a.promise()},sendPageView:function(e,n,r){var a=agent.getScreenInfo(),o=agent.getFlashVersion();return n=n||{},a&&(n.res=a.width+"x"+a.height,a.pixelDepth&&(n.dep=a.pixelDepth)),o&&(n.flash=o),this.send(e,n,_.defaults({trackId:t.kant.pageViewTrackId},r||{}))},sendCustom:function(e,t,n,r){return this.send(t,n,_.defaults({trackId:e},r||{}))}};return A});
define("template/error",["Handlebars"],function(a){var r=function(r){var e=a.template(r);return function(a){return e(a,{partials:t})}},t={__p__:""};return{error50x:function(){var a=r({compiler:[6,">= 2.0.0-beta.1"],main:function(a,r,t,e){var n=r.helperMissing,s=this.escapeExpression;return'<div><div class="info_error info_error_v2"><span class="ico_error ico_quotation"></span><h2 class="tit_error">'+s((r.t||a&&a.t||n).call(a,"error.error50x.message",{name:"t",hash:{},data:e}))+'</h2><p class="desc_error">'+s((r.t||a&&a.t||n).call(a,"error.error50x.title",{name:"t",hash:{},data:e}))+"<br>"+s((r.t||a&&a.t||n).call(a,"error.error50x.content",{name:"t",hash:{},data:e}))+'</p><div class="btn_group"><a href="#" class="btn_com btn_wh2" onclick="history.back();return false" data-kant-id="false">'+s((r.t||a&&a.t||n).call(a,"error.error50x.prevPage",{name:"t",hash:{},data:e}))+'</a> <a href="/" class="btn_com ing2" data-kant-id="false">'+s((r.t||a&&a.t||n).call(a,"error.error50x.home",{name:"t",hash:{},data:e}))+'</a></div></div><div class="_recommendHashtags"></div></div>'},useData:!0});return a}(),error40x:function(){var a=r({compiler:[6,">= 2.0.0-beta.1"],main:function(a,r,t,e){var n=r.helperMissing,s=this.escapeExpression;return'<div><div class="info_error info_error_v2"><span class="ico_error ico_quotation"></span><h2 class="tit_error">'+s((r.t||a&&a.t||n).call(a,"error.error40x.message",{name:"t",hash:{},data:e}))+'</h2><p class="desc_error">'+s((r.t||a&&a.t||n).call(a,"error.error40x.title",{name:"t",hash:{},data:e}))+"<br>"+s((r.t||a&&a.t||n).call(a,"error.error40x.content",{name:"t",hash:{},data:e}))+'</p><div class="btn_group"><a href="#" class="btn_com btn_wh2" onclick="history.back();return false" data-kant-id="false">'+s((r.t||a&&a.t||n).call(a,"error.error40x.prevPage",{name:"t",hash:{},data:e}))+'</a> <a href="/" class="btn_com ing2" data-kant-id="false">'+s((r.t||a&&a.t||n).call(a,"error.error40x.home",{name:"t",hash:{},data:e}))+'</a></div></div><div class="_recommendHashtags"></div></div>'},useData:!0});return a}(),notFoundMyStory:function(){var a=r({compiler:[6,">= 2.0.0-beta.1"],main:function(a,r,t,e){var n,s=r.helperMissing,o=this.escapeExpression;return'<div><div class="info_error info_error_v2"><span class="ico_error ico_quotation"></span><h2 class="tit_error">'+o((r.t||a&&a.t||s).call(a,"error.notFoundMyStory.message",{name:"t",hash:{},data:e}))+'</h2><p class="desc_error">'+o((n=null!=(n=r.message||(null!=a?a.message:a))?n:s,"function"==typeof n?n.call(a,{name:"message",hash:{},data:e}):n))+'</p><div class="btn_group"><a href="#" class="btn_com btn_wh2" onclick="history.back();return false" data-kant-id="false">'+o((r.t||a&&a.t||s).call(a,"error.notFoundMyStory.prevPage",{name:"t",hash:{},data:e}))+'</a> <a href="/" class="btn_com ing2" data-kant-id="false">'+o((r.t||a&&a.t||s).call(a,"error.notFoundMyStory.home",{name:"t",hash:{},data:e}))+'</a></div></div><div class="_recommendHashtags"></div></div>'},useData:!0});return a}(),content:function(){var a=r({compiler:[6,">= 2.0.0-beta.1"],main:function(a,r,t,e){var n;return'<p class="txt">'+this.escapeExpression((n=null!=(n=r.content||(null!=a?a.content:a))?n:r.helperMissing,"function"==typeof n?n.call(a,{name:"content",hash:{},data:e}):n))+"</p>"},useData:!0});return a}()}});
define("model/RecommendHashtag",[],function(){return space.Model.extend({defaults:{image:"",tag:""}})});
define("model/RecommendHashtagsInPost",["common/api","model/RecommendHashtag"],function(e,n){var t=4;return space.Collection.extend({model:n,url:"/hashtags/recommends",fetch:function(n){var o=this;return e.request({url:_.result(this,"url")}).then(function(e){return o.add(_.sample(e,n||t)),e})}})});
define("template/cover",["Handlebars"],function(r){var e=function(e){var t=r.template(e);return function(r){return t(r,{partials:n})}},n={__p__:""};return{layout:function(){var r=e({compiler:[6,">= 2.0.0-beta.1"],main:function(){return""},useData:!0});return r.wrap='<div id="cover" class="cover _cover"></div>',r}()}});
define("common/animate",[],function(){var e=function(e,n,t){return Math.round(e+(n-e)*t/100)},n=function(n,t,o,f){var r={},i=Q.defer();return f=_.extend(f||{},{duration:o,done:function(){i.resolve(n)},fail:function(){i.reject(n)}}),"undefined"!=typeof t.x&&"undefined"!=typeof t.fromX&&"undefined"!=typeof t.y&&"undefined"!=typeof t.fromY&&(r.x=t.x,r.y=t.y,r.fromX=t.fromX,r.fromY=t.fromY,t.translate=100,delete t.x,delete t.y,delete t.fromX,delete t.fromY,f.step=function(t,o){if("translate"===o.prop){var f=e(r.fromX,r.x,t),i=e(r.fromY,r.y,t);n.css(agent.getPositionStyle(f,i))}}),n.animate(t,f),i.promise};return n});
define("common/domUtil",["common/animate"],function(t){var e=300,n=String.fromCharCode(160),i="⁠",o="﻿",r=agent.isIeVersion("~8")||agent.browser.is.safari||agent.browser.is.chrome?o:i;return{NBSP_CHAR:n,WORD_JOINER_CHAR:r,scrollTo:function(n,i,o){return i?t($("html, body"),{scrollTop:n},o||e):(agent.browser.is.ie||agent.browser.is.firefox?$(window).scrollTop(n):($(window).scrollTop(1),$(window).scrollTop(n)),Q.resolve())},createWordJoinerTextNode:function(){return document.createTextNode(r)},createBrNode:function(t){var e,n=document.createElement("br");return t?(e=document.createElement("span"),e.appendChild(n),e):n},getPosition:function(t){for(var e=0;t=t.previousSibling;)e+=1;return e},isTextNode:function(t){return t&&3===t.nodeType},isBrNode:function(t){return t&&t.nodeName&&($.nodeName(t,"BR")||$.nodeName(t,"SPAN")&&$(t).children("br").length)},isVoidNode:function(t){return this.isBrNode(t)||this.isImgNode(t)},isBrWrapperSpanNode:function(t){return this.isSpanNode(t)&&this.isBrNode(t)},isSpanNode:function(t){return t&&$.nodeName(t,"SPAN")},isWordJoinerTextNode:function(t){return this.isTextNode(t)&&t.nodeValue===r},isNbspTextNode:function(t){return this.isTextNode(t)&&t.nodeValue===n},isWhitespaceChar:function(t){return" "===t||t===this.NBSP_CHAR},hasCharBoundaryPoint:function(t){var e;return this.isTextNode(t&&t.container)?(e=t.container.nodeValue.charAt(t.offset-1),e&&!this.isWhitespaceChar(e)):!1},isTextareaNode:function(t){return t&&$.nodeName(t,"TEXTAREA")},isInputNode:function(t){return t&&$.nodeName(t,"INPUT")},isImgNode:function(t){return t&&$.nodeName(t,"IMG")},isBlockNode:function(t){return this.isBrNode(t)||this.isImgNode(t)},hasChildren:function(t){return!(!t||!this.getChildNodes(t).length)},getChildNodes:function(t){var e=[];if(!t.firstChild)return e;if(agent.isIeVersion("~10")){for(t=t.firstChild;t;)e.push(t),t=t.nextSibling;return e}return t.childNodes},getNodeLength:function(t){return this.isTextNode(t)?t.nodeValue.length:this.hasChildren(t)?this.getChildNodes(t).length:this.isVoidNode(t)?1:0},isEmptyInlineNode:function(t){return this.isTextNode(t)?!t.nodeValue.length:!(t.innerText||t.textContent).length},isSidePoint:function(t){return this.isLeftSidePoint(t)||this.isRightSidePoint(t)},isLeftSidePoint:function(t){return 0===t.offset},isRightSidePoint:function(t){return this.getNodeLength(t.container)===t.offset},closestAncestorOn:function(t,e){for(;t;){if(t.parentNode===e)return t;t=t.parentNode}return null},commonAncestor:function(t,e,n){var i,o=[];for(i=t;i&&(o.push(i),n!==i);)i=i.parentNode;for(i=e;i;){if(_.contains(o,i))return i;if(n===i)break;i=i.parentNode}return null},comparePoints:function(t,e,n){var i,o,r;if(t.container===e.container)return t.offset===e.offset?0:t.offset>e.offset?1:-1;if(o=this.closestAncestorOn(e.container,t.container))return t.offset<=this.getPosition(o)?-1:1;if(i=this.closestAncestorOn(t.container,e.container))return this.getPosition(i)<e.offset?-1:1;for(n=this.commonAncestor(t.container,e.container,n),i=t.container===n?n:this.closestAncestorOn(t.container,n),o=e.container===n?n:this.closestAncestorOn(e.container,n),r=n.firstChild;r;){if(r===i)return-1;if(r===o)return 1;r=r.nextSibling}},listPrev:function(t,e){for(var n=[];t&&(!e||!e(t));)n.push(t),t=t.previousSibling;return n},listNext:function(t,e){for(var n=[];t&&(!e||!e(t));)n.push(t),t=t.nextSibling;return n},listAncestor:function(t,e){for(var n=[];t&&t!==e;)n.push(t),t=t.parentNode;return n},closest:function(t,e){for(;t;){if(e(t))return t;t=t.parentNode}return null},insertAfter:function(t,e){var n=e.nextSibling,i=e.parentNode;return n?i.insertBefore(t,n):i.appendChild(t),t},appendChildNodes:function(t,e){return _.each(t,function(t){e.appendChild(t)}),e},splitNode:function(t){var e,n=t.offset,i=t.container;return 0===n?i:n>=this.getNodeLength(i)?i.nextSibling:this.isTextNode(i)?i.splitText(n):(e=this.getChildNodes(i)[n],i=this.insertAfter(i.cloneNode(!1),i),this.appendChildNodes(this.listNext(e),i))},splitTree:function(t,e){var n=this,i=e.container,o=e.offset,r=_.rest(this.listAncestor(e.container,t));return e.container===t?this.getChildNodes(t)[e.offset]:r.length?_.reduce(r,function(t,e){var r=e.cloneNode(!1);return n.insertAfter(r,e),t===i&&(t=n.splitNode({container:t,offset:o})),n.appendChildNodes(n.listNext(t),r),r},i):this.splitNode(e)},needBogusBrPoint:function(t,e){var n=this.getLeftNodeFromPoint(t,e),i=this.getRightNodeFromPoint(t,e);return this.isTextNode(e.container)&&!this.isSidePoint(e)?!1:!this.isBlockNode(n)&&!this.isBlockNode(i)&&_.every(this.listNext(i,_.bind(this.isBlockNode,this)),_.bind(this.isEmptyInlineNode,this))},makeOffsetPath:function(t,e){return _.map(this.listAncestor(e,t),this.getPosition).reverse()},fromOffsetPath:function(t,e){for(var n=t,i=0,o=e.length;o>i;i++)n=this.getChildNodes(n)[e[i]];return n},getBoundaryPoints:function(t,e){return{startContainer:t.container,startOffset:t.offset,endContainer:e.container,endOffset:e.offset}},removeNode:function(t,e){if(t&&t.parentNode){if(t.removeNode)return t.removeNode(e);var n=t.parentNode;if(!e){var i,o,r=[],s=this.getChildNodes(t);for(i=0,o=s.length;o>i;i++)r.push(s[i]);for(i=0,o=r.length;o>i;i++)n.insertBefore(r[i],t)}n.removeChild(t)}},getCandidateRootChildPoint:function(t,e){var n=this;return e.container===t?e:(this.isLeftSidePoint(e)?e=this.getPreviousBoundaryPointUntil(t,e,!1,function(e){return!n.isLeftSidePoint(e)||e.container===t}):this.isRightSidePoint(e)&&(e=this.getNextBoundaryPointUntil(t,e,!1,function(e){return!n.isRightSidePoint(e)||e.container===t})),e)},getLeftNodeFromPoint:function(t,e){return e=this.getCandidateRootChildPoint(t,e),e&&e.container===t?this.getChildNodes(e.container)[e.offset-1]:null},getRightNodeFromPoint:function(t,e){return e=this.getCandidateRootChildPoint(t,e),e&&e.container===t?this.getChildNodes(e.container)[e.offset]:null},getPreviousBoundaryPointUntil:function(t,e,n,i){for(;e;){if(i(e))return e;e=this.getPreviousBoundaryPoint(t,e,n)}return null},getNextBoundaryPointUntil:function(t,e,n,i){for(;e;){if(i(e))return e;e=this.getNextBoundaryPoint(t,e,n)}return null},getPreviousBoundaryPoint:function(t,e,n){var i,o;if(0===e.offset){if(e.container===t)return null;i=e.container.parentNode,o=this.getPosition(e.container)}else this.hasChildren(e.container)?(i=this.getChildNodes(e.container)[e.offset-1],o=this.getNodeLength(i)):(i=e.container,o=n?0:e.offset-1);return{container:i,offset:o}},getNextBoundaryPoint:function(t,e,n){var i,o;if(this.getNodeLength(e.container)===e.offset){if(e.container===t)return null;i=e.container.parentNode,o=this.getPosition(e.container)+1}else this.hasChildren(e.container)?(i=this.getChildNodes(e.container)[e.offset],o=0):(i=e.container,o=n?this.getNodeLength(e.container):e.offset+1);return{container:i,offset:o}}}});
define("module/static/AbstractCover",["template/cover"],function(t){var e=300,n=200;return space.StaticModule.extend({template:t.layout,skipGlobalEvents:!0,styles:{defaultDimmed:"dimmed",firstDimmed:"dimmed50",secondDimmed:"dimmed30",thirdDimmed:"dimmed10"},initialize:function(){this._contentStack=[],this._triggeredHide=!1,this._currentContent={$el:$("#kakaoWrap"),$dimmed:$("<div></div>"),customClass:!0},this._$container=$(document.body),this._$scroll=$(window),this._defaultOrderDimmed=[this.styles.firstDimmed,this.styles.secondDimmed,this.styles.thirdDimmed]},_getDefaultOrderDimmed:function(t){var e=t?_.initial(this._contentStack,t):this._contentStack,n=_.reduce(e,function(t,e){return e.customClass?t:t+1},0);return this._defaultOrderDimmed[Math.min(n,this._defaultOrderDimmed.length-1)]},_updateDimmedLayer:function(){var t=_.filter(this._contentStack,function(t){return!t.customClass});_.each(t,function(t,e){var n=this.styles.defaultDimmed+" "+this._defaultOrderDimmed[Math.min(e,this._defaultOrderDimmed.length-1)];t.$dimmed.removeClass().addClass(n)},this)},_attachContent:function(t,e){var i=[this.styles.defaultDimmed],r=(this.getCurrentZIndex()||n)+1;i.push(e?e:this._getDefaultOrderDimmed()),t.$dimmed.addClass(i.join(" ")).css("z-index",r).appendTo(this.$el),t.$el.css("z-index",r).appendTo(this.$el),t.zIndex=r,t.customClass=e},_detachContent:function(t){t.$dimmed.detach(),t.$el.detach()},_forceRemoveContent:function(t){var e=_.findLastIndex(this._contentStack,function(e){return e.token===t});return-1===e?null:this._contentStack.splice(e,1)[0]},_pushContent:function(t){this._contentStack.push(t)},_popContent:function(){return this._contentStack.pop()},_makeToken:function(){var t="t",e=0;return function(){return t+e++}}(),_needResetScroll:function(t){return"hidden"!==t.css("overflow")},_getScrollInfo:function(t){return{scrollTop:this._$scroll.scrollTop(),resetRequired:this._needResetScroll(t.$el)}},disableScroll:function(){},restoreScroll:function(){},windowEvents:{resize:_.throttle(function(){_.last(this._contentStack).$el.height(this._getScrollHeight())},e)},_pause:function(){var t=this._getScrollInfo(this._currentContent);this.disableScroll(this._currentContent,t),this._currentContent.callerPart&&this._currentContent.callerPart.detachGlobalEvents(),this.trigger("pause",this._currentContent.token)},_resume:function(){this.restoreScroll(this._currentContent),this._currentContent.callerPart&&this._currentContent.callerPart.attachGlobalEvents(),this.trigger("resume",this._currentContent.token)},makeContent:function(){return{}},show:function(t,e){var n,i=this._getScrollInfo(this._currentContent);return e=e||{},this._pause(),this._pushContent(_.extend(this._currentContent,i)),this._currentContent=this.makeContent(t,e),n=this._currentContent.token,this._attachContent(this._currentContent,e.dimmedClassName),this.isShown()||(this.$el.appendTo(this._$container),this.attachGlobalEvents()),this.trigger("show",i.scrollTop),{hide:_.bind(function(t){return this.hide(n,t)},this),getToken:function(){return n},isSameToken:function(t){return t===n}}},hide:function(t,e){var n;return this.getContentLength()?(n=t&&this._currentContent.token!==t?null:this._currentContent,(n=e&&!n?this._forceRemoveContent(t):n)?(n.customClass||this._updateDimmedLayer(),this.trigger("hide",n.token),this._detachContent(n),n===this._currentContent&&(this._currentContent=this._popContent(),this._resume()),this._hideBackground(),!0):!1):!1},hideOnce:function(t){return space.Router.getCurrentRouter().isNavigated()?this.hide(t):!this._triggeredHide&&this.isShown()&&this.hide(t)?(this._triggeredHide=!0,_.defer(_.bind(function(){this._triggeredHide=!1},this)),!0):!1},hideAll:function(){var t,e=this._currentContent;do t=e,this.trigger("hide",t.token),e=this._popContent();while(e);this._currentContent=t,this._resume(),this._hideBackground()},_hideBackground:function(){this.getContentLength()||(this.$el.detach(),this.detachGlobalEvents())},_getScrollHeight:function(){return this._$scroll.height()},isShown:function(){return this.$el.parent().is(this._$container)},getScrollSize:function(){return{width:this._$scroll.width(),height:this._$scroll.height()}},getContentLength:function(){return this._contentStack.length},getCurrentZIndex:function(){return this._currentContent.zIndex||_.last(this._contentStack).zIndex||""},isTriggeredHide:function(){return this._triggeredHide}})});
define("module/static/cover",["template/cover","common/domUtil","module/static/AbstractCover"],function(e,t,i){var s=100,r=150,o=300,n=30;return new(i.extend({styles:{defaultDimmed:"dimmed",firstDimmed:"dimmed50",secondDimmed:"dimmed30",thirdDimmed:"dimmed20",coverWrapper:"cover_wrapper",coverCenter:"cover_center",coverContent:"cover_content"},disableScroll:function(e,t){e.$el.css({position:"fixed",left:0,right:0,top:0,bottom:0}),t.resetRequired&&(e.$el.css({overflow:"hidden",height:this._getScrollHeight()}),this._$scroll.scrollTop(0),this.trigger("scrollFrozen"),e.$el.scrollTop(t.scrollTop))},restoreScroll:function(e){var i=e.scrollTop,l=e.resetRequired,c=e.$el,h=e.heightStyle;c.css({position:"",left:"",right:"",top:"",bottom:""}),l&&(this.trigger("scrollReleased"),c.css({visibility:"hidden",overflow:"visible",height:h}),t.scrollTo(i),i?c.css({visibility:"visible",opacity:0}).animate({opacity:1},Math.max(s,Math.min(i/n,agent.isIeVersion("~10")?o:r))):c.css({visibility:"visible"}),_.defer(function(){t.scrollTo(i)}))},makeContent:function(e,t){var i=$('<div class="'+this.styles.coverWrapper+'"></div>').append(e);return{$el:i,$dimmed:$("<div></div>"),callerPart:t&&t.callerPart?t.callerPart:null,token:this._makeToken()}},show:function(e,t){var i,s=_.extend(this._getScrollInfo(this._currentContent),{heightStyle:this._currentContent.$el[0]?this._currentContent.$el[0].style.height:""});return t=t||{},this._pause(),this._pushContent(_.extend(this._currentContent,s)),this._currentContent=this.makeContent(e,t),e.addClass(this.styles.coverContent),t&&t.isNotCenter||e.addClass(this.styles.coverCenter),i=this._currentContent.token,this._attachContent(this._currentContent,t.dimmedClassName),this.isShown()||(this.$el.appendTo(this._$container),this.attachGlobalEvents(),agent.os.is.mac&&agent.browser.is.safari&&this.$el.hide().show()),this.trigger("show",s.scrollTop),{hide:_.bind(function(e){return this.hide(i,e)},this),getToken:function(){return i},isSameToken:function(e){return e===i}}}}))});
define("template/dialog",["Handlebars"],function(n){var a=function(a){var l=n.template(a);return function(n){return l(n,{partials:t})}},t={__p__:""};return{layout:function(){var n=a({compiler:[6,">= 2.0.0-beta.1"],main:function(){return""},useData:!0});return n.wrap='<div class="toast_popup" tabindex="-1"></div>',n}(),dialog:function(){var n=a({1:function(n,a,t,l){var e,s;return' <a href="#" class="btn_com '+(null!=(e=a["if"].call(n,null!=n?n.isUncoloredButton:n,{name:"if",hash:{},fn:this.program(2,l,0),inverse:this.program(4,l,0),data:l}))?e:"")+' _dialogOk _dialogBtn" data-kant-id="false"><span>'+this.escapeExpression((s=null!=(s=a.ok||(null!=n?n.ok:n))?s:a.helperMissing,"function"==typeof s?s.call(n,{name:"ok",hash:{},data:l}):s))+"</span></a> "},2:function(){return"btn_wh"},4:function(){return"btn_or"},6:function(n,a,t,l){var e;return' <a href="#" class="btn_com btn_wh _dialogCancel _dialogBtn" data-kant-id="false"><span>'+this.escapeExpression((e=null!=(e=a.cancel||(null!=n?n.cancel:n))?e:a.helperMissing,"function"==typeof e?e.call(n,{name:"cancel",hash:{},data:l}):e))+"</span></a> "},compiler:[6,">= 2.0.0-beta.1"],main:function(n,a,t,l){var e,s;return'<div class="inner_toast_layer"><p class="txt">'+(null!=(s=null!=(s=a.msg||(null!=n?n.msg:n))?s:a.helperMissing,e="function"==typeof s?s.call(n,{name:"msg",hash:{},data:l}):s)?e:"")+'</p><div class="btn_group">'+(null!=(e=a["if"].call(n,null!=n?n.isReversedButton:n,{name:"if",hash:{},fn:this.program(1,l,0),inverse:this.noop,data:l}))?e:"")+" "+(null!=(e=a["if"].call(n,null!=n?n.isConfirm:n,{name:"if",hash:{},fn:this.program(6,l,0),inverse:this.noop,data:l}))?e:"")+" "+(null!=(e=a.unless.call(n,null!=n?n.isReversedButton:n,{name:"unless",hash:{},fn:this.program(1,l,0),inverse:this.noop,data:l}))?e:"")+"</div></div>"},useData:!0});return n}()}});
define("module/static/dialog",["module/static/cover","template/dialog"],function(i,e){var o=300;return new(space.StaticModule.extend({template:e.layout,initialize:function(){this._dialogDeferred=null,this._$originFocus=null,this._$layer=null,this._onOk=null,this._onCancel=null,this._coverToken=null},events:{"click ._dialogCancel":function(i){i.preventDefault(),this._hideDialog(!1)},"click ._dialogOk":function(i){i.preventDefault(),this._hideDialog(!0)}},windowEvents:{resize:_.throttle(function(){this._adjustPosition()},o)},confirm:function(i,e,o){return this._showDialog(i,e,!0,o)},alert:function(i,e,o){return this._showDialog(i,e,!1,o)},onRoute:function(){this._isDialogOpened&&this._closeDialog()},_showDialog:function(o,t,n,s){if(this._isDialogOpened)return Q.reject();var l,r;return this.$el.empty(),this._dialogDeferred=Q.defer(),this._$originFocus=$(t),s=_.defaults(s||{}),r=e.dialog,l=$(r({msg:o,isConfirm:n,ok:s.ok?s.ok:intl.t("dialog.ok"),cancel:s.cancel?s.cancel:intl.t("dialog.cancel"),isReversedButton:s.reversedButton?!0:!1,isUncoloredButton:s.uncoloredButton?!0:!1})),l.appendTo(this.$el),this._coverToken=i.show(this.$el),this._$layer=l,this._adjustPosition(),this._moveFocus(),this._registerHandler(l,s),this._isDialogOpened=!0,this._dialogDeferred.promise},_hideDialog:function(i){i?this._dialogDeferred.resolve(this._onOk?this._onOk():void 0):this._dialogDeferred.reject(this._onCancel?this._onCancel():void 0),this._closeDialog()},_closeDialog:function(){this._coverToken.hide(!0),this._coverToken=null,this._restoreFocus(),this._isDialogOpened=!1,this._$layer=null},_registerHandler:function(i,e){e&&(e.onOk&&_.isFunction(e.onOk)&&(this._onOk=e.onOk),e.onCancel&&_.isFunction(e.onCancel)&&(this._onCancel=e.onCancel))},_adjustPosition:function(){if(this._$layer){var e=this._$layer.outerWidth(),o=this._$layer.outerHeight(),t=i.getScrollSize(),n=t.height;this.$el.css({top:(n-o)/2,marginLeft:-e/2})}},_moveFocus:function(){this.$el.find("._dialogBtn").get(0).focus()},_restoreFocus:function(){this._$originFocus&&this._$originFocus.length&&(this._$originFocus.focus(),this._$originFocus=null)}}))});
define("model/ProxyProfile",["model/Profile"],function(e){return space.ProxyModel.create(e)});
define("model/MyFriends",["model/ProxyProfile","common/util","common/api","common/urlKey"],function(e,t,i,r){var n=5,s=9999999999999,o=1e12,l=18e4,a=space.Collection.extend({model:e,comparator:function(e){var t=e.get("relation").get("favorite")?"0":"1";return t+e.get("display_name")}});return space.Model.extend({url:{friends:"/friends",followees:"/followees"},defaults:{people:a,storyPluses:a,followeePeople:a,newPeople:a},initialize:function(){this._fetchTimer=null,this._isFetched=!1,this._me=null,this._registerRemoveEventHandler(),this._registerLogoutEventHandler()},_registerRemoveEventHandler:function(){var e=function(e){this.trigger("remove",e)};this.listenTo(this.get("people"),"remove",e),this.listenTo(this.get("storyPluses"),"remove",e),this.listenTo(this.get("followeePeople"),"remove",e)},_registerLogoutEventHandler:function(){var e=this;require(["model/me"],function(t){e._me=t,e.listenTo(t,"logout",function(){e._reset(),e._clearFetchTimer()})})},_reset:function(){this.get("people").reset(),this.get("storyPluses").reset(),this.get("newPeople").reset(),this.get("followeePeople").reset()},_getPartialNameFilter:function(e){return function(t){return t.isMatch(e)}},_filterFriends:function(e,t){var i=function(e){return _.every(t,function(t){return t(e)})};return e.filter(i)},getChannelsByName:function(e){return this._filterFriends(this.get("storyPluses"),[this._getPartialNameFilter(e)])},getPeopleByName:function(e){return this._filterFriends(this.get("people"),[this._getPartialNameFilter(e)])},getFolloweePeopleByName:function(e){return this._filterFriends(this.get("followeePeople"),[this._getPartialNameFilter(e)])},getFriendsForMentioning:function(e,t){var i=this.getPeopleByName(e);return this._filterListByOptions(i,t)},_filterListByOptions:function(e,t){var i,r,n=[],s={};t=_.defaults(t||{},{rejectIdList:[],prependList:[]}),e=t.prependList.concat(e);for(var o=0;o<e.length&&(i=e[o],r=i.get("id"),_.contains(t.rejectIdList,r)||s[r]||(n.push(i),s[r]=!0,!(_.isNumber(t.maxCount)&&n.length>=t.maxCount)));o++);return n},getMessageReceivableFriends:function(e,t){var i=function(e){return!e.get("message_rejectee")},r=this._filterFriends(this.get("people"),[i,this._getPartialNameFilter(e)]);return r=_.sortBy(r,function(e){var t=Number(e.get("message_receiver_priority"))||o,i=""+(s-t),r=e.get("relation").get("favorite")?"0":"1";return i+r+e.get("display_name")}),this._filterListByOptions(r,t)},getChemistryFriendList:function(e){var t=this._filterFriends(this.get("people"),[this._getPartialNameFilter(e)]),i=[],r=[];return 0===e.length&&_.each(t,function(e){e.get("recently_with_friends_priority")&&i.push(e),e.get("relation").get("favorite")&&r.push(e)}),{friends:t,recentFriends:i,favoriteFriends:r}},getFriendById:function(e){return _.isString(e)?0===e.indexOf(r.CHANNEL_ID_PREFIX)?this.get("storyPluses").get(e)||null:this.get("people").get(e)||null:null},fetch:function(e,t){var i=this;return this._fetchTimer&&this._clearFetchTimer(),this._fetchTimer=setTimeout(function(){i.fetch().fail(function(e){i.trigger("periodicFetchError",e)})},l),Q.all([this._fetchFriend(),this._fetchFollowee()]).then(function(r){i._setRawListToFilteredCollection(r,e,t),i._isFetched=!0,i.trigger("fetched")}).fail(function(e){return e&&401===e.status&&(i._clearFetchTimer(),i._me&&i._me.setLoggedIn(!1)),Q.reject(e)})},_fetchFriend:function(){return i.request({url:this.url.friends,type:"GET",headers:{"X-Kakao-ProfileProperties":"simple,message"}})},_fetchFollowee:function(){return i.request({url:this.url.followees,type:"GET",headers:{"X-Kakao-ProfileProperties":"simple,message"},data:{type:"general"}})},_clearFetchTimer:function(){clearTimeout(this._fetchTimer),this._fetchTimer=null},_setRawListToFilteredCollection:function(t,i,r){var n=[],s=[];_.each(t[0].profiles,function(t){var i=t.type===e.TYPE.OFFICIAL;i?s.push(t):n.push(t)}),this.set("followeePeople",t[1]),this._isFetched===!1&&i?this._setFriendsAsync(n,s,r):this._setFriendsSync(n,s)},_setFriendsSync:function(e,t){var i={sort:!1};e=this._sortRawList(e),t=this._sortRawList(t),this.get("people").set(e,i),this.get("storyPluses").set(t,i)},_setFriendsAsync:function(e,t,i){var r,n,s=this,o={sort:!1};e=this._sortRawList(e),r=_.first(e,i.firstPeopleBlockCount),n=_.rest(e,i.firstPeopleBlockCount),this.get("people").set(r,o),Q.delay(i.settingDelay).then(function(){s.get("people").add(n,o)}).delay(i.settingDelay).then(function(){t=s._sortRawList(t),s.get("storyPluses").set(t,o)})},_sortRawList:function(e){var t=function(e){var t=e.relation.favorite?"0":"1";return t+e.display_name};return _.sortBy(e,t)},addNewFriend:function(e){var t={merge:!0},i=e.get("relation");i.get("isFriendRelation")?(this.get("people").add(e,t),this.get("newPeople").add(e,t)):e.get("isStoryPlus")?this.get("storyPluses").add(e,t):i.get("isFollowing")&&this.get("followeePeople").add(e,t)},isFetched:function(){return this._isFetched},arrangeReceiverPriority:function(){this.get("people").chain().filter(function(e){return e.get("message_receiver_priority")}).sortBy(function(e){return-1*e.get("message_receiver_priority")}).rest(n).each(function(e){e.set("message_receiver_priority",0)})},hasNoFriend:function(){return 0===this.getFriendCount()},getFriendCount:function(){return this.get("people").length+this.get("storyPluses").length},getFriendNames:function(e,t){var i=this,r=[];return _.isNumber(t)&&(e=_.first(e,t)),_.each(e,function(e){var t=i.get("people").get(e);t&&r.push(t.get("display_name"))}),r},setFavoriteById:function(e,t){var i=this.getFriendById(e);i&&i.get("relation").set("favorite",!!t)}})});
define("model/Invitations",["common/api","model/Invitation"],function(e,t){var n=space.Collection.extend({model:t});return space.Model.extend({url:"/invitations",defaults:{sent:n,received:n},getRecentReceivedInvitationId:function(){var e="";return this.get("received").each(function(t){t.get("id")>e&&(e=t.get("id"))}),e},removeByUserId:function(e){var t=this.get("sent").findWhere({user_id:e})||this.get("received").findWhere({user_id:e});t&&(t.get("isSent")?this.get("sent").remove(t):this.get("received").remove(t))},getInvitationBySenderId:function(e){return this.get("received").find(function(t){return t.get("user_id")===e})},fetch:function(){var t=this;return e.request({url:this.url,type:"GET"}).then(function(e){t.add(e)})},add:function(e){if(e){var n=[],i=[];_.isArray(e)||(e=[e]),_.each(e,function(e){e.type===t.TYPE.SENT?n.push(e):e.type===t.TYPE.RECEIVED&&i.push(e)}),this.get("sent").add(n),this.get("received").add(i)}},getLength:function(){return this.get("sent").length+this.get("received").length}})});
define("model/RecommendFriend",["common/api","common/urlKey","model/Invitation","model/Friendship","common/util"],function(e,t,n,i,r){var s={TEXT:"text",MUSIC:"music"},o="/friendship/recommends/ignore",u=space.Model.extend({idAttribute:"user_id",defaults:{user_id:null,display_name:null,profile_image_url:null,full_profile_image_url:null,has_profile:!0,follower_count:0,following:!1,friend_count:0,sent:null,status_objects:null,recommend_type:null,recommend_type_msg:null,profile_bg_image_url:"",foaf_count:null},virtuals:{statusMessage:function(){var e=_.first(this.get("status_objects")),t="",n="";if(e)switch(t=e.object_type){case s.MUSIC:n=e.title;break;case s.TEXT:n=e.message}return n},isMusicStatus:function(){var e=_.first(this.get("status_objects"));return e&&e.object_type===s.MUSIC},urlKey:function(){return t.profile.idToUrlKey(this.get("user_id"))},getDisplayName:function(){return r.convertBlankToUnicode(this.get("display_name"))}},hasMessage:function(){return!(!this.get("recommend_type_msg")&&!this.get("statusMessage"))},invite:function(){var e=this,t=this.get("user_id"),i=this.get("has_profile");return n.invite(t,i).then(function(){e.set("sent",!0)})},cancel:function(){var e=this,t=this.get("user_id"),i=this.get("has_profile");return n.cancel(t,i).then(function(){e.set("sent",!1)})},follow:function(){var e=this,t=this.get("user_id");return i.follow(t).then(function(){e.trigger("destroy",e)})},unfollow:function(){var e=this.get("user_id");return i.unfollow(e)},ignore:function(){var e=this;return u.ignore(this.get("user_id")).then(function(){e.trigger("destroy",e)})}});return u.ignore=function(t){return e.request({url:o,type:"POST",data:{friend_id:t}})},u});
define("model/RecommendFriends",["model/RecommendFriend"],function(e){return space.Collection.extend({model:e})});
define("model/Recommends",["model/RecommendFriends","common/api"],function(e,t){var n={STORY:"story",STORY_CHANNEL:"story_channel",TALK:"talk"},i=100;return space.Model.extend({url:"/friendship/recommends",defaults:{story:e,story_channel:e,talk:e},TYPE:n,initialize:function(){this._isFetched=!1},fetch:function(e,r){if(this._isFetched)return Q.resolve();var s=this,a={foaf:!!r},o=_.values(n);return _.each(e,function(e){_.contains(o,e)&&(a[e]=!0)}),t.request({url:_.result(this,"url"),type:"GET",data:a}).then(function(e){s._isFetched=!0,_.each(e,function(e,t){var n=_.first(e.data,i);s.get(t).reset(n,{parse:!0})})})},addStoryPlus:function(e,t){var n=this.get("story_channel");(void 0===t||0>t)&&(t=0),n.add(e,{at:t})}})});
define("common/decoratorUtil",["common/util","common/domUtil","common/urlUtil"],function(e,t,i){var a={DEFAULT:64,SMALL:50,LARGE:84,MESSAGE:128},n={STICON:"(Sticker) ",IMAGE:"(Image) ",EMOTICON:"(Emoticon) "},o=["activityId","commentId","outlinkProperties"],r={TEXT:"text",PROFILE:"profile",STICON:"sticon",HASHTAG:"hashtag",IMAGE:"image",COUNT:"count",EMOTICON:"emoticon",LINK:"hyperlink"},c=[r.PROFILE,r.STICON,r.EMOTICON,r.HASHTAG],d=[r.STICON,r.EMOTICON];return{STICON_HEIGHT:a,DECORATOR_TEXT:n,DECORATOR_TYPE:r,DECORATOR_STICON_TYPE:d,emptyTemplate:function(){return""},isDecoratorNode:function(e){return _.contains(c,e.attr("data-decorator"))},isStringNode:function(e){return e&&(t.isTextNode(e)||$.nodeName(e,"BR"))},needNewline:function(e,i){return i?e&&!t.isBlockNode(e):!0},markupToDecorator:function(e,a){var o,c=[],d=[],s=0,m="";a=a||this.isStringNode,e.html(e.html().replace(/\r?\n/gi,"").replace(new RegExp(t.WORD_JOINER_CHAR,"g"),"")),d=t.getChildNodes(e[0]),agent.isIeVersion("~8")&&(d=_.map(d,function(e){return 1===e.nodeType&&"A"===e.nodeName.toUpperCase()&&i.hasUrl(e.innerText)?e.firstChild:e})),s=d.length-1;for(var h=0;s>=h;h++)if(o=$(d[h]),this.isDecoratorNode(o))switch((o.is("[data-decorator="+r.STICON+"]")||o.is("[data-decorator="+r.EMOTICON+"]"))&&h>0&&this.needNewline(d[h-1],!0)&&(m+="\n"),m&&m.length>0&&(c.push({type:r.TEXT,text:m}),m=""),o.attr("data-decorator")){case r.STICON:c.push({type:r.STICON,text:n.STICON,category_id:o.data("category-id"),id:o.data("id")}),h!==s&&this.needNewline(d[h+1])&&(m+="\n");break;case r.EMOTICON:c.push({type:r.EMOTICON,text:n.EMOTICON,item_id:o.data("id"),resource_id:o.data("idx"),item_ver:o.data("item-ver"),item_sub_type:o.data("type")}),h!==s&&this.needNewline(d[h+1])&&(m+="\n");break;case r.PROFILE:c.push({type:r.PROFILE,text:o.text(),id:o.data("id")});break;case r.HASHTAG:c.push({type:r.HASHTAG,text:o.text(),hashtag_type:o.data("hashtag-type"),hashtag_type_id:o.data("hashtag-type-id")})}else a(d[h])&&(m+=$.nodeName(o.get(0),"BR")&&s>h?"\n":o.text().replace(/\&nbsp;/g," "));return m.length>0&&c.push({type:r.TEXT,text:m}),c},toMarkup:function(t,i,n){var c,d,s,m,h="",p="",T="",u="",l=n&&n.sticonHeight||a.DEFAULT;n=_.defaults(n||{},{isComment:!1,isConvertSticonSize:!0}),m=_.pick(n,o),t=t||[];for(var O=0,I=t.length;I>O;O++)switch(c=_.extend({},t[O]),c.type){case r.STICON:n.isConvertSticonSize&&(c.url=e.getConvertedImagePath(c.url,l)),p=i&&"function"==typeof i.sticon?i.sticon(c):intl.t("common.alt.sticon"),n.isComment||(h+=p,p="");break;case r.EMOTICON:u=i&&"function"==typeof i.emoticon?i.emoticon(c):intl.t("common.alt.sticon"),n.isComment||(h+=u,u="");break;case r.PROFILE:h+=i&&"function"==typeof i.profile?i.profile(c):c.text;break;case r.IMAGE:i&&"function"==typeof i.image?(n.maxImageSize&&c.media&&(c.media.width||c.media.height?c.media.width>c.media.height?(d=n.maxImageSize,s=Math.round(c.media.height*(d/c.media.width))):(s=n.maxImageSize,d=Math.round(c.media.width*(s/c.media.height))):(d=n.maxImageSize,s=n.maxImageSize)),T=i.image(_.defaults(c,{width:d,height:s}))):T+=c.text,n.isComment||(h+=T,T="");break;case r.HASHTAG:h+=i&&"function"==typeof i.hashtag?i.hashtag(c):c.text;break;case r.LINK:h+=i&&"function"==typeof i.hyperlink?i.hyperlink(c):c.link;break;case r.COUNT:h+=i&&"function"==typeof i.count?i.count(c):c.text;break;default:h+=n.isLinkUrl?e.escapeHtmlStringWithUrlAnchor(c.text,m):i&&"function"==typeof i.text?i.text(c):e.escapeHtmlString(c.text),0===O&&(h=h.replace(/^<br>/,"&nbsp;<br>"))}return n.isComment&&(h+=p+u+T),h}}});
define("model/ListCollection",["common/api"],function(t){var e="x-kakao-eos",s=space.Collection.extend({initialize:function(){this._isEnd=!1},fetch:function(){var t=this;return this.fetchList().then(function(e){return t.add(e),e})},getSince:function(t){var e=t.reverse?this.first():this.last();return e.getPrimaryValue()},fetchList:function(e,s){var n=this;return e=_.defaults(e||{},{params:{},headers:{}}),s=_.defaults(s||{},{reverse:!1}),this.length&&(e.params.since=this.getSince(s)),this._isEnd?Q.resolve([]):t.request({url:_.result(this,"url"),type:"GET",headers:_.isEmpty(e.headers)?null:e.headers,data:_.isEmpty(e.params)?null:e.params,extraData:!0}).then(function(t){return n.checkIsEnd(t),t})},checkIsEnd:function(t){t&&t._extra&&"true"===t._extra.responseHeaders[e]&&(this._isEnd=!0)},reset:function(){space.Collection.prototype.reset.apply(this,arguments),this._isEnd=!1},isEnd:function(){return this._isEnd},setEndOfList:function(){this._isEnd=!0}});return s.HEADER_EOS=e,s});
define("model/ProfileList",["model/Profile","model/ListCollection"],function(e,o){var l=o.extend({model:e});return l});
define("model/Like",["model/Profile","common/api"],function(e,t){var i={LIKE:"like",GOOD:"good",PLEASURE:"pleasure",CHEERUP:"cheerup",SAD:"sad"},n=space.Model.extend({collection:null,defaults:{id:0,actor:e,emotion:"",created_at:"",event_like_skin:""},url:function(){return"/activities/"+this.collection.parent.get("id")+"/like"},getEmotionText:function(){var e=this.get("event_like_skin");return intl.t(e?"_event."+e:"activity.emotion."+this.get("emotion"))},destroy:function(){var e=this;return t.request({url:_.result(this,"url"),type:"DELETE",data:{id:this.get("id")}}).then(function(){e.trigger("destroy",e)})}});return n.EMOTION=i,n});
define("model/Likes",["common/api","model/ListCollection","model/Like"],function(e,t,i){return t.extend({parent:null,model:i,url:function(){return"/activities/"+this.parent.get("id")+"/likes"},fetch:function(){var e=this;return this.fetchList().then(function(t){return e.add(t),t})},like:function(t){var i=this;return e.request({url:"/activities/"+this.parent.get("id")+"/like",type:"POST",data:{emotion:t}}).then(function(e){var n=i.parent.get("like_count");i.add(e.likes.slice(0,1),{at:0}),i.parent.set({like_count:n+1,liked_emotion:t,liked:!0})})},unlike:function(){var t=this;return e.request({url:"/activities/"+this.parent.get("id")+"/like",type:"DELETE"}).then(function(){var e=t.parent.get("like_count");t.parent.set({like_count:e-1,liked_emotion:"",liked:!1}),t.some(function(e){return e.get("actor").get("isMe")?(e.trigger("destroy",e),!0):void 0})})}})});
define("model/CommentLike",["model/Like"],function(t){return t.extend({collection:null,defaults:_.defaults({comment_id:""},t.prototype.defaults),getEmotionText:function(){return intl.t("activity.comment.like")},url:function(){var t=this.collection.parent,e=t.collection.parent;return"/activities/"+e.get("id")+"/comments/"+t.get("id")+"/likes"}})});
define("model/CommentLikes",["common/api","model/Likes","model/CommentLike"],function(e,t,n){return t.extend({model:n,parent:null,url:function(e){var t,n=this.parent;return _.isUndefined(e)&&(t=n.collection.parent,e=t.get("id")),"/activities/"+e+"/comments/"+n.get("id")+"/likes"},like:function(t){var n=this;return e.request({url:this.url(t),type:"POST"}).then(function(){var e=n.parent.get("like_count");n.parent.set({like_count:e+1,liked:!0})})},unlike:function(t){var n=this;return e.request({url:this.url(t),type:"DELETE"}).then(function(){var e=n.parent.get("like_count");n.parent.set({like_count:e-1,liked:!1}),n.some(function(e){return e.get("actor").get("isMe")?(e.trigger("destroy",e),!0):void 0})})}})});
define("model/Comment",["moment","common/api","model/Profile","model/CommentLikes"],function(t,e,n,o){return space.Model.extend({collection:null,defaults:{id:0,writer:n,text:"",created_at:"",liked:!1,like_count:0,likes:o,decorators:null},_getParam:function(){var t={text:this.get("text")};return _.isEmpty(this.get("decorators"))||(t.decorators=JSON.stringify(this.get("decorators"))),t},save:function(){return e.request({url:_.result(this.collection,"url"),type:"POST",data:this._getParam()}).then(function(t){return t.comments[t.comments.length-1]})},destroy:function(){var t=this;return e.request({url:_.result(this.collection,"url")+"/"+this.get("id"),type:"DELETE"}).then(function(){t.collection&&t.collection.parent&&t.collection.parent.set("comment_count",t.collection.parent.get("comment_count")-1),t.trigger("destroy",t)})},update:function(t){var n=this;return _.each(t,function(t,e){n.has(e)&&n.set(e,t,{silent:!0})}),e.request({url:_.result(this.collection,"url")+"/"+this.get("id")+"/content",type:"PUT",data:this._getParam()}).then(function(t){return n.set(t,{silent:!0}),t})}})});
define("model/Comments",["common/api","model/ListCollection","model/Comment"],function(t,e,i){var r={TIME_BEFORE:"desc",TIME_AFTER:"asc"},n={ASC:"asc",DESC:"desc"},s=30;return e.extend({parent:null,model:i,url:function(){return"/activities/"+this.parent.get("id")+"/comments"},initialize:function(){e.prototype.initialize.apply(this,arguments),this._order=null,this._isFetched=!1},setOrderToDesc:function(t){this._order=n.DESC,t=t||_.isUndefined(t),t&&this.reset(this.sortBy(function(t){return-1*new Date(t.get("created_at")).getTime()}))},setOrderToAsc:function(t){this._order=n.ASC,t=t||_.isUndefined(t),t&&this.reset(this.sortBy(function(t){return new Date(t.get("created_at")).getTime()}))},isDescOrder:function(){return this._order===n.DESC},isAscOrder:function(){return this._order===n.ASC},getWritersByPartialName:function(t){return _.filter(this.pluck("writer"),function(e){return e.isMatch(t)})},isFetched:function(){return this._isFetched},isFetchedAll:function(){return this.parent.get("comment_count")===this.length},fetchPrevComments:function(t){var e={lpp:t||s,order:this.isDescOrder()?r.TIME_AFTER:r.TIME_BEFORE};return this._isFetched=!0,this.fetchList({params:e},{reverse:!0}).then(_.bind(function(t){this.isDescOrder()?this.add(t.reverse(),{at:0}):this.add(t,{at:0})},this))},fetchNextComments:function(t){var e={lpp:t||s,order:this.isDescOrder()?r.TIME_BEFORE:r.TIME_AFTER};return this._isFetched=!0,this.fetchList({params:e}).then(_.bind(function(t){this.add(this.isDescOrder()?t.reverse():t)},this))},isCommentWritable:function(){return this.parent.isCommentWritable()}})});
define("model/Scrap",["config","common/api","common/urlUtil","common/util"],function(e,t,r,i){var a=/<(h[1-6]|a|b|u|i|strong|em)[^>]*>(.*?)<\/\1>/gi,o=/<br[^>]*?>/gi,n={WIDTH:498},s={WIDTH:20,HEIGHT:20},u=1.1,l={LIVE:"//tv.kakao.com/embed/player/livelink/{{videoCode}}?",VOD:"//tv.kakao.com/embed/player/cliplink/{{videoCode}}?",VOD_VID:"//tv.kakao.com/embed/player/clip/{{videoCode}}?"},m={VOD:"cliplink",LIVE:"livelink"},d="service=kakao_story&section=kakao_story&wmode=transparent",g=function(e,t){var a,o=r.getLastPathFromUrl(e.dest_url);return a=e.dest_url.indexOf(m.LIVE)>=0?l.LIVE:i.isNumber(o)?l.VOD:l.VOD_VID,a+=d,t&&(a+="&autoplay=1"),a.replace("{{videoCode}}",o)},c={"www.youtube.com":{getEmbedUrl:function(e,t){var i,a="//www.youtube.com/embed/{{videoCode}}?wmode=opaque";return t&&(a+="&autoplay=1"),i=r.getQueryValueFromUrl(e.dest_url,"v"),a.replace("{{videoCode}}",i)}},"tvpot.daum.net":{getEmbedUrl:function(e,t){var i,a="//videofarm.daum.net/controller/video/viewer/Video.html?vid={{videoCode}}&play_loc=kakao_story&alert=true&wmode=transparent";return t&&(a+="&autoplay=true"),i=r.getLastPathFromUrl(e.dest_url),a.replace("{{videoCode}}",i)}},"vimeo.com":{getEmbedUrl:function(e,t){var i,a="//player.vimeo.com/video/{{videoCode}}";return t&&(a+="?autoplay=1"),i=r.getLastPathFromUrl(e.dest_url),a.replace("{{videoCode}}",i)}},"channel.pandora.tv":{getEmbedUrl:function(e,t){var i,a="//ssl.pandora.tv/sslimg/gplayer/pandora_EGplayer.swf?userid={{userId}}&prgid={{prgId}}";return t&&(a+="&autoPlay=true"),i=r.getObjectFromQueryString(r.getQueryString(e.dest_url)),a.replace("{{prgId}}",i.prgid).replace("{{userId}}",i.ch_userid)}},"tv.kakao.com":{getEmbedUrl:g},"web-tv.kakao.com":{getEmbedUrl:g}},p={VIDEO:"video",MUSIC:"music",BOOK:"book",ARTICLE:"article",PROFILE:"profile",WEBSITE:"website",APP:"app"},h={COVER:"cover"};return space.Model.extend({defaults:{type:"",title:"",image:[],url:"",host:"",requested_url:"",richscrap:{},description:"",is_opengraph:null,dest_url:"",section:"",site_name:"",view_type:""},virtuals:{isBigImage:function(){var e,t=0,i=0,a=this.get("image");return a&&a.length?(e=r.getImageDimension(a[0]),t=e.width,i=e.height,this._isSquareImage(t,i)?!1:t>=n.WIDTH):!1},siteName:function(){return this.get("site_name").toUpperCase()},previewImage:function(){var t=_.first(this.get("image")),r=/(http:\/\/(dn-l[0-9]-story).kakao.co.kr)/i;if(t&&e.kage.scrapPreviewImageDnUrl){if(!this.hasSuitableImage())return null;t=t.replace(r,"https://$2."+e.kage.scrapPreviewImageDnUrl)}return t},previewImageSet:function(){var t=this.get("image"),r=/(http:\/\/(dn-l[0-9]-story).kakao.co.kr)/i;if(!t)return null;var i=[];if(t.length>0&&e.kage.scrapPreviewImageDnUrl){if(!this.isAllImagesSuitable())return null;i=_.map(t,function(t){return t.replace(r,"https://$2."+e.kage.scrapPreviewImageDnUrl)})}return i},hostWithProtocol:function(){return r.getHostWithProtocol(this.get("dest_url"))},playUrl:function(){var e=this.get("type"),t=this._getEmbedInfo(this.get("host"));return e===p.VIDEO&&t?t.getEmbedUrl(this.toJSON()):""},trimmedDesc:function(){var e=this.get("description").replace(o," ");return e=e.replace(a,function(e,t,r){return r}),$.trim(e)},scrapHost:function(){return r.removeWwwFromScrapHost(this.get("host"))}},TYPE:p,VIEW_TYPE:h,requestScrap:function(e){var r=this;return t.request({url:"/scraper",data:{url:e}}).then(function(e){e.dest_url||(e.dest_url=e.url),r.set(e)})},isScraped:function(){return!!this.get("type")},_isSquareImage:function(e,t){return Math.max(e,t)/Math.min(e,t)<=u},getEmbedUrl:function(e){e=_.isUndefined(e)?!0:!1;var t=this._getEmbedInfo(this.get("host"));return t?t.getEmbedUrl(this.attributes,e):null},isSupportEmbeddingPlay:function(){return this.get("type")===p.VIDEO&&!!this._getEmbedInfo(this.get("host"))},embbedPlayButtonImage:function(){return this.isSupportEmbeddingPlay()&&"vimeo.com"===this.get("host").toLowerCase()},hasPreviewImage:function(){var e=this.get("image");return e&&e.length},hasSuitableImage:function(){return this.hasPreviewImage()?this._isSuitableImage(this.get("image")[0]):!1},isAllImagesSuitable:function(){var e=this.get("image");if(e&&e.length<=0)return!1;for(var t=0;t<e.length;t++)if(!this._isSuitableImage(e[t]))return!1;return!0},_isSuitableImage:function(e){var t=r.getImageDimension(e);return!(t.width<s.WIDTH&&t.height<s.HEIGHT)},toFilteredData:function(){var e,t,r=this.get("previewIndex");return e=this.pick(_.difference(_.keys(this.defaults),["dest_url"])),r&&(t=e.image.splice(r,1),e.image.unshift(t[0]),this.set("previewIndex",0)),e},_getEmbedInfo:function(e){return e?c[e.toLowerCase()]:null}})});
define("model/Application",[],function(){return space.Model.extend({parent:null,defaults:{action_url:{android:"",ios:""},install_url:{android:"",ios:""},icon:"",name:"",title:""},virtuals:{hasSecureIcon:function(){return 0===this.get("icon").indexOf("https://")},hasLink:function(){var n=this.get("action_url"),t=this.get("install_url"),i=agent.os.name;return!agent.type.is.desktop&&(agent.os.is.ios||agent.os.is.android)&&n[i]&&t[i]?!0:!1},openAppOptions:function(){var n=this.get("action_url"),t=this.get("install_url");return{ios:{store:t.ios,app:n.ios},android:{store:t.android,app:n.android}}}}})});
define("common/mapUtil",["common/urlUtil","config"],function(a,o){var t="da_",n={DAUM:{SCALE:5}};return{isDomesticId:function(a){return a&&0===a.indexOf(t)},getDaumStaticImageMap:function(t,e,r,m,u){var d=o.daumMap.imageMap+"?",i=_.defaults({},{MX:t,MY:e,IW:r,IH:m},u,n.DAUM);return d+a.getQueryStringFromObject(i)},fromLatLngToDaumCoordinates:function(a,o){var t;return daum&&daum.maps&&daum.maps.LatLng||console.error("You need to load daumMapLoader!"),t=new daum.maps.LatLng(a,o).toCoords(),{x:Math.floor(t.getX()),y:Math.floor(t.getY())}}}});
define("model/LocationTag",["common/util","common/mapUtil"],function(t,i){var e={MOVIE_THEATER:"movie_theater"},n=space.Model.extend({idAttribute:"location_id",defaults:{location_id:"",category:"",latitude:0,longitude:0,name:"",address:"",new_address:"",phone_nunber:"",distance:"",visitor_count:0,registered:!1,image_url:"",activity_count:0,popular_activity_count:0,friend_activity_count:0,related_location_count:0,deleted:!1,external_link:""},virtuals:{isDefaultImage:function(){var t=this.get("image_url");return/\/locations\/default\/web\//gi.test(t)},newAddress:function(){return this.get("new_address")||this.get("address")},formattedActivityCount:function(){return t.numberFormat(this.get("activity_count"))},formattedPopularActivityCount:function(){return t.numberFormat(this.get("popular_activity_count"))},formattedFriendActivityCount:function(){return t.numberFormat(this.get("friend_activity_count"))},formattedRelatedLocationCount:function(){return t.numberFormat(this.get("related_location_count"))},formattedVisitorCount:function(){return t.numberFormat(this.get("visitor_count"))},isDomestic:function(){return this._isDomesticId()},isMovieTheater:function(){return this.get("category_type")===e.MOVIE_THEATER},isPopularActivitiesEmpty:function(){return this.get("popular_activity_count")<=0}},initialize:function(){this._isDomestic=null},_isDomesticId:function(){return null===this._isDomestic&&(this._isDomestic=i.isDomesticId(this.get("location_id"))),this._isDomestic},extractPostData:function(){return _.pick(this.toJSON(),["location_id","name","latitude","longitude"])}});return n});
define("model/WithTags",["model/Profile"],function(e){var t=space.Collection.extend({parent:null,url:function(){return"/activities/"+this.parent.get("id")+"/with_tags"},model:e});return t});
define("model/Share",["model/Profile","common/urlKey"],function(t,e){return space.Model.extend({collection:null,defaults:{id:0,activity_id:"",actor:t,content:"",like_count:0,comment_count:0,created_at:""},virtuals:{activityUrlKey:function(){return e.activity.idToUrlKey(this.get("activity_id"))}}})});
define("model/Shares",["common/api","model/ListCollection","model/Share"],function(e,t,n){return t.extend({parent:null,model:n,url:function(){return"/activities/"+this.parent.get("id")+"/shares"},fetch:function(){var e=this;return this.fetchList().then(function(t){return e.add(t),t})}})});
define("model/Sympathies",["common/api","model/ListCollection","model/Share"],function(t,e,n){return e.extend({parent:null,model:n,url:function(){return"/activities/"+this.parent.get("id")+"/sympathies"},fetch:function(){var t=this;return this.fetchList().then(function(e){return t.add(e),e})}})});
define("model/FeedSuggestedActivity",["config","common/urlKey"],function(t,e){var i={COMMENT:"comment",LIKE:"like",SHARE:"share"},a={VIDEO:"video"},r=space.Model.extend({COUNT_TYPE:i,idAttribute:"activity_id",defaults:{activity_id:"",suggested_activity_id:0,tags:"",actor_image_url:"",actor_display_name:"",actor_id:"",title:"",bg_image_url:"",comment_count:0,share_count:0,like_count:0,activity_media_type:"",activity_content:"",content_type:"",categories:""},virtuals:{isVideoType:function(){return this.get("activity_media_type")===a.VIDEO},actorUrlKey:function(){return e.profile.idToUrlKey(this.get("actor_id"))},activityUrlKey:function(){return e.activity.idToUrlKey(this.get("activity_id"))}},sendTiara:function(){var e="https://"+t.realServiceDomain+"/"+this.get("actorUrlKey")+"/"+this.get("activityUrlKey"),i={id:this.get("suggested_activity_id").toString(),title:this.collection.parent.get("title"),type:"article",author:this.get("actor_display_name"),image:this.get("bg_image_url"),media:"web",plink:e,sub_id:this.get("activity_id").toString(),sub_title:this.get("title"),viewer:"scroll"},a=new Image(1,1),r="//click.tiara.kakao.com/queen/touch?svcdomain=story.kakao.com&referer="+encodeURIComponent(document.referrer||"")+"&te1=t_content&param_ex="+encodeURIComponent(JSON.stringify(i));a.src=r}});return r.COUNT_TYPE=i,r});
define("model/FeedSuggestedFriend",["model/Profile"],function(e){var t={FRIEND:"friend",FOLLOW:"follow"};return e.extend({defaults:_.defaults({action:""},e.prototype.defaults),virtuals:_.defaults({canAddFriend:function(){return this.get("action")===t.FRIEND},canFollow:function(){return this.get("action")===t.FOLLOW}},e.prototype.virtuals)})});
define("model/FeedSuggestedHashtag",[],function(){return space.Model.extend({idAttribute:"hashtag",defaults:{bg_image_url:"",content_type:"",scheme:"",activity_count:0,title:"",suggested_activity_id:null,hashtag:""},virtuals:{hashtagFeedUrl:function(){return"/hashtag/"+this.get("hashtag")}}})});
define("model/FeedSuggestedBanner",[],function(){return space.Model.extend({defaults:{banner_type:"",bg_image_url:"",content_type:"",scheme_url:"",suggested_activity_id:"",text:"",title:""}})});
define("model/FeedSuggestions",["common/api","model/ListCollection","model/FeedSuggestedActivity","model/FeedSuggestedFriend","model/FeedSuggestedHashtag","model/FeedSuggestedBanner"],function(e,t,i,n,s,c){var o={ACTIVITY:"activity",HASHTAG:"hashtag"},a={SUGGESTED_FRIEND:"suggested_friend",SUGGESTED_ACTIVITY:"suggested_activity",SUGGESTED_STORY_TELLER:"suggested_story_teller"};return t.extend({model:function(e,t){if(!t.collection.parent||!t.collection.parent.get("object_type"))return e.content_type===o.HASHTAG?new s(e,t):new i(e,t);switch(t.collection.parent.get("object_type")){case a.SUGGESTED_ACTIVITY:return e.content_type===o.HASHTAG?new s(e,t):e.content_type===o.BANNER?new c(e,t):new i(e,t);case a.SUGGESTED_FRIEND:case a.SUGGESTED_STORY_TELLER:return new n(e,t)}},url:"/suggest_containers",initialize:function(){t.prototype.initialize.apply(this,arguments),this._isFetched=!1},fetch:function(){var t=this,i=[],n={};return this._isEnd?Q.resolve():(this._isFetched||(this.each(function(e){e.get("content_type")===o.HASHTAG?i.push(e.get("hashtag")):e.get("content_type")===o.ACTIVITY&&i.push(e.get("activity_id"))}),n.exposed_ids=i.join(",")),this.length&&this._isFetched&&(n.since=this.last().get("suggested_activity_id")),e.request({url:_.result(this,"url"),type:"GET",data:_.isEmpty(n)?null:n,extraData:!0}).then(function(e){t.checkIsEnd(e),t._isFetched=!0,_.each(e,function(e){var i=e.activity_id||e.hashtag;t.get(i)||t.add(e)})}))}})});
define("model/FeedSuggestion",["model/FeedSuggestions"],function(e){var t={SUGGESTED_FRIEND:"suggested_friend",SUGGESTED_ACTIVITY:"suggested_activity",SUGGESTED_STORY_TELLER:"suggested_story_teller"},E={SWIPE:"swipe",LIST:"list"},T={ACTIVITY:"activity",HASHTAG:"hashtag",BANNER:"banner"},s={STORY_TELLER:"story_teller",USER:"user",CHANNEL:"channel"},_=space.Model.extend({OBJECT_TYPE:t,VIEW_TYPE:E,defaults:{object_type:"",title:"",view_type:"",suggested_objects:e}});return _.OBJECT_TYPE=t,_.VIEW_TYPE=E,_.CONTENT_TYPE=T,_.ACTOR_TYPE=s,_});
define("model/ChannelList",["model/Profile","model/ProfileList","model/ListCollection"],function(e,l,o){var t=e.extend({defaults:_.defaults({followers:l},e.prototype.defaults),addFollower:function(e){this.get("followers").add(e)},getFollowers:function(){return this.get("followers")},isSingleChannel:function(){return this.collection?1===this.collection.length:!1}}),n=o.extend({model:t});return n});
define("model/FeedBiographies",["model/Profile"],function(e){var o={GROUP_SCHOOL:"group_school",GROUP_ADDRESS:"group_address",GROUP_COMPANY:"group_company",STATUS_TEXT:"status_text",STATUS_MUSIC:"status_music"},t=space.Model.extend({defaults:{actor:e,count:0,group_desc:"",group_id:"",group_name:"",inner_type:"",text:"",profile_group_id:null}}),r=space.Collection.extend({model:t});return r.TYPE=o,r});
define("model/FeedBiography",["model/FeedBiographies"],function(e){var d=space.Model.extend({defaults:{object_type:"",objects:e}});return d});
define("model/FeedSuggestedHashtagAction",["common/api"],function(t){var e=["chemistry"],i=space.Model.extend({HIDE_TYPE:{WEEK:"week",MONTH:"month"},HIDE_DAYS:{WEEK:7,MONTH:30},defaults:{feed_id:"",action_title:"",action_url:"",description:"",hashtag:"",image_url:"",title:"",type:""},disappear:function(e){var i,r=this;switch(e){case this.HIDE_TYPE.WEEK:i=this.HIDE_DAYS.WEEK;break;case this.HIDE_TYPE.MONTH:i=this.HIDE_DAYS.MONTH;break;default:i=this.HIDE_DAYS.WEEK}return t.request({url:"/feeds/hide/"+this.get("feed_id"),type:"DELETE",data:{days:i}}).then(function(t){return r.trigger("destroy",r),t})},hide:function(){var e=this;return t.request({url:"/feeds/"+this.get("feed_id"),type:"DELETE"}).then(function(t){return e.trigger("destroy",e),t})},action:function(){var i=this;return t.request({url:"/activities/hashtag",type:"POST",data:{feed_id:this.get("feed_id"),type:this.get("type"),hashtag:this.get("hashtag"),with_tags:this.get("with_tags")}}).then(function(t){return _.contains(e,t.generator_data.name)||i.trigger("destroy",i),t})}});return i.HIDE_DAYS=i.prototype.HIDE_DAYS,i});
define("model/Answer",["common/api","model/Profile"],function(e,t){var n={INPUT_ANSWER:"input_answer",ANSWER:"answer",INPUT_QUESTION:"input_question",MORE:"more",QUESTION:"question",SUGGESTED_QUESTION:"suggested_question"},r=space.Model.extend({collection:null,url:{update:function(e){return"/settings/profile/answers/"+e},answer:"/settings/profile/answers",remove:function(e){return"/settings/profile/questions/"+e}},defaults:{id:null,activity_id:"",answerer_id:"",questioner:t,answerer:t,answer:"",permission:"",question:"",answered_at:"",questioner_id:"",suggested_question_id:"",scheme:"",type:""},updateAnswer:function(t,n){var r=this;return e.request({url:this.url.update(this.get("id")),type:"PUT",data:{answer:t,permission:n}}).then(function(e){r.set(e)})},answerToQuestion:function(t){return e.request({url:this.url.answer,type:"POST",data:t})},destroy:function(){var t=this;return e.request({url:this.url.remove(this.get("id")),type:"DELETE"}).then(function(){t.trigger("destroy",t)})}});return r.TYPE=n,r});
define("model/Answers",["model/Answer","common/api"],function(e,t){return space.Collection.extend({model:e,url:"/profiles/me/suggested_questions",fetch:function(){var e=this;return t.request({url:_.result(this,"url"),type:"GET"}).then(function(t){e.set(t)})}})});
define("model/FeedAnswer",["model/Answers"],function(e){return space.Model.extend({defaults:{object_type:"",objects:e}})});
define("model/Timehop",[],function(){var t="#";return space.Model.extend({idAttribute:"key",defaults:{key:"",title:"",sub_title:"",hashtags:[]},getHashtagString:function(){var e=[];return _.each(this.get("hashtags"),function(i){i.text&&e.push(t+i.text)}),e.join(" ")}})});
define("model/Activity",["config","common/api","common/util","common/urlUtil","common/urlKey","common/decoratorUtil","moment","model/Profile","model/ProfileList","model/Comments","model/Likes","model/Scrap","model/Application","model/LocationTag","model/WithTags","model/Shares","model/Sympathies","model/FeedSuggestion","model/ChannelList","model/FeedBiography","model/FeedSuggestedHashtagAction","model/FeedAnswer","model/Answer","model/Timehop"],function(t,e,i,s,r,n,a,o,h,u,c,l,E,g,d,T,A,p,m,I,f,S,P,D){var y="X-Kakao-LogParam",O=";",R=2,b=4,M=1,Y=/\(Sticker\)\s[\n\r]*/g,v=/\(Image\)\s[\n\r]*/g,N=/\(Emoticon\)\s[\n\r]*/g,L=/^[\s\u00A0\n\r]*$/,F=space.Model.extend({FEED_TYPE:{INSTANT:"instant",REACTION:"reaction_feed",UP:"sympathy"},MEDIA_TYPE:{IMAGE:"image",SCRAP:"scrap",RICHSCRAP:"richscrap",VIDEO:"video"},DISPLAY_MEDIA_TYPE:{NONE:"",PHOTO:"photo",VIDEO:"video",MUSIC:"music",LINK:"link",SHARE:"share"},OBJECT_TYPE:{MUSIC:"music",TEXT:"text",GAME:"game",TODAY_AD:"toay_ad",PROPAGATION:"propagation",ACTIVITY:"activity",UPDATE_PROFILE_BG_IMAGE:"profile.bg_image_path",UPDATE_PROFILE_IMAGE:"profile.profile_image_path",UPDATE_PROFILE_VIDEO:"profile.profile_video_path",UPDATE_PROFILE_STATUS_TEXT:"profile.status_text",UPDATE_PROFILE_STATUS_MUSIC:"profile.status_music",SUGGESTED_ACTIVITY:"suggested_activity",SUGGESTED_FRIEND:"suggested_friend",SUGGESTED_STORY_TELLER:"suggested_story_teller",BIOGRAPHY:"biography",ANSWER:"answer",CELEBRATE:"celebrate",QNA:"qna",TIMEHOP:"timehop"},VERB:{POST:"post",JOIN:"join",BE_BORN:"be_born",SHARE:"share",UPDATE:"update",PROPAGATE:"propagate",PLAY:"game",SUGGEST:"suggest",FOLLOW:"follow",AGGREGATED:"aggregated",AGGREGATED_VIRTUAL:"aggregated_virtual",FOLLOW_GROUP:"follow_group",STORY_PLUS_GROUP:"story_plus_group",FEATURE_GUIDE:"feature_guide",SUGGEST_HASHTAG:"suggest_hashtag",BUNDLED_FEED:"bundled_feed"},PERMISSION:{ALL:"A",FRIENDS:"F",ME_ONLY:"M",PART_OF_FRIENDS:"P",ME_SPECIFIC_QNA:"S"},FROM:{NOTIFICATION:"noti",FEED:"feed",HASHTAG:"hashtag",BOOKMARK:"bookmark",MYSTORY:"home",SUGGEST_FEED:"suggest_feed",TALK:"talk",TALK_CHANNEL:"talk3"},PUSH:{ON:!1,OFF:!0},HIDING_FEEDBACK_TYPE:{ALREADY_VIEW:"alreadyView",LIKE_AD:"likeAdvertising",NOT_INTEREST:"notInteresting",UNPLEASANT:"unpleasant"},HIDE_TYPE:{HIDE:"hide",SEE_FEWER:"see_fewer_posts"},FEEDBACK_FEED_TYPE:{CHANNEL:"channel"},urlRoot:"/activities",defaults:{id:null,feed_id:null,verb:"",content:"",content_decorators:[],title_decorators:[],media_type:null,created_at:"",updated_at:"",comment_count:0,like_count:0,permission:"",required:null,has_unread_reaction:null,blinded:null,deleted:null,downloadable:null,comment_all_writable:!0,modifiable:!1,sub_title_decorators:[],actiongraph_decorators:[],latest_comments:u,latest_friend_emotion:c,sympathized:!1,sympathy_count:0,actor:o,object:null,media:null,scrap:l,comments:u,likes:c,liked:null,liked_emotion:null,application:E,with_me:null,with_tag_count:0,closest_with_tags:null,sharable:null,deletable:!0,share_count:0,plus_subscribed:null,share_friends:null,location_tag:g,bookmarked:!1,allowed_friends_count:0,allowed_profile_ids:[],activity_title:"",push_mute:!1,withTags:d,shares:T,sympathies:A,timehop:D,friendList:h,channelList:m,follower:o,isOriginalOfShareActivity:!1,is_must_read:!1,channelItems:[],banner:null,event_like_skin:"",is_quick_like:!1,feed_feedbacks:[],third_party_event_result:null},virtuals:{contentType:function(){var t=this.get("media_type")||(this.get("object")?this.get("object").object_type:null);switch(t){case this.MEDIA_TYPE.IMAGE:t="photo";break;case this.MEDIA_TYPE.VIDEO:t="video";break;case this.MEDIA_TYPE.SCRAP:case this.MEDIA_TYPE.RICHSCRAP:t="link";break;case this.OBJECT_TYPE.MUSIC:t="music";break;case this.OBJECT_TYPE.QNA:t="qna";break;default:t="text"}return t},escapedContent:function(){return i.escapeHtmlString(this.get("content"))},escapedTextContent:function(){var t=this.get("content").replace(Y,"").replace(v,"").replace(N,"").replace(/^[\s\n\r]+/,"");return i.escapeHtmlString(t)},permissionText:function(){return this.getPermissionText(this.get("permission"))},urlKey:function(){return r.activity.idToUrlKey(this.get("id"))},fullUrlKey:function(){return this.get("id")?this.get("id").replace(".","/"):""},isBookmarkable:function(){return this.get("blinded")||this.get("deleted")?!1:!0},actionGraphDecorators:function(){return this.get("actiongraph_decorators").length?this.get("actiongraph_decorators"):this.get("sub_title_decorators").length?this.get("sub_title_decorators"):[]},storyShareCount:function(){return this.get("share_count")-this.get("sympathy_count")},isNoShare:function(){return this.get("deleted")&&this.get("id")},isBlindedButtons:function(){return this.get("blinded")&&!this.get("actor").get("relation").get("self")},canRelationAdd:function(){return _.contains([this.FEED_TYPE.INSTANT,this.FEED_TYPE.UP,this.FEED_TYPE.REACTION],this.get("feed_type"))}},initialize:function(){this._sharedActivity=null,this._defaultDecorators=null},fetch:function(t){var i=this,r={},n={},a=space.Router.getParams(),o=[],h=s.getExternalReferrer(space.Router.getReferrer());switch(a.from){case this.FROM.SUGGEST_FEED:o.push(a.suggestedActivityId),o.push(a.index),a.tags&&o.push(a.tags),n[y]=o.join(O);break;case this.FROM.FEED:r.from=a.from,a.feed_id&&(r.feed_id=a.feed_id);break;case this.FROM.NOTIFICATION:case this.FROM.HASHTAG:case this.FROM.BOOKMARK:case this.FROM.MYSTORY:case this.FROM.TALK:case this.FROM.TALK_CHANNEL:r.from=a.from;break;default:h=s.getExternalReferrer(space.Router.getReferrer()),h&&(r.from=h)}return a.timehopKey&&(r.timehop_key=a.timehopKey),e.request({url:_.result(this,"url"),type:"GET",data:r,headers:n}).then(function(e){return t&&(e.comments=_.last(e.comments,t)),i.set(e),e})},destroy:function(){var t=this;return e.request({url:_.result(this,"url"),type:"DELETE"}).then(function(){t.trigger("destroy",t)})},hide:function(t,i){var s=this;return t=!!t,i=i||this.HIDE_TYPE.HIDE,e.request({url:"/feeds/"+this.get("feed_id"),type:"DELETE",data:{type:i}}).then(function(e){return t||s.trigger("destroy",s),e})},feedback:function(t,i){return i=i||this.FEEDBACK_FEED_TYPE.CHANNEL,e.request({url:"/feeds/feedback",type:"POST",data:{feed_type:i,feedback_type:t,activity_id:this.get("id")}})},changePushMute:function(t){var i=this,s={push_mute:t},r=t?"POST":"DELETE";return e.request({url:this.url()+"/mute_push",type:r,data:s}).then(function(t){return i.set("push_mute",!!t.push_mute),t})},changePermission:function(t,i,s,r,n){var a=this,o={permission:t,enable_share:!!i,comment_all_writable:!!s,is_must_read:!!n};return t===F.PERMISSION.ME_ONLY?(o.enable_share=!1,o.comment_all_writable=!0):t===F.PERMISSION.PART_OF_FRIENDS&&(o.enable_share=!1,o.allowed_profile_ids=JSON.stringify(r)),e.request({url:_.result(this,"url"),type:"PUT",data:o}).then(function(){o.allowed_profile_ids&&(o.allowed_profile_ids=r,o.allowed_friends_count=r.length),o.sharable=o.enable_share,a.set(o)})},requestPosting:function(t,i){var s=this,r=_.result(this,"url");return t.track_id?r+="/music":i&&(r+="/"+i.shareId+"/share",i.timehopKey&&(t.timehop_key=i.timehopKey)),e.request({url:r,type:"POST",data:t}).then(function(t){return s.set(t),t})},requestUpdating:function(t){var i=this,s=_.result(this,"url");return e.request({url:s+"/content",type:"PUT",data:t}).then(function(t){return i.reset(null,{silent:!0}),i.set(t),t})},requestBookmark:function(t){var i=this,s=_.result(this,"url"),r=t?"POST":"DELETE";return e.request({url:s+"/bookmark",type:r}).then(function(){i.set("bookmarked",!!t)})},requestSympathy:function(t){var i=this,s=_.result(this,"url"),r=t?"POST":"DELETE";return e.request({url:s+"/sympathy",type:r}).then(function(e){i.set({share_count:e.share_count||0,sympathized:_.isUndefined(e.sympathized)?t:e.sympathized,sympathy_count:e.sympathy_count||0,sub_title_decorators:e.sub_title_decorators||[],actiongraph_decorators:e.actiongraph_decorators||[]})})},getObjectAsSuggestion:function(){return this.get("object")&&this.get("verb")===this.VERB.SUGGEST?new p(this.get("object")):null},getObjectAsBiography:function(){return this.get("object")&&this.get("verb")===this.VERB.AGGREGATED_VIRTUAL?new I(this.get("object")):null},getObjectAsSuggestionHashtag:function(){return this.get("suggest_hashtag")&&this.get("verb")===this.VERB.SUGGEST_HASHTAG?new f(_.defaults({feed_id:this.get("feed_id")},this.get("suggest_hashtag"))):null},getObjectAsAnswerActivities:function(){var t,e;return this.get("object")&&this.get("object").objects?(e=F.extend({defaults:_.defaults({object:P},F.prototype.defaults)}),new(t=space.Collection.extend({model:e}))(this.get("object").objects)):null},getObjectAsActivities:function(){return new(space.Collection.extend({model:F}))(this.get("object").objects)},getWithTag:function(){var t=null,e=this.get("with_tag_count"),i=this.get("closest_with_tags");return e&&i&&(t={totalCount:e,tags:_.map(i,function(t){return new o(t)})}),t},getMediaCount:function(){return this.get("media")?this.get("media").length:0},getShareActivity:function(){return this.get("verb")===this.VERB.SHARE?(this._sharedActivity||(this._sharedActivity=new F(this.get("object")),this._sharedActivity.set("isOriginalOfShareActivity",!0)),this._sharedActivity):this},hasScrapData:function(){return!!this.get("scrap")},getSharable:function(){var t=this.getShareActivity(),e=_.contains([this.PERMISSION.ME_ONLY,this.PERMISSION.PART_OF_FRIENDS],t.get("permission")),i=t.get("sharable"),s=t.get("actor").get("isMe"),r=t.get("blinded"),n=t.get("deleted"),a=!1;return this.isShareActivity()&&(a=_.contains([this.PERMISSION.ME_ONLY,this.PERMISSION.PART_OF_FRIENDS],this.get("permission"))),!r&&!n&&!a&&(i||!e&&s)},getShareUrl:function(e){var i=e?"https://"+t.realServiceDomain:location.protocol+"//"+location.host;return i+"/"+this.get("actor").get("urlKey")+"/"+this.get("urlKey")},isSingleUser:function(){return this.get("friendList")?1===this.get("friendList").length:!1},getPermissionText:function(t){var e;switch(t){case this.PERMISSION.ALL:e="activity.permission.all";break;case this.PERMISSION.FRIENDS:e="activity.permission.friends";break;case this.PERMISSION.ME_ONLY:e="activity.permission.meOnly";break;default:e="activity.permission.all"}return e?intl.t(e):""},getObjectBundledFeed:function(){var t=this.get("bundled_feed");return t.feed_id=this.get("feed_id"),t.id=this.get("id"),t},isMeOnlyPermission:function(){return this.get("permission")===this.PERMISSION.ME_ONLY},isFriendsPermission:function(){return this.get("permission")===this.PERMISSION.FRIENDS},isCommentWritable:function(){var t=this.get("actor").get("relation"),e=!t.get("isFriendRelation");return t.get("isMe")?!0:this.get("permission")===this.PERMISSION.ALL?!(e&&!this.get("comment_all_writable")):!0},getHashtags:function(){var t=this.get("content_decorators"),e=[],i=/^#/;return _.isArray(t)&&_.each(t,function(t){t.type===n.DECORATOR_TYPE.HASHTAG&&e.push(t.text.replace(i,""))}),_.unique(e)},getDisplayMediaType:function(){var t=this.get("media_type")||(this.get("object")?this.get("object").object_type:null);if(this.get("blinded")||this.get("deleted"))return this.DISPLAY_MEDIA_TYPE.NONE;switch(t){case this.MEDIA_TYPE.IMAGE:return this.DISPLAY_MEDIA_TYPE.PHOTO;case this.MEDIA_TYPE.VIDEO:return this.DISPLAY_MEDIA_TYPE.VIDEO;case this.MEDIA_TYPE.SCRAP:case this.MEDIA_TYPE.RICHSCRAP:return this.DISPLAY_MEDIA_TYPE.LINK;case this.OBJECT_TYPE.MUSIC:return this.DISPLAY_MEDIA_TYPE.MUSIC;case this.OBJECT_TYPE.ACTIVITY:return this.DISPLAY_MEDIA_TYPE.SHARE;default:return this.DISPLAY_MEDIA_TYPE.NONE}},getDefaultImageUrl:function(){var t;switch(this.getDisplayMediaType()){case this.DISPLAY_MEDIA_TYPE.PHOTO:t=this.get("media")&&this.get("media")[0]&&this.get("media")[0].url;break;case this.DISPLAY_MEDIA_TYPE.VIDEO:t=this.get("media")&&this.get("media")[0]&&this.get("media")[0].preview_url;break;case this.DISPLAY_MEDIA_TYPE.LINK:t=this.get("scrap")&&this.get("scrap").get("image")&&this.get("scrap").get("image")[0];break;case this.DISPLAY_MEDIA_TYPE.MUSIC:t=this.get("object")&&this.get("object").album_image;break;case this.DISPLAY_MEDIA_TYPE.SHARE:t=new F(this.get("object")).getDefaultImageUrl()}return t},getTextContent:function(){var t,e=null;return this.get("verb")===this.VERB.SHARE?(t=this.getShareActivity(),e=t.get("deleted")?this.get("escapedTextContent")||t.get("escapedTextContent"):t.getTextContent()):e=this.get("media_type")===this.MEDIA_TYPE.SCRAP||this.get("media_type")===this.MEDIA_TYPE.RICHSCRAP?this.get("scrap").get("title")||this.get("escapedTextContent"):this.get("escapedTextContent"),e},getDefaultDecorators:function(){var t;return this._defaultDecorators?this._defaultDecorators:(t=this.getShareActivity(),t.get("deleted")?this.get("content_decorators"):t.get("content_decorators"))},getCardTypeImageUrl:function(){return this.getThumbnail()},getThumbnail:function(t){var e=this.getDefaultImageUrl();return t=_.defaults(t||{},{useGif:!1}),t.useGif||(e=s.convertGifImageUrlToLargeThumbnailUrl(e)),!t.useGif&&e&&this.getDisplayMediaType()===F.DISPLAY_MEDIA_TYPE.PHOTO&&s.hasVersionImages(e,M)&&(e=this.get("media")[0].thumbnail_url3),e},getFeedActivity:function(){var t,e=this.toJSON();return delete e.comments,delete e.likes,t=new F(e),t.set("comments",this.get("comments").last(R)),t.set("likes",this.get("likes").first(b)),t},isSuggestActivity:function(){return this.get("verb")===this.VERB.SUGGEST},hasLocationTag:function(){return!(!this.get("location_tag")||!this.get("location_tag").get("location_id"))},isShareActivity:function(){return this.get("verb")===this.VERB.SHARE},hasTimehopData:function(){return!!this.get("timehop").get("key")},isTimehopShareActivity:function(){var t;return this.get("verb")!==this.VERB.SHARE?!1:(t=this.get("object"),t&&t.timehop&&!!t.timehop.key)},isActionGraphActivity:function(){return!!this.get("actionGraphDecorators").length},isReactionActivity:function(){return this.get("feed_type")===this.FEED_TYPE.REACTION},isInstantActivity:function(){return this.get("feed_type")===this.FEED_TYPE.INSTANT},isSticonFirst:function(){var t=this.getFirstDecorator();return t&&_.contains(n.DECORATOR_STICON_TYPE,t.type)},getFirstDecorator:function(){var t=this.getDefaultDecorators();return t?_.find(t,function(t){return t.type!==n.DECORATOR_TYPE.TEXT?!0:!L.test(t.text)}):null}});return F.NAME="Activity",F.PERMISSION=F.prototype.PERMISSION,F.MEDIA_TYPE=F.prototype.MEDIA_TYPE,F.OBJECT_TYPE=F.prototype.OBJECT_TYPE,F.VERB=F.prototype.VERB,F.FROM=F.prototype.FROM,F.DISPLAY_MEDIA_TYPE=F.prototype.DISPLAY_MEDIA_TYPE,F.PUSH=F.prototype.PUSH,F.HIDING_FEEDBACK_TYPE=F.prototype.HIDING_FEEDBACK_TYPE,F.HIDE_TYPE=F.prototype.HIDE_TYPE,F.FEED_TYPE=F.prototype.FEED_TYPE,F});
define("model/Notification",["model/Profile","model/Activity","common/urlUtil","common/urlKey","config"],function(t,e,i,n,r){var s=":",l=space.Model.extend({collection:null,defaults:{id:0,actor:t,message:null,created_at:null,is_new:!1,key:null,content:null,scheme:null,thumbnail_url:null,thumbnail_text:null,event_like_skin:"",sharable:!0,original_activity_id:"",item_id:"",item_sub_type:"",item_ver:""},virtuals:{activityId:function(){return this._activityId},activityUrlKey:function(){return n.activity.idToUrlKey(this._activityId)},profileId:function(){return n.profile.idToUrlKey(this._profileId)},notificationType:function(){return this._schemeType},targetProfileId:function(){return this._profileId},hasSticon:function(){return this.get("item_id")&&this.get("item_sub_type")&&this.get("item_ver")?!0:!1},hasThumbnail:function(){var t=this.get("thumbnail_url")||"";return t.length>0||this.get("hasSticon")?!0:!1},hasEmoticon:function(){return this.get("emotion")?!0:!1},hasContent:function(){return this.get("content")?!0:!1},storyPlusUrl:function(){return r.serviceUrl.storyPlus},url:function(){return this._url},notificationActivityType:function(){return this._keyType},isActorFriend:function(){return this.get("actor")&&this.get("actor").get("isFriend")},actorProfileUrlKey:function(){return this.get("actor")?n.profile.idToUrlKey(this.get("actor").get("id")):null},activity:function(){return this._activity}},TYPE:{ACTIVITIES:"activities",PROFILES:"profiles",FRIENDSHIP:"friendship",NOTIFICATIONS:"notifications",UPGRADE:"upgrade",NOLINK:"nolink",WEBLINK:"weblink",STORYPLUS:"storychannel",MESSAGES:"messages",SETTING:"settings",QNA:"answers"},SCHEME:{STORY_PROTOCOL:"kakaostory://",STORYPLUS_PROTOCOL:"storychannel://",HTTPS_PROTOCOL:"https://",HTTP_PROTOCOL:"http://"},ACTIVITY_TYPE:{INVITATION:"invt",CHANNEL_INVITATION:"sprc",BIRTHDAY:"fbirt",ACCEPT:"acpt",FOLLOWERS:"folw",MENTION:"amen",TAGME:"areq"},QNA_TYPE:{QUESTION:"ques",ANSWER:"asw"},initailize:function(){this._schemeType=null,this._activityId=null,this._profileId=null,this._url=null,this._keyType=null,this._activity=null},parse:function(t){var e,i;return i=this._parseKey(t.key),i&&(this._keyType=i.type),e=this._parseScheme(t.scheme),e&&(this._schemeType=e.type,this._activityId=e.activityId,this._profileId=e.profileId,this._url=e.url),t},_parseStoryPlusScheme:function(){return{type:this.TYPE.STORYPLUS}},_parseScheme:function(t){return t?0===t.indexOf(this.SCHEME.STORY_PROTOCOL)?this._parseStoryScheme(t):0===t.indexOf(this.SCHEME.STORYPLUS_PROTOCOL)?this._parseStoryPlusScheme(t):0===t.indexOf(this.SCHEME.HTTPS_PROTOCOL)||0===t.indexOf(this.SCHEME.HTTP_PROTOCOL)?this._parseHttpsScheme(t):null:null},_parseHttpsScheme:function(t){return{type:l.TYPE.WEBLINK,url:t}},_parseStoryScheme:function(t){var e,n=null,r=null,s=null;switch(n=t.substring(this.SCHEME.STORY_PROTOCOL.length),r=n.split("/"),r[0]){case l.TYPE.ACTIVITIES:s={type:r[0],activityId:i.getLastPathFromUrl(t),profileId:i.getQueryValueFromUrl(t,"profile_id")},(this._keyType===l.QNA_TYPE.QUESTION||this._keyType===l.QNA_TYPE.ANSWER)&&(s.type=l.TYPE.QNA);break;case l.TYPE.PROFILES:e=r[2]?i.stripQueryString(r[2]):null,s=e===l.TYPE.QNA?{type:l.TYPE.QNA}:{type:r[0],profileId:r[1]};break;case l.TYPE.NOLINK:s={type:r[0]};break;case l.TYPE.FRIENDSHIP:case l.TYPE.NOTIFICATIONS:case l.TYPE.UPGRADE:case l.TYPE.MESSAGES:s={type:r[0]};break;case l.TYPE.SETTING:e=r[2]?i.stripQueryString(r[2]):null,e===l.TYPE.QNA&&(s={type:l.TYPE.QNA})}return s},_parseKey:function(t){var e;return t?(e=t.split(s),{type:e[0]}):null},makeOld:function(){this.set("is_new",!1)},preloadActivity:function(){var t=this,i=new e({id:this._activityId});this.get("sharable")&&i.fetch().then(function(){t._activity=i})}});return l.TYPE=l.prototype.TYPE,l.ACTIVITY_TYPE=l.prototype.ACTIVITY_TYPE,l.QNA_TYPE=l.prototype.QNA_TYPE,l});
define("model/Notifications",["model/Notification","common/api","moment"],function(e,t,i){return space.Collection.extend({url:"/notifications",model:e,initialize:function(){this._isFirstFetch=!0,this._idx=0,this._readingMark=null},fetch:function(){var n=this;return this._idx=0,t.request({url:_.result(this,"url"),type:"GET"}).then(function(t){var r,a=n.parse(t),s=[];if(0===n.length||n._isFirstFetch)n.set(a,{merge:!1}),n._isFirstFetch=!1;else{r=i(n.at(0).get("created_at"));for(var c=a.length-1;c>=0;c--){var d,o,g=a[c].get("id"),f=n.get(g);f?(d=a[c].get("key"),0===d.indexOf(e.ACTIVITY_TYPE.ACCEPT)&&0===f.get("key").indexOf(e.ACTIVITY_TYPE.INVITATION)&&n.add(a[c],{merge:!0})):(o=i(a[c].get("created_at")),o.diff(r)>=0&&n.add(a[c],{at:0}))}n.each(function(e){var t=_.find(a,function(t){return t.get("id")===e.get("id")});t||s.push(e)}),_.each(s,function(e){e.trigger("destroy",e)})}})},parse:function(t){for(var i=[],n=0,r=t.length;r>n;n++)i.push(new e(t[n],{parse:!0}));return i},setReadingMark:function(e){var t=!1;this.each(function(i){!i.get("is_new")||i.get("activityId")!==e&&i.get("profileId")!==e||(t=!0)}),this._readingMark=t?e:null},getReadingMark:function(){return this._readingMark},clearReadingMark:function(e){e&&this.each(function(t){!t.get("is_new")||t.get("activityId")!==e&&t.get("profileId")!==e||t.set({is_new:!1})}),this._readingMark=null}})});
define("model/NewCount",["common/api"],function(e){return space.Model.extend({PERIODIC_FETCH_INTERVAL:6e4,url:"/notifications/new_count",defaults:{notice_count:0,notification_count:0,received_count:0,has_new_notification:0,has_new_feed:!1,message_count:0},initialize:function(){var e=this;this._fetchTimer=null,this._me=null,require(["model/me"],function(t){e._me=t,e.listenTo(t,"logout",e._clearTimer)})},virtuals:{hasNewNotification:function(){return this.get("has_new_notification")||this.get("message_count")}},readReceivedInvitation:function(e){return this.fetch({invitation_since:e})},fetch:function(t){var i,n,o=this;return t=t||{},this._me&&(i=this._me.get("property"),n=i.get(i.TYPE.LAST_NOTICE_ID),t.notice_since=n),this._clearTimer(),this._fetchTimer=setTimeout(function(){o.fetch(t).fail(function(e){o.trigger("periodicFetchError",e)})},this.PERIODIC_FETCH_INTERVAL),e.request({url:this.url,type:"GET",data:t}).then(function(e){o.set(e)}).fail(function(e){return e&&401===e.status&&(o._clearTimer(),o._me&&o._me.setLoggedIn(!1)),Q.reject(e)})},_clearTimer:function(){this._fetchTimer&&clearTimeout(this._fetchTimer)}})});
define("model/Property",["common/api"],function(t){var e="/",n=",",r=",",o={TUTORIAL_INFO:"tut_info",PERMISSION:"act_perm",LAST_CAMPAIGN_ID_LIST:"last_cid",LAST_NOTICE_ID:"last_nid"},i=space.Model.extend({TYPE:o,url:"/settings/property",defaults:{tut_info:null,act_perm:null,onoff:null,last_campaign_id_list:[],last_notice_id:null},initialize:function(){this._isFetched=!1},fetch:function(){var e=this;return t.request({url:_.result(this,"url"),type:"GET",data:{type:[o.TUTORIAL_INFO,o.PERMISSION,o.LAST_CAMPAIGN_ID_LIST,o.LAST_NOTICE_ID]}}).then(function(t){return t=e.parse(t),e.set(t),e._isFetched=!0,e.trigger("fetched"),t})},parse:function(t){var e;return t.onoff&&(e=t.onoff.split(n),t.onoff={},_.each(e,function(e){t.onoff[e]=!0})),t[o.LAST_CAMPAIGN_ID_LIST]=t[o.LAST_CAMPAIGN_ID_LIST]?_.map(t[o.LAST_CAMPAIGN_ID_LIST].split(r),function(t){return t.replace(/\s/g,"")}):[],t},updateProperty:function(e,n){var i=this;return e===o.LAST_CAMPAIGN_ID_LIST&&_.isArray(n)&&(n=n.join(r)),t.request({url:_.result(this,"url"),type:"PUT",data:{type:e,value:n}}).then(function(t){return"onoff"!==e&&i.set(e,n),t})},updateOnOff:function(t,n){var r=this,o=t+e+(n?"on":"off");return this.updateProperty("onoff",o).then(function(e){var o=_.clone(r.get("onoff"))||{};return n?o[t]=!0:o[t]&&delete o[t],r.set("onoff",o),e})},isOn:function(t){var e=this.get("onoff");return e&&e[t]?!0:!1},get:function(t){var e=space.Model.prototype.get.apply(this,arguments);return t===o.PERMISSION&&"FX"===e?"F":e},isFetched:function(){return this._isFetched}});return i.TYPE=o,i});
define("model/Retire",[],function(){var e=space.Model.extend({defaults:{message_for_password:"",confirm_title:"",will_retire:!0,message_for_complete:"",retire_url:""}});return space.Model.extend({defaults:{message:"",account_retire:e},virtuals:{messageForPassword:function(){return this.get("account_retire").get("message_for_password")},messageForComplete:function(){return this.get("account_retire").get("message_for_complete")},willRetire:function(){return this.get("account_retire").get("will_retire")},retireUrl:function(){return this.get("account_retire").get("retire_url")}}})});
define("model/Account",["common/api","model/Retire","common/util"],function(t,e,r){var n=20,s=10,a={MUSIC:"music",TEXT:"text",NO_SETTING:"nosetting"},u={ALL:"A",FRIEND:"F",ME:"M"},i={MALE:"M",FEMALE:"F",NONE:""},o=space.Model.extend({url:"/settings/profile",defaults:{id:null,display_name:"",profile_thumbnail_url:"",profile_image_url:"",activity_count:0,friend_count:0,bg_image_url:"",birth:"",birth_type:"",birth_leap_type:!1,default_bg_id:"",first_name:"",last_name:"",email:"",display_id:"",status_objects:null,location_agreed:!1,birth_agreed:!1,allow_events_agreed:!1,allow_profile_info_collect_agreed:!1,expose_friend_permission:u.FRIEND,expose_followee_permission:u.ALL,expose_bookmark_permission:u.ALL,expose_up_permission:u.ALL,allow_following:!1,gender:i.NONE,gender_permission:"",is_talk_joined_user:!1,profile_uri:"",uri_searchable:!1,name_searchable:!1,message_all_sendable:!1,allow_action_graph:!1,account_biography_agreement_hist:!1,account_use_agreement:!1,account_biography_agreement:!1,account_required_privacy_agreement_url:"",account_optional_privacy_agreement_url:"",account_optional_event_agreement_url:"",story_optional_privacy_agreement_url:"",story_optional_event_agreement_url:""},STATUS:{NAME:{ALREADY_ACCEPTED_CHANGE_NAME:-208,CHANGE_NOT_AVAILABLE:-11001,NOT_CHANGED_BY_USER:-11003,PROFILE_FORBIDDEN_NAME_DETAIL:-31008,PROFILE_FORBIDDEN_NAME:-31012,PROFILE_NAME_REQUIRED:-31009,PROFILE_WARNING_ACCEPTED_CHANGE_NAME:-31018},STORYID:{FORBIDDEN_URI:-200,NOT_FOUND_URI:-201,URI_ALREADY_EXISTS:-202,DUPLICATED_URI:-203,INVALID_URI:-204,INVALID_SERVER_RESPONSE:-12001,NOT_TO_CHANGE:-12002},BIRTH:{INVALID_FORMAT:-31004},ETC:{INTERNAL_ERROR:-10003}},virtuals:{getDisplayName:function(){return r.convertBlankToUnicode(this.get("display_name"))},isLocationAgreed:function(){return this.get("location_agreed")},isSearchable:function(){return this.get("uri_searchable")},birthdayObject:function(){var t=this.get("birth"),e="",r="",n="";return t&&8===t.length&&(e=parseInt(t.substr(0,4),10),r=parseInt(t.substr(4,2),10),n=parseInt(t.substr(6,2),10)),{year:e,month:r,date:n}},isLunar:function(){return"-"===this.get("birth_type")},isLeap:function(){return this.get("birth_leap_type")===!0},isTextStatus:function(){var t=this._statusMatchedWith(a.TEXT),e=0;return t?(e=this.get("statusTextMsg").length,e>0?!0:!1):!1},isMusicStatus:function(){return this._statusMatchedWith(a.MUSIC)},getTextStatus:function(){return this._getStatus(a.TEXT)},hasMusicStatus:function(){return void 0!==this._getStatus(a.MUSIC)},hasTextStatus:function(){var t=this._getStatus(a.TEXT,function(t){return t.message.length>0});return void 0!==t},statusTrackId:function(){var t=this._getStatus(a.MUSIC);return t&&t.track_id},getStatusMessage:function(){var t=this._getStatus(a.TEXT);return t&&t.message},isNoStatus:function(){return!(this.get("isTextStatus")||this.get("isMusicStatus"))},statusMessage:function(){var t=_.first(this.get("status_objects")),e="";if(t)switch(t.object_type){case a.MUSIC:e=t.title;break;case a.TEXT:e=t.message}return e},statusTextMsg:function(){var t=_.first(this.get("status_objects")),e="";return t&&t.message&&(e=t.message),e},statusType:function(){return this.get("isTextStatus")?a.TEXT:this.get("isMusicStatus")?a.MUSIC:a.NO_SETTING},isMale:function(){return this.get("gender")===i.MALE},isFemale:function(){return this.get("gender")===i.FEMALE}},_statusMatchedWith:function(t){var e=this._getCurrentStatus();return e?e===t:!1},_getStatus:function(t,e){return _.find(this.get("status_objects"),function(r){return r.object_type===t&&(e?e(r):!0)})},_getCurrentStatus:function(){var t=_.first(this.get("status_objects"));return t?t.object_type:null},fetch:function(){var e=this;return t.request({url:this.url,type:"GET"}).then(function(t){return e.set(t),t.birth||e.set("birth",""),t})},updateName:function(e){var r=this;return t.request({url:this.url+"/name",type:"POST",data:{name:e}}).then(function(t){return r.set(t),t})},checkName:function(e,r){return this.get("last_name")===r&&this.get("first_name")===e?Q.resolve(null):t.request({url:this.url+"/name/check",type:"POST",data:{first_name:e,last_name:r}}).then(function(t){return 0===t.status||1===t.status?t:Q.reject(o.NAME.CHANGE_NOT_AVAILABLE)})},updateStoryId:function(e,r){var n=this;return r=!!r,t.request({url:this.url+"/story_id",type:"POST",data:{story_id:e}}).then(function(t){return r||n.set(t),t})},checkStoryId:function(e){return t.request({url:this.url+"/story_id/check",type:"GET",data:{story_id:e}}).then(function(t){return 0!==t.status?Q.reject({responseJSON:t}):t})},updateLocationAgreement:function(e){var r=this;return e?t.request({url:"/agreement",type:"POST",data:{location_agreement:!0}}).then(function(t){return r.set(t),t}):t.request({url:"/agreement/location",type:"DELETE",data:{location_agreed:!1}}).then(function(t){return r.set(t),t})},updateSearchable:function(e){var r=this;return t.request({url:this.url+"/story_id",type:"PUT",data:{searchable:e.toString()}}).then(function(t){return r.set(t),t})},updateNameSearchable:function(e){var r=this;return t.request({url:this.url,type:"PUT",data:{name_searchable:e.toString()}}).then(function(t){return r.set(t),t})},updateFollowableWithFriendAccept:function(e,r){var n=this;return t.request({url:this.url,type:"PUT",data:{allow_following:e,friend_accept_level:r}}).then(function(){n.set("allow_following",e),n.set("friend_accept_level",r)})},updateFollowable:function(e){var r=this;return t.request({url:this.url,type:"PUT",data:{allow_following:e}}).then(function(){r.set("allow_following",e)})},updateFriendAccept:function(e){var r=this;return t.request({url:this.url,type:"PUT",data:{friend_accept_level:e}}).then(function(){r.set("friend_accept_level",e)})},updateMessageAllSendable:function(e){var r=this;return t.request({url:this.url,type:"PUT",data:{message_all_sendable:e}}).then(function(){r.set("message_all_sendable",e)})},updateActionGraphAllowable:function(e){var r=this;return t.request({url:this.url,type:"PUT",data:{allow_action_graph:e}}).then(function(){r.set("allow_action_graph",e)})},updateBirth:function(e,r,n){var s=this,a=r?"-":"+";return this.get("birth")===e&&this.get("birth_type")===a&&this.get("birth_leap_type")===n?Q.resolve(null):t.request({url:this.url+"/birthday",type:"PUT",data:{birth:e,birth_type:a,birth_leap_type:n}}).then(function(t){return s.set(t),t.birth||s.set("birth",""),t})},updateBirthAgreement:function(e){var r=this;return e?t.request({url:"/agreement",type:"POST",data:{birth_agreement:e}}).then(function(){r.set("birth_agreed",e)}):t.request({url:"/agreement/birth",type:"DELETE"}).then(function(){r.set("birth_agreed",e),r.set("birth",""),r.set("birth_type",""),r.set("birth_leap_type","")})},updateKakaoBiographyAgreement:function(e){var r=this;return t.request({url:"/agreement",type:"POST",data:{account_biography_agreement:e}}).then(function(){r.set("account_biography_agreement",e)})},updateAllowEventsAgreement:function(e){var r=this;return e?t.request({url:"/agreement",type:"POST",data:{allow_events_agreement:e}}).then(function(){r.set("allow_events_agreed",e)}):t.request({url:"/agreement/allow_events",type:"DELETE"}).then(function(){r.set("allow_events_agreed",e)})},updateAllowProfileCollectAgreement:function(e){var r=this;return e?t.request({url:"/agreement",type:"POST",data:{allow_profile_info_collect_agreement:e}}).then(function(){r.set("allow_profile_info_collect_agreed",e)}):t.request({url:"/agreement/allow_profile_info_collect",type:"DELETE"}).then(function(){r.set("allow_profile_info_collect_agreed",e)})},updateStatusMessage:function(e){var r=this;return t.request({url:"/settings/profile/status_message",type:"PUT",data:{status_message:e}}).then(function(t){return r.set(t),t})},updateMusicStatusMessage:function(e){var r=this;return t.request({url:"/settings/profile/status_music",type:"PUT",data:{track_id:e}}).then(function(t){return r.set(t),t})},removeMusicStatusMessage:function(){var e=this;return this.get("statusTrackId")?t.request({url:"/settings/profile/status_music",type:"DELETE",data:{track_id:this.get("statusTrackId")}}).then(function(t){return e.set(t),t}):Q.resolve()},removeStatusMessage:function(){var t=this;return this.removeMusicStatusMessage().then(function(){return t.updateStatusMessage("")})},getRetireMsg:function(){return t.request({url:"/profiles/retire_message",type:"GET"}).then(function(t){return new e(t)})},withdraw:function(e){return t.request({url:"/profiles/me",type:"DELETE",data:{confirm_token:e}})},signIn:function(e){return t.request({url:"/profiles",type:"POST",data:e})},fetchNameGuide:function(){return t.request({url:"/name_guide",type:"GET"})},updateExposingPermission:function(e,r){var n=this,s={};return s[e]=r,t.request({url:this.url,type:"PUT",data:s}).then(function(){n.set(e,r)})},updateGender:function(e,r){var n=this;return t.request({url:this.url+"/gender",type:"PUT",data:{gender:e,permission:r}}).then(function(t){return n.set(t),t})},getAgreement:function(){var e=this;return t.request({url:"/agreement",type:"GET"}).then(function(t){return e.set(t),t})},getKakaoBiography:function(){var e=this;return t.request({url:"/profiles/my_account",type:"GET"}).then(function(t){return e.set(t),t.nickname&&e.set("display_name",t.nickname),t})}});return o.requestDisplayId=function(){return t.request({url:"/settings/account/displayid",type:"GET"}).then(function(t){return t.displayId})},o.NAME=o.prototype.STATUS.NAME,o.STORYID=o.prototype.STATUS.STORYID,o.BIRTH=o.prototype.STATUS.BIRTH,o.ETC=o.prototype.STATUS.ETC,o.MAX_NAME_LENGTH=n,o.KOREAN_MAX_NAME_LENGTH=s,o.STATUS_OBJECT_TYPE=a,o.PERMISSION=u,o.GENDER=i,o});
define("model/Message",["common/api","common/decoratorUtil","model/Profile"],function(e,t,n){var r={SEND:"send",RECEIVE:"receive"},i={COLOR:"color",IMAGE:"image",PATTERN_IMAGE:"pattern_image"},o=space.Model.extend({urlRoot:"/messages",TYPE:r,BACKGROUND_TYPE:i,defaults:{id:null,content_id:null,sender:n,receivers:space.Collection.extend({model:n}),type:"",content:"",content_decorators:[],object:null,bomb:!1,read_at:"",created_at:"",receiver_id:[],reference_id:"",contentText:"",contentSticon:null,has_emoticon:!1,has_background_image:!1,isUploadingPhoto:!1},virtuals:{isReceiveMessage:function(){return this.get("type")===r.RECEIVE}},fetch:function(){var t=this;return e.request({url:_.result(this,"url")}).then(function(e){t.set(e)})},isUnread:function(){return!this.get("read_at")&&this.get("type")===r.RECEIVE},send:function(){var n=[],r=!1;return this.get("contentSticon")&&(r=!0,n.push(this.get("contentSticon"))),this.get("contentText")&&n.push({type:t.DECORATOR_TYPE.TEXT,text:(r?"\n":"")+this.get("contentText")}),e.request({url:this.urlRoot,type:"POST",data:{content:JSON.stringify(n),bomb:this.get("bomb"),object:JSON.stringify(this.get("object")),receiver_id:this.get("receiver_id"),reference_id:this.get("reference_id")}}).then(_.bind(this._updateReceiverInfo,this))},_updateReceiverInfo:function(e){var t=Q.defer(),n=this;return require(["model/me"],function(r){var i=n.get("receiver_id")[0],o=n.get("bomb"),s=r.get("friends"),c=s.getFriendById(i);c&&(c.set({message_received_bomb:o,message_receiver_priority:_.now()}),s.arrangeReceiverPriority()),t.resolve(e)}),t.promise},canSend:function(){return this.hasReceiver()&&this.hasSendableContent()&&!this.get("isUploadingPhoto")},hasContent:function(){var e=this.get("contentText");return!!(e&&!/^\s+$/.test(e)||this.get("contentSticon"))},hasReceiver:function(){return _.isArray(this.get("receiver_id"))&&this.get("receiver_id").length>0},hasSendableContent:function(){return this.hasContent()||this.isPhotoBackground()},getOpponentProfile:function(){return this.get("type")===r.SEND?this.get("receivers").first():this.get("sender")},destroy:function(){var t=this;return e.request({url:_.result(this,"url"),type:"DELETE"}).then(function(){t.trigger("destroy",t)})},rejectMessageSender:function(){return this.get("sender").rejectMessage()},isColorBackground:function(){var e=this.get("object");return!(!e||e.background.type!==i.COLOR)},isPhotoBackground:function(){var e=this.get("object");return!(!e||e.background.type!==i.IMAGE)},isPatternBackground:function(){var e=this.get("object");return!(!e||e.background.type!==i.PATTERN_IMAGE)},isSentBomb:function(){return this.get("type")===r.SEND&&this.get("bomb")===!0}});return o.TYPE=r,o.BACKGROUND_TYPE=i,o.convertMessageContentToMessage=function(e){var n=e.content_decorators,o=n[0]&&_.contains(t.DECORATOR_STICON_TYPE,n[0].type),s=e.bomb,c=s?"":e.content.replace(t.DECORATOR_TEXT.STICON,"").replace(t.DECORATOR_TEXT.EMOTICON,"");return{id:e.id,sender:e.sender,receivers:e.receivers,type:r.SEND,bomb:e.bomb,has_emoticon:o,has_background_image:e.object&&e.object.background.type===i.IMAGE,summary:c,read_at:e.read_at,created_at:e.created_at}},o});
define("model/Messages",["common/api","model/ListCollection","model/Message"],function(t,e,n){var r=1;return e.extend({url:"/messages",model:n,parent:null,fetch:function(){var t=this;return this.fetchList().then(function(e){return t.add(e),e})},fetchNewMessage:function(){var e=this;return t.request({url:_.result(this,"url"),type:"GET",data:{since:null}}).then(function(t){var n,a=[];if(t&&(n=_.map(e.first(t.length),function(t){return t.get("id")}),_.each(t,function(t,e){_.contains(n,t.id)||a.push({data:t,at:e})})),a){if(a.length>r)return e.reset([]),e.fetch();_.each(a,function(t){e.add(t.data,{at:t.at})})}return t})}})});
define("common/storage",["common/util"],function(e){var t,o="_ksd",n="_ksdet",r=31536e6,i=2048,O={_storage:null,KEY:{EMOTICON_TOOLTIP:"emotion",USED_STICON:"usedSticon",PROFILE_MENU_TOOLTIP_SHOWN:"profileMenuTooltip",LOGIN_EMAIL:"mInfo",FEED_STAY:"feedStay",CHANNEL_FOLLOW_TOOLTIP_SHOWN:"channelFollowTooltip",EXPOSED_NEW_FILTER:"exposedNewFilter",NEW_UP:"sectionUp",NEW_TAGGED:"sectionTagged",BOARD_CLOSE:"boardClose",LAB:"lab",LAB_FEED_TAB_TYPE:"feedTab"},EXPIRES:{EMOTICON_TOOLTIP:31104e7,USED_STICON:2592e6,PROFILE_MENU_TOOLTIP_SHOWN:31104e6,LAB:31104e6,LOGIN_EMAIL:2592e6,FEED_STAY:2592e6,CHANNEL_FOLLOW_TOOLTIP_SHOWN:864e5,EXPOSED_NEW_FILTER:31104e6,NEW_UP:31104e7,BOARD_CLOSE:864e5},init:function(){var o=!1,n="__kakao__";try{o=!!window.localStorage,localStorage.setItem(n,!0),localStorage.removeItem(n)}catch(O){o=!1}t=o?{get:function(e){return JSON.parse(localStorage.getItem(e)||"{}")},set:function(e,t){localStorage.setItem(e,JSON.stringify(t))},clear:function(e){localStorage.removeItem(e)}}:{get:function(t){return JSON.parse(e.getCookie(t)||"{}")},set:function(t,o){if(o=JSON.stringify(o),!(o.length<i))throw new Error("저장 가능한 쿠키 크기를 초과하였습니다.");e.setCookie(t,o,_.now()+r,location.hostname)},clear:function(t){e.clearCookie(t)}}},get:function(e){return e&&this._checkExpiresTime(e)?t.get(o)[e]:null},set:function(e,r,i){if(e&&null!==r){var O=t.get(o),E=t.get(n);O[e]=r,t.set(o,O),i>0?E[e]=_.now()+i:delete E[e],t.set(n,E)}},clear:function(e){var r=t.get(o),_=t.get(n);r&&delete r[e],_&&delete _[e],t.set(o,r),t.set(n,_)},_checkExpiresTime:function(e){var o=t.get(n);return!o[e]||o[e]>_.now()?!0:(this.clear(e),!1)}};return O.init(),O});
define("common/loginEmail",["common/storage","base64url"],function(n,e){return{save:function(o){n.set(n.KEY.LOGIN_EMAIL,e.encode(o),n.EXPIRES.LOGIN_EMAIL)},hasEmail:function(){var e=n.get(n.KEY.LOGIN_EMAIL);return e&&e.length>0},load:function(){return e.decode(n.get(n.KEY.LOGIN_EMAIL))},clear:function(){n.clear(n.KEY.LOGIN_EMAIL)}}});
define("model/me",["initialData","model/Profile","model/MyFriends","model/Invitations","model/Recommends","model/Notifications","model/NewCount","model/Property","model/Account","model/Messages","config","common/api","common/loginEmail"],function(e,t,i,r,o,s,n,u,a,l,g,d,f){var c={INTERNAL_SERVER_ERROR:500,SERVICE_UNAVAILABLE:503},p=t.extend({url:"/profiles/me",initialize:function(){t.prototype.initialize.call(this),this._isLoggedIn=!1,this._isRegistered=!1,this._isStoryPlus=!1,this._isBlocked=!1},urls:{profileImage:"/settings/profile/image/profile",background:"/settings/profile/image/background"},defaults:_.extend({},t.prototype.defaults,{friends:i,invitations:r,recommends:o,notifications:s,newCount:n,property:u,account:a,messages:l}),logout:function(e,t){d.clearCache(),f.clear(),location.href=e?g.kakaoLogin.logout+"?continue="+location.href:t||"/s/logout"},setLoggedIn:function(e){this._isLoggedIn=e,this.trigger(e?"login":"logout")},isLoggedIn:function(){return this._isLoggedIn},isRegistered:function(){return this._isLoggedIn&&this._isRegistered},isStoryPlus:function(){return this._isLoggedIn&&this._isStoryPlus},isBlocked:function(){return this._isBlocked},fetch:function(){var t=this;return d.request({url:_.result(this,"url"),type:"GET"}).then(function(i){var r=e.parseProfile(i.profile,i.profile_error);t._isLoggedIn=r.isLoggedIn,t._isBlocked=r.isBlocked,t._isRegistered=r.isRegistered,t._isStoryPlus=r.isStoryPlus,t._isRegistered&&t.set(i.profile)}).fail(function(i){var r=i.responseJSON&&i.responseJSON.error_code||0,o=e.parseProfile(null,r);t._isLoggedIn=o.isLoggedIn,t._isBlocked=o.isBlocked,t._isRegistered=o.isRegistered,t._isStoryPlus=o.isStoryPlus,t._isLoggedIn||i.status!==c.INTERNAL_SERVER_ERROR?i.status===c.SERVICE_UNAVAILABLE?location.href="/":"timeout"===i.statusText&&(location.href="/s/500"):location.href="/s/500"})},_parseProfileImageUpdateData:function(e){return _.defaults(e,{profile_video_url_hq:"",profile_video_url_lq:"",profile_video_url_square:"",profile_video_url_square_small:""})},setDefaultProfileImage:function(e){var t=this;return d.request({url:this.urls.profileImage,type:"DELETE",data:{default_image_id:e}}).then(function(e){t.set(t._parseProfileImageUpdateData(e))})},setDefaultVideoProfileImage:function(e){var t=this;return d.request({url:this.urls.profileImage,type:"PUT",data:{image_url_src:e}}).then(function(e){t.set(e)})},updateProfileImage:function(e){var t=this;return d.request({url:this.urls.profileImage,type:"PUT",data:{image_path:e}}).then(function(e){t.set(t._parseProfileImageUpdateData(e))})},updateProfileImageFromAlbum:function(e,t){var i=this;return d.request({url:this.urls.profileImage,type:"PUT",data:{activity_id:e,image_index:t}}).then(function(e){i.set(i._parseProfileImageUpdateData(e))})},deleteBackgroundImage:function(){var e=this;return d.request({url:this.urls.background,type:"DELETE"}).then(function(t){e.set(t)})},updateBackgroundImage:function(e){var t=this;return d.request({url:this.urls.background,type:"PUT",data:{image_path:e}}).then(function(e){t.set(e)})},updateBackgroundImageFromAlbum:function(e,t){var i=this;return d.request({url:this.urls.background,type:"PUT",data:{activity_id:e,image_index:t}}).then(function(e){i.set(e)})},is:function(e){return"undefined"!=typeof e&&String(this.get("id"))===String(e)},isProfileImageBlank:function(){return""===this.get("profile_thumbnail_url")},getProperty:function(e){return this.get("property").get(e)},setProperty:function(e,t){return this.get("property").updateProperty(e,t)}});return new p});
define("template/auth",["Handlebars"],function(a){var t=function(t){var l=a.template(t);return function(a){return l(a,{partials:e})}},e={__p__:""};return{layout:function(){var a=t({compiler:[6,">= 2.0.0-beta.1"],main:function(a,t,e,l){return'<div id="kakaoHead" class="head_login" role="banner"><h1 class="ico_ks tit_story">'+this.escapeExpression((t.t||a&&a.t||t.helperMissing).call(a,"auth.alt.kakaoStory",{name:"t",hash:{},data:l}))+'</h1></div><hr class="hide"><div id="kakaoContent" class="cont_login" role="main"><div class="bg_login _loginPageBackgroundBox"></div><div data-part="box"></div></div><hr class="hide"><div data-part="loginFooter"></div>'},useData:!0});return a.wrap='<div class="login_type" data-kant-group="lgi"></div>',a}(),popupLayout:function(){var a=t({compiler:[6,">= 2.0.0-beta.1"],main:function(a,t,e,l){var s=t.helperMissing,i=this.escapeExpression;return'<h1 class="blind">'+i((t.t||a&&a.t||s).call(a,"writing.shareDialogTitle",{name:"t",hash:{},data:l}))+'</h1><div class="_loginBoxWrapper login_type share_cont"><div id="kakaoHead" class="head_login" role="banner"><h1 class="ico_ks tit_story">'+i((t.t||a&&a.t||s).call(a,"auth.alt.kakaoStory",{name:"t",hash:{},data:l}))+'</h1></div><hr class="hide"><div id="kakaoContent" class="cont_login" role="main"><div data-part="box"></div></div><hr class="hide"><div data-part="loginFooter"></div></div>'},useData:!0});return a}(),loginBox:function(){var a=t({compiler:[6,">= 2.0.0-beta.1"],main:function(a,t,e,l){var s=t.helperMissing,i=this.escapeExpression;return'<div class="_loginPageTitleWrapper" style="display:none"><strong class="img_login"><img src="" class="thumb_g _loginPageMessageImg" width="271" height="125"></strong></div><div class="_loginViewTitleWrapper" style="display:none"><strong class="_loginTitle tit_subject tit_login"></strong></div><div class="_loginPopupTitleWrapper" style="display:none"><strong class="tit_share">'+i((t.t||a&&a.t||s).call(a,"auth.loginBox.loginTitle",{name:"t",hash:{},data:l}))+'</strong></div><form action="#" class="_loginBoxForm"><fieldset class="fld_login"><legend class="screen_out">'+i((t.t||a&&a.t||s).call(a,"auth.loginBox.loginArea",{name:"t",hash:{},data:l}))+'</legend><div class="login_inp"><label for="u_id" class="lab_login _loginBoxEmailPlaceholder">'+i((t.t||a&&a.t||s).call(a,"auth.loginBox.emailPlaceholder",{name:"t",hash:{},data:l}))+'</label><input type="email" name="email" id="u_id" class="tf_login _loginBoxEmailInput" tabindex="1" autocapitalize="off" title="'+i((t.t||a&&a.t||s).call(a,"auth.loginBox.emailPlaceholder",{name:"t",hash:{},data:l}))+'"> <a href="#" class="btn_help _loginBoxEmailTooltipBtn" tabindex="5" data-kant-id="3"><span class="ico_ks ico_help">'+i((t.t||a&&a.t||s).call(a,"auth.loginBox.emailTooltipBtn",{name:"t",hash:{},data:l}))+'</span></a><div class="_emailTooltipContainer"></div></div><div class="login_inp password_inp"><label for="u_pass" class="lab_login _loginBoxPasswordPlaceholder">'+i((t.t||a&&a.t||s).call(a,"auth.loginBox.passwordPlaceholder",{name:"t",hash:{},data:l}))+'</label><input type="password" name="password" id="u_pass" class="tf_login tf_password _loginBoxPasswordInput" tabindex="2" title="'+i((t.t||a&&a.t||s).call(a,"auth.loginBox.passwordPlaceholder",{name:"t",hash:{},data:l}))+'"></div><div class="login_check"><input name="remember_me" type="checkbox" id="u_ot" class="inp_check" tabindex="3" value="true"><label for="u_ot" class="lab_check">'+i((t.t||a&&a.t||s).call(a,"auth.loginBox.keepLoginCheckbox",{name:"t",hash:{},data:l}))+'</label></div><pre class="txt_error _loginBoxErrorText" style="display:none"></pre><a href="#" class="_loginBoxLoginBtn btn_login" tabindex="4" data-kant-id="4">'+i((t.t||a&&a.t||s).call(a,"auth.loginBox.loginBtn",{name:"t",hash:{},data:l}))+'</a> <button type="submit" class="btn_hide" data-kant-id="4">'+i((t.t||a&&a.t||s).call(a,"auth.loginBox.loginBtn",{name:"t",hash:{},data:l}))+'</button><div class="info_user"><div class="join_user"><a href="#" class="_createAccountToggleBtn link_user" data-kant-id="5">'+i((t.t||a&&a.t||s).call(a,"auth.loginBox.registerBtn",{name:"t",hash:{},data:l}))+'</a><div class="_createAccountLayerContainer"></div></div><ul class="list_user"><li><a href="#" class="_findEmailBtn link_user" data-kant-id="6">'+i((t.t||a&&a.t||s).call(a,"auth.loginBox.findEmailBtn",{name:"t",hash:{},data:l}))+'</a><span class="txt_bar"></span></li><li><a href="#" class="_findPasswordBtn link_user" data-kant-id="7">'+i((t.t||a&&a.t||s).call(a,"auth.loginBox.findPasswordBtn",{name:"t",hash:{},data:l}))+'</a></li></ul></div></fieldset></form><a href="#" class="_loginBoxCloseBtn btn_close" data-kant-id="8" style="display:none"><span class="ico_ks ico_close">'+i((t.t||a&&a.t||s).call(a,"auth.loginBox.closeBtn",{name:"t",hash:{},data:l}))+"</span></a>"},useData:!0});return a.wrap='<div class="_loginBox login_box" data-kant-group="lgi"></div>',a}(),emailTooltipLayer:function(){var a=t({compiler:[6,">= 2.0.0-beta.1"],main:function(a,t,e,l){var s=t.helperMissing,i=this.escapeExpression;return"<p>"+i((t.t||a&&a.t||s).call(a,"auth.loginBox.emailTooltipText",{name:"t",hash:{},data:l}))+'</p><a href="#" class="_findEmailBtn link_find" data-kant-id="9">'+i((t.t||a&&a.t||s).call(a,"auth.loginBox.findEmailBtn",{name:"t",hash:{},data:l}))+'</a> <span class="ico_ks arr" style="left:auto;right:16px"></span>'},useData:!0});return a.wrap='<div class="ly_tooltip top" style="display:none;bottom:40px;"></div>',a}(),createAccountLayer:function(){var a=t({compiler:[6,">= 2.0.0-beta.1"],main:function(a,t,e,l){var s=t.helperMissing,i=this.escapeExpression;return"<p>"+i((t.t||a&&a.t||s).call(a,"auth.loginBox.registerTooltipText",{name:"t",hash:{},data:l}))+'</p><div class="user_link"><a href="#" class="link_g _findEmailBtn" data-kant-id="10">'+i((t.t||a&&a.t||s).call(a,"auth.loginBox.findEmailBtn",{name:"t",hash:{},data:l}))+'</a> <a href="#" class="link_g _createAccountBtn" data-kant-id="11">'+i((t.t||a&&a.t||s).call(a,"auth.loginBox.registerBtn",{name:"t",hash:{},data:l}))+'</a></div><span class="ico_ks arr" style="left:15px"></span>'},useData:!0});return a.wrap='<div class="ly_tooltip bottom" style="display:none;"></div>',a}(),footer:function(){var a=t({compiler:[6,">= 2.0.0-beta.1"],main:function(a,t,e,l){var s=t.helperMissing,i=this.escapeExpression;return'<div class="inner_footer"><h2 class="screen_out">'+i((t.t||a&&a.t||s).call(a,"auth.alt.serviceInfo",{name:"t",hash:{},data:l}))+'</h2><ul class="list_policy"><li class="fst"><a href="http://www.kakaocorp.com" target="_blank" data-kant-id="12" class="link_policy">'+i((t.t||a&&a.t||s).call(a,"auth.footer.about",{name:"t",hash:{},data:l}))+'</a><span class="txt_bar"></span></li><li><a href="http://www.kakao.com/policy/terms" target="_blank" data-kant-id="13" class="link_policy">'+i((t.t||a&&a.t||s).call(a,"auth.footer.terms",{name:"t",hash:{},data:l}))+'</a><span class="txt_bar"></span></li><li><a href="http://www.kakao.com/policy/privacy" target="_blank" data-kant-id="14" class="link_policy">'+i((t.t||a&&a.t||s).call(a,"auth.footer.privacy",{name:"t",hash:{},data:l}))+'</a><span class="txt_bar"></span></li><li><a href="http://www.kakao.com/policy/oppolicy" target="_blank" data-kant-id="15" class="link_policy">'+i((t.t||a&&a.t||s).call(a,"auth.footer.oppolicy",{name:"t",hash:{},data:l}))+'</a><span class="txt_bar"></span></li><li><a href="#" class="link_policy _loginFooterAppsBtn" data-kant-id="16">Apps</a><div class="_appsLayerContainer"></div></li></ul><address class="txt_copyright">'+i((t.t||a&&a.t||s).call(a,"auth.footer.copyright",{name:"t",hash:{},data:l}))+' <a href="http://www.kakaocorp.com/" class="link_info" target="_blank" data-kant-id="17">'+i((t.t||a&&a.t||s).call(a,"auth.footer.kakao",{name:"t",hash:{},data:l}))+"</a></address></div>"},useData:!0});return a.wrap='<div id="kakaoFoot" class="footer_login"></div>',a}(),userInfo:function(){var a=t({compiler:[6,">= 2.0.0-beta.1"],main:function(a,t,e,l){var s,i=t.helperMissing,n=this.escapeExpression;return'<a class="link_thumb img_profile" href="'+n((s=null!=(s=t.url||(null!=a?a.url:a))?s:i,"function"==typeof s?s.call(a,{name:"url",hash:{},data:l}):s))+'" data-kant-id="1233">'+n((t.profileImage||a&&a.profileImage||i).call(a,{name:"profileImage",hash:{"class":"thumb_friend",alt:null!=a?a.userName:a,size:30,url:null!=a?a.profileThumbUrl:a},data:l}))+'</a> <span class="txt_user">'+n((t.t||a&&a.t||i).call(a,"auth.photo.userInfo",{name:"t",hash:{userName:null!=a?a.userName:a,url:null!=a?a.url:a},data:l}))+"</span>"},useData:!0});return a}(),appsLayer:function(){var a=t({compiler:[6,">= 2.0.0-beta.1"],main:function(a,t,e,l){var s=t.helperMissing,i=this.escapeExpression;return'<div class="inner_tooltip_layer"><ul class="list_app"><li><a href="'+i((t.t||a&&a.t||s).call(a,"store.appStore",{name:"t",hash:{},data:l}))+'" class="link_app" target="_blank" data-kant-id="18"><span class="ico_ks ico_ios"></span>App Store</a></li><li><a href="'+i((t.t||a&&a.t||s).call(a,"store.googlePlay",{name:"t",hash:{},data:l}))+'" class="link_app" target="_blank" data-kant-id="19"><span class="ico_ks ico_and"></span>Google Play</a></li></ul><span class="ico_ks ico_arrow ico_arrow_down"></span></div>'},useData:!0});return a.wrap='<div class="_loginFooterAppsLayer tooltip_layer" style="display:none"></div>',a}(),registerView:function(){var a=t({compiler:[6,">= 2.0.0-beta.1"],main:function(){return'<div class="inner_profile_layer"><div data-part="register"></div></div>'},useData:!0});return a.wrap='<div class="layer_profile _layerContainer" style="left:50%;margin-left:-265px;"></div>',a}(),loginLayer:function(){var a=t({compiler:[6,">= 2.0.0-beta.1"],main:function(){return'<div class="inner_kakao_layer"><div data-part="view"></div></div>'},useData:!0});return a.wrap='<div class="layer_kakao _layerContainer"></div>',a}(),miniProfileForm:function(){var a=t({1:function(a,t,e,l){var s,i,n=t.helperMissing,r=this.escapeExpression;return'<div class="agree_check" style="margin-top: 10px"><span class="inner_agree"><input type="checkbox" class="inp_agree _agreePrivacy _check" id="agree"> <a href="'+r((i=null!=(i=t.account_required_privacy_agreement_url||(null!=a?a.account_required_privacy_agreement_url:a))?i:n,"function"==typeof i?i.call(a,{name:"account_required_privacy_agreement_url",hash:{},data:l}):i))+'" class="link_agree _privacyLink" target="_blank" data-kant-id="487">'+r((t.t||a&&a.t||n).call(a,"register.privacy.agreePrivacyLink",{name:"t",hash:{},data:l}))+'</a><label for="agree">'+(null!=(s=(t.t||a&&a.t||n).call(a,"register.privacy.agreePrivacyText",{name:"t",hash:{},data:l}))?s:"")+"</label></span></div>"},compiler:[6,">= 2.0.0-beta.1"],main:function(a,t,e,l){var s,i,n=t.helperMissing,r=this.escapeExpression;return'<fieldset><legend class="screen_out">'+r((t.t||a&&a.t||n).call(a,"miniRegister.nameLegend",{name:"t",hash:{},data:l}))+'</legend><div class="profile_box"><strong class="tit_share">'+r((t.t||a&&a.t||n).call(a,"miniRegister.nameLegend",{name:"t",hash:{},data:l}))+'</strong><p class="info_share">'+r((t.t||a&&a.t||n).call(a,"miniRegister.description",{name:"t",hash:{},data:l}))+'</p><div class="profile_info"><strong class="tit_profile">'+r((t.t||a&&a.t||n).call(a,"register.name.name",{name:"t",hash:{},data:l}))+' <span class="txt_profile">'+r((t.t||a&&a.t||n).call(a,"register.name.required",{name:"t",hash:{},data:l}))+'</span></strong><div class="desc_profile"><div class="_lastNameMarker profile_inp" data-id="_lastNameMarker"><label for="u_fstname" class="lab_input lab_name _lastNamePlaceholder">'+r((t.t||a&&a.t||n).call(a,"register.name.lastName",{name:"t",hash:{},data:l}))+'</label><input type="text" id="u_fstname" class="tf_input tf_name _text _lastName _checkModified" title="'+r((t.t||a&&a.t||n).call(a,"register.name.lastName",{name:"t",hash:{},data:l}))+'" value="'+r((i=null!=(i=t.display_name||(null!=a?a.display_name:a))?i:n,"function"==typeof i?i.call(a,{name:"display_name",hash:{},data:l}):i))+'"><div class="tooltip_wrap _tooltip" style="display:none"></div></div></div></div><div class="agree_check"><span class="inner_agree"><input type="checkbox" class="inp_agree _agreeTerms _check" id="chkAgree3"> <a href="http://www.kakao.com/ko/terms" target="_blank" class="link_agree _privacyLink" target="_blank" data-kant-id="1571">'+r((t.t||a&&a.t||n).call(a,"register.privacy.agreeTermsLink",{name:"t",hash:{},data:l}))+'</a><label for="chkAgree3">'+(null!=(s=(t.t||a&&a.t||n).call(a,"register.privacy.agreeTermsText",{name:"t",hash:{},data:l}))?s:"")+"</label></span></div>"+(null!=(s=t["if"].call(a,null!=a?a.showAgreePrivacy:a,{name:"if",hash:{},fn:this.program(1,l,0),inverse:this.noop,data:l}))?s:"")+'<div data-part="captcha"></div><div class="btn_group"><a href="#" class="btn_com btn_or _submit" data-kant-id="489">'+r((t.t||a&&a.t||n).call(a,"register.submit",{name:"t",hash:{},data:l}))+'</a> <button type="submit" class="btn_hide _submit" data-kant-id="489">'+r((t.t||a&&a.t||n).call(a,"register.submit",{name:"t",hash:{},data:l}))+'</button> <a href="#" class="btn_com btn_wh _cancel" data-kant-id="488">'+r((t.t||a&&a.t||n).call(a,"register.cancel",{name:"t",hash:{},data:l}))+"</a></div></div></fieldset>"},useData:!0});return a}(),profileForm:function(){var a=t({1:function(a,t,e,l){var s=t.helperMissing,i=this.escapeExpression;return'<div class="profile_info"><strong class="tit_profile">'+i((t.t||a&&a.t||s).call(a,"register.birth.birthday",{name:"t",hash:{},data:l}))+'</strong><div class="desc_profile"><div class="profile_inp profile_birthday _yearMarker" data-id="_yearMarker"><label for="u_year" class="lab_input lab_year _yearPlaceholder">'+i((t.t||a&&a.t||s).call(a,"register.birth.year",{name:"t",hash:{},data:l}))+'</label><input type="text" id="u_year" class="tf_input tf_year _birthYear _birthNo" value="" maxlength="4" title="'+i((t.t||a&&a.t||s).call(a,"register.birth.year",{name:"t",hash:{},data:l}))+'"><div class="tooltip_wrap _tooltip"></div></div><div class="profile_inp profile_birthday _monthMarker" data-id="_monthMarker"><label for="u_month" class="lab_input lab_date _monthPlaceholder">'+i((t.t||a&&a.t||s).call(a,"register.birth.month",{name:"t",hash:{},data:l}))+'</label><input type="text" id="u_month" class="tf_input tf_date _birthMonth _birthNo" value="" maxlength="2" title="'+i((t.t||a&&a.t||s).call(a,"register.birth.month",{name:"t",hash:{},data:l}))+'"><div class="tooltip_wrap _tooltip"></div></div><div class="profile_inp profile_birthday _dateMarker" data-id="_dateMarker"><label for="u_day" class="lab_input lab_date _datePlaceholder">'+i((t.t||a&&a.t||s).call(a,"register.birth.date",{name:"t",hash:{},data:l}))+'</label><input type="text" id="u_day" class="tf_input tf_date _birthDate _birthNo" value="" maxlength="2" title="'+i((t.t||a&&a.t||s).call(a,"register.birth.date",{name:"t",hash:{},data:l}))+'"><div class="tooltip_wrap _tooltip"></div></div><div class="profile_check"><input type="checkbox" id="u_ot" class="inp_check _birthType">&nbsp;<label for="u_ot" class="lab_check">'+i((t.t||a&&a.t||s).call(a,"register.birth.lunarCal",{name:"t",hash:{},data:l}))+'</label></div><div class="profile_check"><input type="checkbox" id="u_lm" class="inp_check _birthLeap">&nbsp;<label for="u_lm" class="lab_check">'+i((t.t||a&&a.t||s).call(a,"register.birth.leap",{name:"t",hash:{},data:l}))+"</label></div></div></div>"},3:function(a,t,e,l){var s,i=t.helperMissing,n=this.escapeExpression;return'<li class="_checkContainer"><input type="checkbox" id="chkAgree2" class="inp_check _check _agreePrivacy"><label for="chkAgree2" class="lab_check"><span class="ico_ks ico_check"></span><a href="'+n((s=null!=(s=t.account_required_privacy_agreement_url||(null!=a?a.account_required_privacy_agreement_url:a))?s:i,"function"==typeof s?s.call(a,{name:"account_required_privacy_agreement_url",hash:{},data:l}):s))+'" target="_blank" class="link_check _privacyLink" data-kant-id="682">'+n((t.t||a&&a.t||i).call(a,"register.privacy.agreePrivacyLink",{name:"t",hash:{},data:l}))+"</a>"+n((t.t||a&&a.t||i).call(a,"register.privacy.agreePrivacyText",{name:"t",hash:{},data:l}))+"</label></li>"},5:function(a,t,e,l){var s,i=t.helperMissing,n=this.escapeExpression,r="function";return' <strong class="tit_agree">'+n((t.t||a&&a.t||i).call(a,"register.alt.kakaoAccout",{name:"t",hash:{},data:l}))+'</strong><ul class="list_agree"><li class="_checkContainer"><input type="checkbox" id="chkAgree6" class="inp_check _check _agreeKaKaoBiographyCollect"><label for="chkAgree6" class="lab_check"><span class="ico_ks ico_check"></span><a href="'+n((s=null!=(s=t.account_optional_privacy_agreement_url||(null!=a?a.account_optional_privacy_agreement_url:a))?s:i,typeof s===r?s.call(a,{name:"account_optional_privacy_agreement_url",hash:{},data:l}):s))+'" target="_blank" class="link_check _privacyLink" data-kant-id="1572">'+n((t.t||a&&a.t||i).call(a,"register.kakaoAccount.profileAgreeLink",{name:"t",hash:{},data:l}))+"</a>"+n((t.t||a&&a.t||i).call(a,"register.kakaoAccount.profileAgreeText",{name:"t",hash:{},data:l}))+'</label></li><li class="_checkContainer"><input type="checkbox" id="chkAgree7" class="inp_check _check _agreeKaKaoMarketing"><label for="chkAgree7" class="lab_check"><span class="ico_ks ico_check"></span><a href="'+n((s=null!=(s=t.account_optional_event_agreement_url||(null!=a?a.account_optional_event_agreement_url:a))?s:i,typeof s===r?s.call(a,{name:"account_optional_event_agreement_url",hash:{},data:l}):s))+'" target="_blank" class="link_check _privacyLink" data-kant-id="1573">'+n((t.t||a&&a.t||i).call(a,"register.kakaoAccount.allowEventLink",{name:"t",hash:{},data:l}))+"</a>"+n((t.t||a&&a.t||i).call(a,"register.kakaoAccount.allowEventText",{name:"t",hash:{},data:l}))+"</label></li></ul>"},compiler:[6,">= 2.0.0-beta.1"],main:function(a,t,e,l){var s,i,n=t.helperMissing,r=this.escapeExpression,c="function";return'<div class="layer_head"><strong class="tit_subject">'+r((t.t||a&&a.t||n).call(a,"register.profileImage.makeProfile",{name:"t",hash:{},data:l}))+'</strong><p class="txt_subject">'+r((t.t||a&&a.t||n).call(a,"register.profileImage.description",{name:"t",hash:{},data:l}))+'</p></div><div class="layer_body"><form action="#" method="post" enctype="multipart/form-data" class="_profileForm"><fieldset class="fld_profile"><legend class="screen_out">'+r((t.t||a&&a.t||n).call(a,"register.alt.makeProfileArea",{name:"t",hash:{},data:l}))+'</legend><div class="profile_set"><div class="profile_img"><div class="img_profile link_thumb"><img src="" alt="" class="img_thumb _profileImage"></div><div class="btn_photo _profileImageEditBtnHover"><a href="#" class="btn_link _profileImageEditBtn" data-kant-id="20"><span class="ico_ks ico_photo">'+r((t.t||a&&a.t||n).call(a,"register.alt.profileImageEdit",{name:"t",hash:{},data:l}))+'</span></a><div class="covermenu_layer _profileImageEditLayer" style="display: none"><strong class="screen_out">'+r((t.t||a&&a.t||n).call(a,"register.alt.profileImageMenu",{name:"t",hash:{},data:l}))+'</strong><ul class="list_menuly"><li style="position:relative"><a href="#" class="link_menu" data-kant-id="21">'+r((t.t||a&&a.t||n).call(a,"register.profileImage.upload",{name:"t",hash:{},data:l}))+'</a> <input name="file_1" class="bg_file_upload _uploadInputForm" type="file" title="'+r((t.t||a&&a.t||n).call(a,"register.profileImage.profileImageUpload",{name:"t",hash:{},data:l}))+'" accept="image/png,image/bmp,image/jpeg"></li><li class="_btnDelete" style="display:none"><a href="#" class="link_menu" data-kant-id="22">'+r((t.t||a&&a.t||n).call(a,"register.profileImage.deleteImage",{name:"t",hash:{},data:l}))+'</a></li></ul></div></div></div><div class="profile_info fst"><strong class="tit_profile">'+r((t.t||a&&a.t||n).call(a,"register.name.name",{name:"t",hash:{},data:l}))+' <span class="txt_profile">'+r((t.t||a&&a.t||n).call(a,"register.name.required",{name:"t",hash:{},data:l}))+'</span></strong><div class="desc_profile"><div class="profile_inp _lastNameMarker" data-id="_lastNameMarker"><label for="u_fstname" class="lab_input lab_name _lastNamePlaceholder">'+r((t.t||a&&a.t||n).call(a,"register.name.lastName",{name:"t",hash:{},data:l}))+'</label><input type="text" id="u_fstname" class="tf_input tf_name _text _lastName _checkModified" title="'+r((t.t||a&&a.t||n).call(a,"register.name.lastName",{name:"t",hash:{},data:l}))+'" value="'+r((i=null!=(i=t.display_name||(null!=a?a.display_name:a))?i:n,typeof i===c?i.call(a,{name:"display_name",hash:{},data:l}):i))+'"><div class="tooltip_wrap _tooltip"></div></div></div></div>'+(null!=(s=t.unless.call(a,null!=a?a.account_use_agreement:a,{name:"unless",hash:{},fn:this.program(1,l,0),inverse:this.noop,data:l}))?s:"")+'<div class="profile_info story_url"><strong class="tit_profile">'+r((t.t||a&&a.t||n).call(a,"register.storyId.storyId",{name:"t",hash:{},data:l}))+'</strong><div class="desc_profile"><span class="profile_url">'+r((t.t||a&&a.t||n).call(a,"register.storyId.storyUrl",{name:"t",hash:{},data:l}))+'</span><div class="profile_inp _storyIdMarker" data-id="_storyIdMarker"><label for="u_url" class="lab_input lab_url _storyIdPlaceholder">'+r((t.t||a&&a.t||n).call(a,"register.storyId.placeholder",{name:"t",hash:{},data:l}))+'</label><input type="text" id="u_url" class="tf_input tf_url _storyId" value="" title="'+r((t.t||a&&a.t||n).call(a,"register.storyId.placeholder",{name:"t",hash:{},data:l}))+'"><div class="tooltip_wrap _tooltip"></div></div></div></div></div><div class="agree_check"><div class="agree_all _checkContainer"><strong class="tit_agree_all"><input type="checkbox" id="uAgreeall" class="inp_check _agreeAll"><label for="uAgreeall" class="lab_check"><span class="ico_ks ico_check"></span>'+r((t.t||a&&a.t||n).call(a,"register.privacy.agreeAll",{name:"t",hash:{},data:l}))+'</label></strong><p class="txt_agree">'+r((t.t||a&&a.t||n).call(a,"register.privacy.agreeAllMsg",{name:"t",hash:{},data:l}))+'</p></div><strong class="screen_out">'+r((t.t||a&&a.t||n).call(a,"register.alt.privacyAgreeList",{name:"t",hash:{},data:l}))+'</strong><ul class="list_agree"><li class="_checkContainer"><input type="checkbox" id="chkAgree3" class="inp_check _check _agreeTerms"><label for="chkAgree3" class="lab_check"><span class="ico_ks ico_check"></span><a href="http://www.kakao.com/ko/terms" target="_blank" class="link_check _privacyLink" data-skip-navigation="true" data-kant-id="1571">'+r((t.t||a&&a.t||n).call(a,"register.privacy.agreeTermsLink",{name:"t",hash:{},data:l}))+"</a>"+r((t.t||a&&a.t||n).call(a,"register.privacy.agreeTermsText",{name:"t",hash:{},data:l}))+"</label></li>"+(null!=(s=t["if"].call(a,null!=a?a.showAgreePrivacy:a,{name:"if",hash:{},fn:this.program(3,l,0),inverse:this.noop,data:l}))?s:"")+'<li class="_checkContainer"><input type="checkbox" id="chkAgree5" class="inp_check _check _agreeProfileInfoCollect"><label for="chkAgree5" class="lab_check"><span class="ico_ks ico_check"></span><a href="'+r((i=null!=(i=t.story_optional_privacy_agreement_url||(null!=a?a.story_optional_privacy_agreement_url:a))?i:n,typeof i===c?i.call(a,{name:"story_optional_privacy_agreement_url",hash:{},data:l}):i))+'" target="_blank" class="link_check _privacyLink" data-kant-id="682">'+r((t.t||a&&a.t||n).call(a,"register.privacy.agreeProfileInfoCollectLink",{name:"t",hash:{},data:l}))+"</a>"+r((t.t||a&&a.t||n).call(a,"register.privacy.agreeProfileInfoCollectText",{name:"t",hash:{},data:l}))+'</label></li><li class="_checkContainer"><input type="checkbox" id="chkAgree4" class="inp_check _check _agreeAllowEvents"><label for="chkAgree4" class="lab_check"><span class="ico_ks ico_check"></span><a href="'+r((i=null!=(i=t.story_optional_event_agreement_url||(null!=a?a.story_optional_event_agreement_url:a))?i:n,typeof i===c?i.call(a,{name:"story_optional_event_agreement_url",hash:{},data:l}):i))+'" target="_blank" class="link_check _privacyLink" data-kant-id="682">'+r((t.t||a&&a.t||n).call(a,"register.privacy.agreeAllowEventsLink",{name:"t",hash:{},data:l}))+"</a>"+r((t.t||a&&a.t||n).call(a,"register.privacy.agreeAllowEventsText",{name:"t",hash:{},data:l}))+"</label></li></ul>"+(null!=(s=t.unless.call(a,null!=a?a.account_use_agreement:a,{name:"unless",hash:{},fn:this.program(5,l,0),inverse:this.noop,data:l}))?s:"")+'</div><div data-part="captcha"></div><div class="btn_group"><a href="#" class="btn_com inactive _submit" data-kant-id="31">'+r((t.t||a&&a.t||n).call(a,"register.submit",{name:"t",hash:{},data:l}))+'</a> <button type="submit" class="btn_hide _submit" data-kant-id="31">'+r((t.t||a&&a.t||n).call(a,"register.submit",{name:"t",hash:{},data:l}))+'</button> <a href="#" class="btn_com btn_wh _cancel" data-kant-id="30">'+r((t.t||a&&a.t||n).call(a,"register.cancel",{name:"t",hash:{},data:l}))+"</a></div></fieldset></form></div>"},useData:!0});return a.wrap='<div data-kant-group="join"></div>',a}(),captcha:function(){var a=t({compiler:[6,">= 2.0.0-beta.1"],main:function(a,t,e,l){var s;return'<div class="captcha_desc"><p>'+this.escapeExpression((s=null!=(s=t.description||(null!=a?a.description:a))?s:t.helperMissing,"function"==typeof s?s.call(a,{name:"description",hash:{},data:l}):s))+'</p></div><div class="captcha_box"><div class="_captcha"></div></div>'},useData:!0});return a.wrap='<div class="captcha"></div>',a}(),tooltip:function(){var a=t({compiler:[6,">= 2.0.0-beta.1"],main:function(a,t,e,l){var s,i=t.helperMissing,n=this.escapeExpression;return'<span class="ico_ks ico_info">'+n((t.t||a&&a.t||i).call(a,"register.alt.profileWarningTitle",{name:"t",hash:{},data:l}))+'</span><div class="ly_tooltip up" style="left:auto;right:-11px;bottom:32px"><p>'+n((s=null!=(s=t.message||(null!=a?a.message:a))?s:i,"function"==typeof s?s.call(a,{name:"message",hash:{},data:l}):s))+'</p><span class="ico_ks arr" style="left:auto;right:18px"></span></div>'},useData:!0});return a}(),registerBox:function(){var a=t({compiler:[6,">= 2.0.0-beta.1"],main:function(a,t,e,l){var s,i=t.helperMissing,n=this.escapeExpression;return'<div class="_loginPageTitleWrapper" style="display:none"><strong class="img_login"><img class="thumb_g _loginPageMessageImg" width="271" height="124"></strong></div><div class="_loginViewTitleWrapper" style="display:none"><strong class="_registerDesc tit_subject tit_login">'+n((t.t||a&&a.t||i).call(a,"auth.loginBox.registerDescription",{name:"t",hash:{},data:l}))+'</strong></div><div class="box_start"><a href="#" class="_loginBoxLoginBtn link_start" data-kant-id="34"><strong class="tit_start">'+n((t.t||a&&a.t||i).call(a,"auth.loginBox.registerStoryBtn",{name:"t",hash:{},data:l}))+'</strong> <span class="txt_mail">'+n((s=null!=(s=t.displayId||(null!=a?a.displayId:a))?s:i,"function"==typeof s?s.call(a,{name:"displayId",hash:{},data:l}):s))+'</span> <span class="ico_ks ico_arr"></span></a><div class="login_differ"><a href="#" class="link_differ link_other _otherAccountLoginBtn" data-kant-id="35">'+n((t.t||a&&a.t||i).call(a,"auth.loginBox.tryOtherAccount",{name:"t",hash:{},data:l}))+'</a></div></div><a href="#" class="_loginBoxCloseBtn btn_close" data-kant-id="8" style="display:none"><span class="ico_ks ico_close">'+n((t.t||a&&a.t||i).call(a,"auth.loginBox.closeBtn",{name:"t",hash:{},data:l}))+"</span></a>"},useData:!0});return a.wrap='<div class="login_box"></div>',a}(),confirmPasswordLayer:function(){var a=t({compiler:[6,">= 2.0.0-beta.1"],main:function(a,t,e,l){var s,i=t.helperMissing,n=this.escapeExpression;return'<div class="inner_kakao_layer inner_kakao_layer1"><strong class="tit_subject tit_pw">'+n((t.t||a&&a.t||i).call(a,"auth.confirmPassword.description",{name:"t",hash:{},data:l}))+'</strong><form class="_confirmPasswordForm" action="#"><fieldset class="fld_login"><legend class="screen_out">'+n((t.t||a&&a.t||i).call(a,"auth.alt.confirmPasswordArea",{name:"t",hash:{},data:l}))+'</legend><p class="user_mailid _displayId">'+n((s=null!=(s=t.displayId||(null!=a?a.displayId:a))?s:i,"function"==typeof s?s.call(a,{name:"displayId",hash:{},data:l}):s))+'</p><div class="login_inp repw_inp"><label for="u_pass2" class="lab_login _confirmPasswordPlaceholder">'+n((t.t||a&&a.t||i).call(a,"auth.confirmPassword.placeholder",{name:"t",hash:{},data:l}))+'</label><input class="tf_login tf_password _confirmPasswordInput" name="password" type="password" id="u_pass2" title="'+n((t.t||a&&a.t||i).call(a,"auth.confirmPassword.placeholder",{name:"t",hash:{},data:l}))+'"> <input class="_confirmPasswordCallbackUrl" type="hidden" name="callback_url"> <input class="_confirmPasswordClientId" type="hidden" name="client_id"></div><p class="txt_error txt_error_v2 _confirmPasswordErrorText error_txt" style="display: none"></p><a href="#" class="_confirmPasswordBtn btn_ok" data-kant-id="36">'+n((t.t||a&&a.t||i).call(a,"auth.confirmPassword.submitBtn",{name:"t",hash:{},data:l}))+'</a> <button type="submit" class="_confirmPasswordBtn btn_hide" data-kant-id="36">'+n((t.t||a&&a.t||i).call(a,"auth.confirmPassword.submitBtn",{name:"t",hash:{},data:l}))+'</button></fieldset></form><a href="#" class="_confirmPasswordCloseBtn btn_close" data-kant-id="37"><span class="ico_ks ico_close">'+n((t.t||a&&a.t||i).call(a,"auth.loginBox.closeBtn",{name:"t",hash:{},data:l}))+"</span></a></div>"},useData:!0});return a.wrap='<div data-kant-group="acct" class="layer_kakao _layerContainer"></div>',a}()}});
define("part/plugin/CoverLayerPart",["module/static/cover","common/util"],function(t,i){var e=300,n=["#dialog","._profilePopup"],o=$(window);return space.Part.extend({skipGlobalEvents:!0,ui:{container:"._layerContainer"},options:{closeOnDocumentClick:function(t){this.closeOnDocumentClick=t},closeOnKeyDownEsc:function(t){this.closeOnKeyDownEsc=t},showOnRender:function(t){this.showOnRender=t},coverOptions:function(t){this._options=t}},showOnRender:!0,closeOnDocumentClick:!0,closeOnKeyDownEsc:!0,initialize:function(){this._clickInfo=null,this._options=null,this._coverToken=null},onRoute:function(){t.isTriggeredHide()||this.hide({isRoute:!0})},onRender:function(){var t=this;this.showOnRender&&this.listenTo(this,"renderAll",function(){t.show(t._options)})},show:function(i){i=i||{},this.isShown()||(this._coverToken=t.show(this.$el,i),this.listenTo(t,{resume:function(t){this._coverToken.getToken()===t&&(this.attachGlobalEvents(),this.trigger("resume"))},pause:function(t){this._coverToken.getToken()===t&&(this.detachGlobalEvents(),this.trigger("pause"))}}),this._options=i,_.defer(_.bind(this.attachGlobalEvents,this)),this.resize(),this.domReady(!0),this.trigger("show"))},resize:function(){var t,i;this.isShown()&&(this.ui.container.length?i=this.ui.container:this.$el.is("._layerContainer")&&(i=this.$el),i&&(t=Math.round(Math.max(o.height()/2-i.outerHeight(!0)/2,0)),i.css("top",t)))},hide:function(i){var e,n,o=!1;return i=i||{},this.isShown()?(n=i.isRoute&&this._options.isNavigated,e=this._coverToken.getToken(),i.isRoute||!this._options.isNavigated||i.preventNavigate?(o=n?t.hideOnce(e):t.hide(e),o?(this.detachGlobalEvents(),this.stopListening(t),this._options=null,this._coverToken=null,i.silent||this.trigger("hide"),!0):!1):(history.back(),!1)):!1},isShown:function(){return this._coverToken},onStop:function(){this.isShown()&&!this.hide()&&t.hide(this._coverToken.getToken(),!0)},documentEvents:{"mousedown,touchstart":function(t){t=agent.getTouchEvent(t),this._clickInfo={x:t.pageX,y:t.pageY}},"mouseup,touchend":function(t){t=agent.getTouchEvent(t),this._clickInfo&&(agent.isClick(this._clickInfo.x,this._clickInfo.y,t.pageX,t.pageY)&&this._onClick(t),this._clickInfo=null)},keydown:function(t){this.closeOnKeyDownEsc&&t.keyCode===i.KEY.ESC&&this.hide()}},windowEvents:{resize:_.throttle(function(){this.resize()},e)},_onClick:function(t){var i=$(t.target);this.closeOnDocumentClick&&(!this.$el||i.closest(this.$el).length||i.closest(n.join(",")).length||this.hide())}})});
define("module/static/registerView",["template/auth","part/plugin/CoverLayerPart","common/util"],function(t,e,i){var s=e.extend({template:t.registerView,skipGlobalEvents:!0,showOnRender:!1,closeOnDocumentClick:!1,events:{"click ._cancel":function(t){t.preventDefault(),this.hide()}},initialize:function(){this._prevTitle="",e.prototype.initialize.apply(this,arguments)},show:function(){this.addPart("register","part/auth/RegisterPart",{listeners:{domReady:function(){this.resize()}}}).next(function(){e.prototype.show.apply(this,arguments)}),this._prevTitle=document.title,document.title=intl.t("title.register")},hide:function(){this.isAvailableChildPart("register")&&this.removePart("register"),this._prevTitle&&(document.title=this._prevTitle,this._prevTitle=""),e.prototype.hide.apply(this,arguments)}});return new(space.StaticModule.extend({childParts:{storyProfileLayer:s},skipGlobalEvents:!0,onSetup:function(){this.listenTo(this.childParts.storyProfileLayer,{stopRegister:function(){this.hide()}})},documentEvents:{keydown:function(t){t.keyCode===i.KEY.ESC&&this.hide()}},show:function(){this.isShown()||(this.attachGlobalEvents(),this.childParts.storyProfileLayer.show(),this.domReady(!0))},hide:function(){this.isShown()&&(this.detachGlobalEvents(),this.childParts.storyProfileLayer.hide())},isShown:function(){return this.childParts.storyProfileLayer.isShown()}}))});
define("common/layout",[],function(){var t="#kakaoHead",e="#mSnb",n=65,i=260,u=null,r=null;return{getBottom:function(){return this.getGnbHeight()},getGnbHeight:function(){return this._ensureElement(),0===u.length?n:this._getFixedTop()+this._getHeight()},getRnbWidth:function(){return this._ensureElement(),0===r.length?0:this._getWidth()},DEFAULT_GNB_HEIGHT:n,DEFAULT_RNB_WIDTH:i,_ensureElement:function(){u&&0!==u.length||(u=$(t)),r&&0!==r.length||(r=$(e))},_getFixedTop:function(){return parseInt(u.css("top"),10)||0},_getHeight:function(){return u.outerHeight()||n},_getWidth:function(){return r.outerWidth()||i}}});
define("part/plugin/LayerPart",["common/util","common/layout"],function(t,s){var i=300,e=[],o=space.Part.extend({skipGlobalEvents:!0,DEFAULT_EXCEPTION_CLASSES:["_dialogOk","_dialogCancel"],styles:{bottom:"al_bot"},options:{button:"setButton",category:"setCategory",exceptionClass:"addExceptionClass",useEscKeyToClose:"setUseEscKeyToClose"},ui:{},initialize:function(){this._category=null,this._exceptionClasses=_.clone(this.DEFAULT_EXCEPTION_CLASSES),this._isShown=!1,this._$button=null,this._$window=$(window),this._clickInfo=null,this._useEscKeyToClose=!0,this._repositionOptions=null,this._isAlwaysTopSide=!1,this._adjustPositionOptions={}},isShown:function(){return this._isShown},show:function(t){if(this.$el){if(this._isShown)return void(t&&this.adjustPosition(t));this._category?_.each(e,function(t){t.getCategory()===this.getCategory()&&t.hide()},this):o.hideAllLayers(),this.$el.show(),this.attachGlobalEvents(),e.push(this),this._isShown=!0,t&&this.adjustPosition(t),this.trigger("show")}},hide:function(){if(this._isShown){this._isShown=!1,this._isAlwaysTopSide=!1,this.detachGlobalEvents(),this.$el&&this.$el.hide();for(var t=0,s=e.length;s>t;t++)if(e[t]===this){e.splice(t,1);break}this.trigger("hide")}},toggle:function(){this._isShown?this.hide():this.show.apply(this,arguments)},setButton:function(t){this._$button=t},addExceptionClass:function(s){var i;if(0===s.indexOf(".")&&(s=s.substr(1)),-1===s.indexOf(","))_.contains(this._exceptionClasses,s)||this._exceptionClasses.push(s);else{i=s.split(",");for(var e=0,o=i.length;o>e;e++)this.addExceptionClass(t.trim(i[e]))}},setCategory:function(t){this._category=t},getCategory:function(){return this._category},setUseEscKeyToClose:function(t){this._useEscKeyToClose=t},adjustPosition:function(t){var i,e,o,n,h,a,l,c,u,d=this.$el.outerHeight(),r=!1;t=this._adjustPositionOptions=_.extend(this._adjustPositionOptions,t),(t.baseTarget||this._$button)&&(i=t.offsetParent?$(t.offsetParent).get(0):this.$el.offsetParent().get(0),e=i.getBoundingClientRect().top,o=t.baseTarget?t.baseTarget instanceof $?t.baseTarget.get(0):t.baseTarget:this._$button.get(0),n=o.getBoundingClientRect(),h=n.top-(t.marginBottom||0),a=n.bottom+(t.marginTop||0),l=n.bottom-n.top,c=h-s.getBottom(),u=this._$window.height()-a,(t.isTopSide||this._isAlwaysTopSide||d>u&&c>=d)&&(r=!0,t.isKeepDirection&&(this._isAlwaysTopSide=!0)),t.topSideClass||t.bottomSideClass?r?this.$el.removeClass(t.bottomSideClass).addClass(t.topSideClass):this.$el.removeClass(t.topSideClass).addClass(t.bottomSideClass):r?this.$el.css("top",h-e-d):this.$el.css("top",a-e))},documentEvents:{"mousedown,touchstart":function(t){t=agent.getTouchEvent(t),this._clickInfo={x:t.pageX,y:t.pageY}},"mouseup,touchend":function(t){t=agent.getTouchEvent(t),this._clickInfo&&(agent.isClick(this._clickInfo.x,this._clickInfo.y,t.pageX,t.pageY)&&this._onClick(t),this._clickInfo=null)},keyup:function(s){s.keyCode===t.KEY.ESC&&this._useEscKeyToClose&&this.hide()}},windowEvents:{resize:_.throttle(function(){this._adjustPositionOptions.isAdjustOnResizing&&(this._isAlwaysTopSide=!1,this.adjustPosition(this._adjustPositionOptions))},i)},_onClick:function(t){var s=$(t.target),i=this._$button?!!s.closest(this._$button).length:!1;i||s.closest(this.$el).length||this._exceptionClasses.length>0&&s.closest("."+this._exceptionClasses.join(",.")).length>0||this.hide()}});return o.hideAllLayers=function(){_.invoke(e,"hide")},o});
define("common/tiaraUtil",[],function(){return{sendTiaraPv:function(e){var t=e&&e.url?e.url:location.href,n=e&&e.title?e.title:document.title,o="//track.tiara.kakao.com/queen/footsteps?referer="+encodeURIComponent(document.referrer||"")+"&url="+encodeURIComponent(t)+"&title="+encodeURIComponent(n)+"&dummy="+Math.round(1e5*Math.random()),r=new Image;r.src=o}}});
var kakao=kakao||{};kakao.weblogin=kakao.weblogin||{},kakao.weblogin.version="1.4.0",kakao.weblogin.messages={en:{error:"An unexpected error has occurred.\nThe error might have been caused by temporary errors in the server or in the network connection.\nThe Kakao Team is currently identifying and solving the problem.",invalid_access:"Invalid access. Please try again.",invalid_email:"Email address or password is not in the correct format.",invalid_password:"Password is not in the correct format."},ko:{error:"예상하지 못한 오류가 발생했습니다.\n서버의 일시적인 장애이거나 네트워크 문제일 수 있습니다.\n해당 오류는 카카오팀에서 확인 및 대응 중입니다.",invalid_access:"정상적인 접근이 아닙니다. 경로를 확인해 주세요.",invalid_email:"카카오계정 이메일 형식이 올바르지 않습니다.",invalid_password:"비밀번호 형식이 올바르지 않습니다.\n(4~16자리 숫자/기호/대소문자 가능, 공백 불가)"},ja:{error:"予期しないエラーが発生しました。\nサーバーの一時的な障害またはネットワークの問題である場合があります。該当エラーはカカオチームで確認しており、対応中です。",invalid_access:"正常なアクセスではありません。もう一度お試しください。",invalid_email:"Eメールアドレスまたはパスワードの形式が正しくありません。",invalid_password:"パスワードの形式が正しくありません。"}},kakao.weblogin.utils={getDoc:function(n){var a=null,e=function(n){window.console&&console.log(n)};try{n.contentWindow&&(a=n.contentWindow.document)}catch(t){e("cannot get iframe.contentWindow document: "+t)}if(a)return a;try{a=n.contentDocument?n.contentDocument:n.document}catch(t){e("cannot get iframe.contentDocument: "+t),a=n.document}return a},parse:function(n){var a={};"?"===n.charAt(0)&&(n=n.substr(1));var e=n.split("&");for(var t in e){var o=decodeURIComponent(e[t]),r=o.indexOf("=");if(-1!==r){var i=o.substr(0,r),l=o.substr(r+1);a[i]=l}}return a},createIframe:function(n,a){return $('<iframe name="'+n+'" src="about:blank" />').css({position:"absolute",top:"-1000px",left:"-1000px"}).appendTo("body").load(a)[0]},getAccountsDomain:function(n){var a=function(n,a){return-1!==n.indexOf(a,n.length-a.length)},e=".kakao.com";return a(window.location.host,".kakaocorp.cn")&&(e=".kakaocorp.cn"),(n?n+"-":"")+"accounts"+e},defaultCallBack:function(n,a){var e,t=kakao.weblogin.utils.getDoc(a);if(t&&"about:blank"!=t.location.href)try{e=kakao.weblogin.utils.parse(t.location.search)||{},0==e.status||e.message||(e.message=_messages.error),n.done(e)}catch(o){n.fail(o,o.message)}finally{n.always(),$(a).remove()}}},function(n){"function"==typeof define&&define.amd?define("kakaoLogin",["jquery"],n):n(window.jQuery)}(function(n){var a=function(n){return!n||!n.length||/^\s*$/.test(n)},e=function(n){return(n||"").replace(/^\s+|\s+$/g,"")};n.fn.verifyEmailPassword=function(n,t){var o,r;r=this;var i="_ifr_venp",l=jQuery.extend({url:"https://"+(t?t+"-":"")+"accounts.kakao.com/weblogin/verify_email_password",locale:"ko",before:function(){return!0},done:function(){},fail:function(n,a){alert(a||c.error)},always:function(){}},n),c=kakao.weblogin.messages[l.locale],u=function(){kakao.weblogin.utils.defaultCallBack(l,o)},s=function(){var n=/[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}/i,t=r.find("input[name=password]"),o=r.find("input[name=email]");return a(o.val())||!o.val(e(o.val())).val().match(n)?(l.fail("",c.invalid_email),!1):t.val().length<4?(l.fail("",c.invalid_password),!1):!0},d=function(){return s()||l.before()?(o=kakao.weblogin.utils.createIframe(i,u),r.attr("action",l.url),r.attr("target",o.name),r.attr("method","POST"),!0):(l.always(),!1)};return r.submit(function(n){return d(n)}),r},n.fn.verifyPassword=function(n,a){var e,t,o="ifr_vp";t=this;var r=jQuery.extend({url:"https://"+kakao.weblogin.utils.getAccountsDomain(a)+"/weblogin/verify_password",locale:"ko",before:function(){return!0},done:function(){},fail:function(){alert(i.error)},always:function(){}},n),i=kakao.weblogin.messages[r.locale],l=function(){kakao.weblogin.utils.defaultCallBack(r,e)},c=function(){return r.before()?(e=kakao.weblogin.utils.createIframe(o,l),t.attr("action",r.url),t.attr("target",e.name),t.attr("method","POST"),!0):(r.always(),!1)};return t.submit(function(n){return c(n)}),t},n.fn.kakaoLogin=function(t,o){var r,i,l,c,u=!1,s=null;_iframe_name="_ifr_kilo";var d=function(){var n="string"==typeof i.password;return n?r.find(i.password):i.password},f=function(){i.callback_url||(document.domain="kakao.com");var a,e=kakao.weblogin.utils.getDoc(s);if(e&&"about:blank"!=e.location.href)try{if(i.callback_url)a=kakao.weblogin.utils.parse(e.location.search);else{var t=e.body?e.body:e.documentElement;responseText=t?t.innerHTML:null;var a=n.parseJSON(responseText.trim())}if(-481==a.status)return void(location.href=i.url_captcha+"?continue="+encodeURIComponent(i.continue_url));if(-488==a.status){var o=n('<form style="display: none;"></form>');o.attr("method","post"),o.attr("action",i.url_dormant+"?continue="+encodeURIComponent(i.continue_url));var r={email:i.email.val(),password:d().val()};return r["continue"]=i.continue_url,n.each(r,function(a,e){var t=n("<input></input>");t.attr("type","hidden"),t.attr("name",a),t.attr("value",e),o.append(t)}),n(document.body).append(o),void o.submit()}if(-476==a.status||-477==a.status||-478==a.status){var l=n('<form style="display: none;"></form>');l.attr("method","post"),l.attr("action",i.url_restricted_reason+"?continue="+encodeURIComponent(i.continue_url));var c={email:i.email.val(),password:d().val()};return c["continue"]=i.continue_url,n.each(c,function(a,e){var t=n("<input></input>");t.attr("type","hidden"),t.attr("name",a),t.attr("value",e),l.append(t)}),n(document.body).append(l),void l.submit()}i.done(a)}catch(u){i.fail(u,u.message)}finally{m()}},m=function(){i.always(),s&&n(s).remove(),u=!1,d().val("")},p=function(){return i.login()&&k()?(s=kakao.weblogin.utils.createIframe("_ifr_kilo",f),r.attr("action",i.url),r.attr("target",s.name),r.attr("method","POST"),i.callback_url&&i.el_cb_url.val(i.callback_url),!0):(m(),!1)},k=function(){for(var n in c)if(!c[n]())return!1;return!0};r=this;var i=jQuery.extend({el_cb_url:n('<input type="hidden" name="callback_url" />'),el_script_version:n('<input type="hidden" name="scriptVersion" value="'+kakao.weblogin.version+'"/>'),locale:"ko",email:r.find('input[name="email"]'),password:'input[name="password"]',continue_url:r.find('input[name="continue"]').val(),remember:r.find('input[name="remember"]'),url:"https://"+kakao.weblogin.utils.getAccountsDomain(o)+"/weblogin/authenticate",url_captcha:"https://"+kakao.weblogin.utils.getAccountsDomain(o)+"/weblogin/main_captcha",url_dormant:"https://"+kakao.weblogin.utils.getAccountsDomain(o)+"/weblogin/dormant_account",url_restricted_reason:"https://"+kakao.weblogin.utils.getAccountsDomain(o)+"/weblogin/restricted_reason",done:function(n){0==n.status?location.href=i.continue_url:i.error(n.message)},fail:function(){alert(l.error)},always:function(){},error:function(n){alert(n)},login:function(){return!0}},t),l=kakao.weblogin.messages[i.locale],c=[function(){var n=/[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}/i,t=d().val();return a(i.email.val())||!i.email.val(e(i.email.val())).val().match(n)?(i.error(l.invalid_email),!1):t.length<4?(i.error(l.invalid_password),!1):-1==i.continue_url.indexOf("kakao.com")&&-1==i.continue_url.indexOf("kakaocorp.cn")?(i.error(l.invalid_access),!1):!0}];return r.submit(function(n){return u?!1:(u=!0,p(n))}),function(){return i.callback_url&&r.append(i.el_cb_url),r.append(i.el_script_version),i.validator&&c.push(i.validator),r}()}});
define("part/auth/LoginBoxPart",["template/auth","part/plugin/LayerPart","config","common/tiaraUtil","common/urlUtil","common/loginEmail","kakaoLogin"],function(t,i,e,o,n,l){var a={SUCCESS:0},s={PAGE:"page",LAYER:"layer",POPUP:"popup"},r=i.extend({template:t.emailTooltipLayer}),c={DOWN:"down"},u=i.extend({template:t.createAccountLayer,styles:{directionDown:"down"},setDirection:function(t){this.$el.toggleClass(this.styles.directionDown,t===c.DOWN)}}),h=space.Part.extend({template:t.loginBox,ui:{loginTitle:"._loginTitle",form:"._loginBoxForm",emailInput:"._loginBoxEmailInput",emailPlaceholder:"._loginBoxEmailPlaceholder",emailTooltipBtn:"._loginBoxEmailTooltipBtn",passwordInput:"._loginBoxPasswordInput",passwordPlaceholder:"._loginBoxPasswordPlaceholder",errorText:"._loginBoxErrorText",loginBtn:"._loginBoxLoginBtn",loginViewTitleWrapper:"._loginViewTitleWrapper",loginPageTitleWrapper:"._loginPageTitleWrapper",loginPopupTitleWrapper:"._loginPopupTitleWrapper",closeBtn:"._loginBoxCloseBtn"},styles:{emailTooltipBtnClose:"close",loginBtnIng:"ing"},options:{display:"setDisplay",continueUrl:"setContinueUrl"},initialize:function(){this._display=s.PAGE,this._continueUrl=n.getOrigin(),this._isFromChannel=!1},onRender:function(){this.addPart("emailPlaceholder","part/plugin/PlaceholderPart",{selector:"._loginBoxEmailInput",options:{placeholder:this.ui.emailPlaceholder}}).next(function(){this.childParts.emailPlaceholder.update()}),this.addPart("passwordPlaceholder","part/plugin/PlaceholderPart",{selector:"._loginBoxPasswordInput",options:{placeholder:this.ui.passwordPlaceholder}})},onDomReady:function(){var t=this;this.ui.form.kakaoLogin({locale:"ko",continue_url:this._continueUrl,callback_url:n.getOrigin()+e.dummyPage,login:function(){return t.ui.loginBtn.addClass(t.styles.loginBtnIng),t.ui.loginBtn.attr("disabled","disabled"),t.ui.loginBtn.text(intl.t("auth.loginBox.loginBtnIng")),!0},always:function(){t.ui.loginBtn.removeClass(t.styles.loginBtnIng),t.ui.loginBtn.removeAttr("disabled")},error:function(i){t.ui.errorText.html(i).hide().fadeIn(),t.ui.loginBtn.text(intl.t("auth.loginBox.loginBtn"))},done:function(i){parseInt(i.status,10)===a.SUCCESS?t.trigger("loginComplete",t.ui.emailInput.val()):(t.ui.errorText.text(i.message.replace(/\.\r?([^\n])/g,".\n$1")).hide().fadeIn(),t.ui.loginBtn.text(intl.t("auth.loginBox.loginBtn")))}},e.kakaoLogin.phase)},events:{"click ._loginBoxEmailTooltipBtn":function(t){t.preventDefault(),this.addPart("emailTooltipLayer",r,{selector:"._emailTooltipContainer",options:{exceptionClass:"_loginBoxEmailTooltipBtn"},listeners:{show:function(){this.ui.emailTooltipBtn.addClass(this.styles.emailTooltipBtnClose)},hide:function(){this.ui.emailTooltipBtn.removeClass(this.styles.emailTooltipBtnClose)}}}).next(function(){this.childParts.emailTooltipLayer.toggle()})},"click ._createAccountToggleBtn":function(t){t.preventDefault(),this.addPart("createAccountLayer",u,{selector:"._createAccountLayerContainer",options:{exceptionClass:"_createAccountToggleBtn"}}).next(function(){this.childParts.createAccountLayer.setDirection(c.DOWN),this.childParts.createAccountLayer.toggle()})},"click ._createAccountBtn":function(t){t.preventDefault(),this._openKakaoAccountPage(e.kakaoLogin.createAccount)},"click ._findEmailBtn":function(t){t.preventDefault(),this._openKakaoAccountPage(e.kakaoLogin.findEmail)},"click ._findPasswordBtn":function(t){t.preventDefault(),this._openKakaoAccountPage(e.kakaoLogin.findPassword)},"click ._loginBoxLoginBtn":function(t){t.preventDefault(),this.ui.form.submit()},"click ._loginBoxCloseBtn":function(t){t.preventDefault(),this.trigger("close")}},show:function(){var t=intl.t(this._isFromChannel?"auth.loginBox.channelLoginTitle":"auth.loginBox.loginTitle");switch(this._display){case s.LAYER:this.ui.loginViewTitleWrapper.show();break;case s.POPUP:this.ui.loginPopupTitleWrapper.show();break;case s.PAGE:this.ui.loginPageTitleWrapper.show()}this.ui.loginTitle.html(t),this.ui.closeBtn.toggle(this._display===s.LAYER),this.$el.show(),this._resetForm(),l.hasEmail()?(this.ui.emailInput.val(l.load()),this.isAvailableChildPart("emailPlaceholder")&&this.childParts.emailPlaceholder.update(),this.ui.passwordInput.focus()):this.ui.emailInput.focus(),_.defer(o.sendTiaraPv),this.trigger("show")},_resetForm:function(){this.isRendered()&&this.ui.form[0].reset(),this.isAvailableChildPart("emailPlaceholder")&&this.childParts.emailPlaceholder.update(),this.isAvailableChildPart("passwordPlaceholder")&&this.childParts.passwordPlaceholder.update(),this.ui.errorText.hide()},setDisplay:function(t){this._display=t},setContinueUrl:function(t){this._continueUrl=t},setIsFromChannel:function(t){this._isFromChannel=t},getOffsetTop:function(){return this.$el.offset().top},_openKakaoAccountPage:function(t){var i=e.kakaoLogin.pageUrl+t+"?continue="+this._continueUrl;this._display===s.POPUP?window.open(i):location.href=i}});return h.LOGIN_STATUS=a,h.LOGIN_DISPLAY_TYPE=s,h});
define("module/static/loginView",["template/auth","model/me","module/static/registerView","module/static/dialog","part/auth/LoginBoxPart","part/plugin/CoverLayerPart","common/util","common/kantUtil","common/mobileAppLink","common/loginEmail","common/api"],function(t,i,e,n,o,s,r,a,h,l,c){var d=s.extend({template:t.loginLayer,showOnRender:!1,initialize:function(){s.prototype.initialize.call(this,arguments),this._part=null,this._redirectUrl=null,this._isFromChannel=!1},onSetup:function(){var t=this;return i.fetch().then(function(){t._setLoginPart()})},_setLoginPart:function(){var t=this._part;this._part=i.isLoggedIn()&&!i.isRegistered()?"part/auth/RegisterBoxPart":"part/auth/LoginBoxPart",t!==this._part&&this.isRendered()&&this.render()},show:function(t){this._redirectUrl=t&&t.redirectUrl,this._isFromChannel=t&&t.isFromChannel,this._setLoginPart(),s.prototype.show.apply(this,arguments),this._isFromChannel&&this.childParts.view.setIsFromChannel(this._isFromChannel),this.isAvailableChildPart("view")&&(this.childParts.view.show(),a.sendPageView("lgil"))},onRender:function(){var t=this;this.addPart("view",this._part,{options:{display:o.LOGIN_DISPLAY_TYPE.LAYER,continueUrl:location.href},listeners:{loginComplete:function(t){var n=this;c.removeStaticResponse("/profiles/me"),i.fetch().then(function(){n._redirectUrl?location.href=n._redirectUrl:i.isRegistered()?(l.save(t),n._isFromChannel?(u.hide(),n.trigger("channelLogin")):location.reload()):i.isLoggedIn()?i.isStoryPlus()?location.href="/s/login":(u.hide(),n._isFromChannel?n.trigger("channelLogin"):e.show()):location.href="/s/logout"})},close:function(){this.trigger("close"),t._redirectUrl=null},domReady:function(){this.resize()}}}),s.prototype.onRender.apply(this,arguments)}}),u=new(space.StaticModule.extend({childParts:{layer:d},skipGlobalEvents:!0,documentEvents:{keydown:function(t){t.keyCode===r.KEY.ESC&&this.hide()}},onSetup:function(){this.listenTo(this.childParts.layer,{close:function(){this.hide()},channelLogin:function(){this.trigger("channelLogin")}})},show:function(t){this.isShown()||(this.attachGlobalEvents(),this.childParts.layer.show(t),this.domReady(!0))},hide:function(){this.isShown()&&(this.detachGlobalEvents(),this.childParts.layer.hide())},isShown:function(){return this.childParts.layer.isShown()}}));return u});
define("module/static/loginViewConfirm",["model/me","module/static/dialog","module/static/loginView","common/urlUtil","config"],function(n,o,e,i,t){return new(space.StaticModule.extend({show:function(){return n.isLoggedIn()?n.isRegistered()?void 0:e.show():o.confirm(intl.t("auth.loginBox.loginTitle"),null,{reversedButton:!0}).then(function(){location.href=i.appendQueryString(t.kakaoLogin.loginUrl,{"continue":encodeURIComponent(location.href)})})}}))});
define("module/static/error",["initialData","template/error","model/RecommendHashtagsInPost","module/static/dialog","module/static/loginViewConfirm","model/me","model/Profile","config"],function(e,t,n,i,r,o,s,a){var c={ERROR_50X:"error50x",ERROR_40X:"error40x",NOT_FOUND_MYSTORY:"notFoundMyStory"},l=6,u=space.StaticModule.extend({PAGE:c,styles:{postContent:"cont_detail"},initialize:function(){var e=agent.type.is.desktop?"#kakaoBody":"#kakaoContent";this._$container=$(e),this._$window=$(window),this._isShownDialog=!1,this._isShown=!1,this._isRedirecting=!1,this._profileId=null},_getErrorObjectFromReason:function(e,t){e=e||{};var n=0,i="",r="",o=e.responseJSON,s="",a=e.status||0;return _.isObject(o)?(i=o.error||"",n=o.error_code||0,r=o.error_message||t.message):r=e.error_message||e.message||t.message||o,_.isObject(r)&&(r=this._getValueByStatus(r,a)),_.isFunction(r)&&(r=r(a,n,s)||""),r||(s=n||i,r=intl.t("error.unknownError",{codeName:s?"["+s+"] ":""})),_.isFunction(t.page)?t.page=t.page(a,n,s):_.isObject(t.page)&&(t.page=this._getValueByStatus(t.page,a)),_.isFunction(t.redirect)?t.redirect=t.redirect(a,n,s):_.isObject(t.redirect)&&(t.redirect=this._getValueByStatus(t.redirect,a)),!_.isFunction(t.events)&&_.isObject(t.events)&&(t.events=this._getValueByStatus(t.events,a)),{code:n,status:a,message:r,errorName:i}},_getValueByStatus:function(e,t){var n="";return n=e[t]?e[t]:"undefined"!=typeof e["*"]?e["*"]:""},getHandler:function(e){var t=this;return e=_.defaults(e||{},{message:"",page:"",redirect:"",events:"",dialog:!0,loginRequired:!0,loginRedirect:!1}),function(n){var i=t._getErrorObjectFromReason(n,e),r=Q.resolve(i);return 503===i.status?location.href="/":e.loginRedirect?r=r.then(function(n){return t._loginRedirectHandler(n,e)}):e.events?r=r.then(function(i){return t._eventsHandler(i,e,n)}):e.page?r=r.then(function(n){return t._pageHandler(n,e)}):e.redirect?r=r.then(function(n){return t._redirectHandler(n,e)}):e.loginRequired!==!1&&t._isNotLoggedIn(i)&&404!==i.status&&500!==i.status?r=r.then(function(n){return t._loginHandler(n,e)}):e.dialog&&(r=r.then(function(n){return t._dialogHandler(n,e)})),r.then(function(){return Q.reject(n)})}},_loadRecommendHashtag:function(){var e=new n,t=l;return this.flow.forkWith(e.fetch(t)).next(function(t){t.length>=l&&this.addPart("recommendHashtags","part/post/RecommendHashtagsPart",{isReplace:!0,selector:"._recommendHashtags",options:{collection:e,isInErrorPage:!0}})})},_pageHandler:function(e,n){var i="error."+n.page,r=intl.t(i+".title"),o=intl.t(i+".content"),s=t[n.page];o&&(o=_.reduce(o.split("\n\n"),function(e,n){return e+t.content({content:n},"")}));var a=$(s({title:r,content:o,message:e.message||n.message||""}));return this.setElement(a),this.show(),this._loadRecommendHashtag(),this.trigger("pageError"),e},_dialogHandler:function(e){return this._showDialog(e.message).then(function(){return e})},_eventsHandler:function(e,t,n){return _.isObject(t.events)&&t.events.context&&t.events.context.trigger(t.events.name,n.responseJSON),Q.resolve()},_redirectHandler:function(e,t){var n=this;return this._isRedirecting?Q.resolve():(this._isRedirecting=!0,space.Router.navigate(t.redirect).then(function(){n._isShownDialog=!1,n._isRedirecting=!1}))},_loginHandler:function(t,n){return this._isNotLoggedIn(t)?e.isLoginRequired()?(location.href=a.kakaoLogin.loginUrl,Q.reject()):(o.setLoggedIn(!1),r.isShown()||(!agent.type.is.desktop&&n&&(n.mobileAppScheme||n.isLaunchAppByUrl)?r.show({mobileAppScheme:n.mobileAppScheme,isLaunchAppByUrl:n.isLaunchAppByUrl}):r.show()),Q.reject()):t},_loginRedirectHandler:function(e){return this._isNotLoggedIn(e)&&(o.setLoggedIn(!1),location.href="/"),e},_isNotLoggedIn:function(e){return 401===e.status||!o.isRegistered()},_showDialog:function(e){var t=this;return this._isShownDialog?Q.resolve():(this._isShownDialog=!0,i.alert(e).then(function(){t._isShownDialog=!1}))},show:function(){if(!this.isShown()){var e=_.last($("body, #kakaoWrap, #mArticle, #errorPage"));this._isShown=!0,this._$container.hide(),this.$el.appendTo(e),agent.type.is.desktop||$("#kakaoWrap").removeClass(this.styles.postContent)}},hide:function(){this.$el.detach(),this._$container.css("display",""),this._isShown=!1},isShown:function(){return this._isShown},onRoute:function(e,t){var n;"error"===e?(n=this.getHandler({page:c.ERROR_40X}))():"post"===e?this._profileId=t[0]:this.hide()},events:{"click ._btnHome":function(e){e.preventDefault(),location.href="/"},"click ._btnBack":function(e){e.preventDefault(),history.back()},"click ._btnRequestFriendInErrorPage":function(e){if(e.preventDefault(),null!==this._profileId){var t=new s({id:this._profileId});t.invite().then(function(){$(e.currentTarget).hide()}).fail(this.getHandler({isLaunchAppByUrl:!0}))}}}});return new u});
define("common/mobileAppLink",["config","phaseConfig","common/api","common/urlUtil","common/util","common/kantUtil","module/static/error"],function(e,t,n,i,o,r,a){function p(e,n){var i={};return _.each(t.schemeOrigin,function(t,o){i[o]=e(_.extend({origin:t},n))}),i}function s(e){return _.isUndefined(e)||_.contains(P,e)?null:_.clone(C[e])}function u(e){return n.request({url:S,type:"GET",data:{url:e}}).then(function(e){return e.response})}function c(e,t,i){return n.request({url:S,type:"GET",data:{t:e,v:t,vo:i}}).then(function(e){return e.response})}function l(e,t,i){return n.request({url:T,type:"GET",data:{t:e.join(","),v:t.join(","),vo:i}}).then(function(t){return _.reduce(e,function(e,n,i){return e[n]=t.response[i],e},{})})}function f(){return!agent.app.is.story&&agent.isIosVersion("9~")&&(agent.browser.is.safari||_.contains(R,agent.app.name))?x.ULINK:agent.os.is.ios?x.SCHEME:agent.os.is.android?x.INTENT:x.OTHER}function d(e){return Q.promise(function(t){return t(s(e.type)||(_.isArray(e.type)?l(e.type,e.value,e.valueOnly):e.url?u(e.url):c(e.type,e.value,e.valueOnly)))})}function m(e){function n(e){function t(e){for(var t;t=e.pop();)clearTimeout(t)}return _.isString(e)?void(_.isArray(c[e])&&t(c[e])):void _.each(c,t)}function p(e){var n=i.stripQueryString(e.replace(E,t.schemeOrigin.scheme));return i.appendQueryString(e,{cookie_key:v,fallback_url:encodeURIComponent(n)})}function s(){U=!0,o.setCookie(O,b,_.now()+g,location.hostname)}function u(){return(65536*(1+Math.random())|0).toString(16).substring(1)}var c={before:[],open:[]},l=500,f=211,d=150,m=k/f|0,g=864e5,h=null,v="_"+u();return $(window).on("pagehide beforeunload blur",n),{before:function(){for(var t=1;m>=t;t++)c.before.push(_.delay(function(){h?(n("before"),h()):t===m&&(n("before"),e===x.ULINK&&(s(),r.send("error."+e),a.getHandler({message:intl.t("error.mobileAppLink.networkError")})().fin(function(){location.reload()})))},f*t))},open:function(t,n){h=function(){var i=t.store,r=e===x.ULINK,a=+new Date;location.href=r?p(t.app):t.app,r&&c.open.push(setTimeout(function(){var e=decodeURIComponent(o.getCookie(v));y.test(e)&&(r=!1,s())},d)),agent.app.is.story||c.open.push(_.delay(function(){var e=+new Date;!r&&k>e-a&&n&&(i&&n.isStoreRedirection?location.href=i:n.alternativeUrl&&(location.href=n.alternativeUrl))},l)),setTimeout(function(){r&&(_.isFunction(n.reload)?n.reload():location.reload())},k),h=null},e===x.SCHEME&&0===c.before.length&&h()},after:function(){n()}}}var g="#Intent",h="intent://",v="/share",y=new RegExp("^"+t.schemeOrigin.scheme),E=new RegExp("^"+t.schemeOrigin.ulink),k=997,I=new RegExp("^"+t.schemeOrigin.scheme+"profiles/([0-9]*)$"),S="/webtoapp",T="/webtoapp_multi",R=["daum","naver","talk"],w=!1,O="__ignoreUlink",b="1",U=!!o.getCookie(O),N={feeds:_.template("<%=origin%>"),messages:_.template("<%=origin%>messages"),writing:_.template("<%=origin%>writing"),writingWithPhoto:_.template("<%=origin%>writing/photo"),writingWithVideo:_.template("<%=origin%>writing/video"),invited:_.template("<%=origin%>friendship/invited"),profile:_.template("<%=origin%>settings/profile"),answers:_.template("<%=origin%>settings/profile/answers"),toMessageSend:_.template("<%=origin%>messages/send/<%=profile_id%>"),toQuestion:_.template("<%=origin%>profiles/<%=profile_id%>/questions?from=feed"),toGroup:_.template("<%=origin%>group/<%=group_id%>"),toFriends:_.template("<%=origin%>profiles/<%=profile_id%>/friends"),toQNA:_.template("<%=origin%>profiles/<%=profile_id%>/answers"),toProfile:_.template("<%=origin%>profiles/<%=profile_id%>/biography"),toActivityReport:_.template("<%=origin%>report/activity?notifiable_id=<%=activity_id%>&abuser_id=<%=profile_id%>"),toCommentReport:_.template("<%=origin%>report/activity?notifiable_id=<%=comment_id%>&abuser_id=<%=profile_id%>&activity_id=<%=activity_id%>&text=<%=text%>"),easyFriends:_.template("<%=origin%>activities/<%=activity_id%>/easy_friend_edit"),close:_.template("<%=origin%>story/close"),storyTellerHome:_.template("<%=origin%>storyteller")},A={ios:{app:"https://itunes.apple.com/kr/app/id486244601",web:"https://itunes.apple.com/kr/app/id486244601"},android:{app:"market://details?id=com.kakao.story",web:"https://play.google.com/store/apps/details?id=com.kakao.story"}},C={MESSAGE:p(N.messages),FEEDS:p(N.feeds),WRITING:p(N.writing),WRITING_WITH_PHOTO:p(N.writingWithPhoto),WRITING_WITH_VIDEO:p(N.writingWithVideo),ANSWERS:p(N.answers),INVITED:p(N.invited),MYPROFILE:p(N.profile),CLOSE:p(N.close),STORY_TELLER_HONE:p(N.storyTellerHome)},P={PROFILE:"p",ACTIVITY:"a",GROUP:"g"},H=_.reduce(_.keys(C),function(e,t){return e[t]=t,e},{}),L=_.extend({},P,H),x={SCHEME:"scheme",INTENT:"intent",ULINK:"ulink",OTHER:"other"},D={ios:A.ios.app,android:A.android.app,other:e.serviceUrl.story},F=_.extend({other:e.serviceUrl.story},C.FEEDS),M={DEFAULT:"app",NO_STORE_REDIRECTION:"nsr"},W={TO_QUESTION:function(e){return p(N.toQuestion,{profile_id:e})},TO_GROUP:function(e){return p(N.toGroup,{group_id:e})},MESSAGE_SEND:function(e){return p(N.toMessageSend,{profile_id:e})},SHARE:function(e){return function(t){var n=v;return e&&(n=i.appendQueryString(n,{timehop_key:e})),t.intent=t.intent.replace(/^(.*?)(#Intent;.+)?$/i,function(e,t,i){return t+n+(i||"")}),t.scheme=t.scheme+n,t.ulink=t.ulink+n,t}},QNA_ANSWER:function(e,t){return function(n){var i=e.replace(t,function(e,t){return e.replace(t,n.value)});return{intent:i,scheme:i,ulink:i.replace(N.ios.scheme,N.ulink.scheme+"/")}}},FRIENDS:function(e){return p(N.toFriends,{profile_id:e})},QNA:function(e){return p(N.toQNA,{profile_id:e})},PROFILE:function(e){return p(N.toProfile,{profile_id:e})},ACTIVITY_REPORT:function(e,t){return p(N.toActivityReport,{profile_id:e,activity_id:t})},COMMENT_REPORT:function(e,t,n,i){return p(N.toCommentReport,{comment_id:n,profile_id:e,activity_id:t,text:i})},EASY_FRIENDS:function(e){return p(N.easyFriends,{activity_id:e})}},G={scheme:m(x.SCHEME),ulink:m(x.ULINK),intent:{before:_.noop,open:function(e,n){var i,o,r=e.app,a=e.store,p=800,s=1500;return r.indexOf(t.androidIntentPostfix)<0&&r.indexOf(g)<0&&(r+=t.androidIntentPostfix),0===r.indexOf("intent")||n&&n.openInCurrentWindow?(!n.isStoreRedirection&&n&&n.alternativeUrl&&(r=Y(r,n.alternativeUrl)),void(location.href=r)):(setTimeout(function(){var e=(new Date).getTime();e-o>s||document.webkitHidden!==!0&&n&&(a&&n.isStoreRedirection?location.href=a:n.alternativeUrl&&(location.href=n.alternativeUrl))},p),i=window.open(r),o=(new Date).getTime(),void(i&&i.close()))},after:_.noop},other:{before:_.noop,open:function(e){location.href=e},after:_.noop}},V=function(e){return{scheme:"storylink://posting/?post="+e+"&appid=story.kakao.com&appver=1&apiver=1.0&appname=story.kakao.com",intent:"intent://posting/?post="+e+"&appid="+location.hostname+"&appver=1&apiver=1.0&appname=story.kakao.com#Intent;package=com.kakao.story;action=android.intent.action.VIEW;scheme=storylink;end;",ulink:"https://al-story.kakao.com/storylink/posting/?post="+e+"&appid=story.kakao.com&appver=1&apiver=1.0&appname=story.kakao.com"}},Y=function(t,n){return t=t.replace(/(end;)$/,"S.browser_fallback_url="+encodeURIComponent(e.storyUrl+n)+";end;")};return{openStoryApp:function(e){return e=e||{},e.type||e.url||(e.scheme=_.clone(F)),e.isStory=!0,this.openApp(e)},openApp:function(e){var t,n=f(),i={},o=!1,a=U;return w?void 0:(w=!0,agent.app.is.facebook&&(a=!0,o=!0),!e.isStoreRedirection&&agent.app.is.talk&&(a=!0),(agent.app.is.naver||agent.app.is.daum)&&(a=!0),e=_.defaults(e||{},{isStoreRedirection:!0,isIgnoreULink:a,openInCurrentWindow:o}),n===x.ULINK&&e.isIgnoreULink&&(n=x.SCHEME),r.send("app.open",{app_list_type:n}),G[n]&&G[n].before&&G[n].before(e),t=e.scheme?Q.resolve(e.scheme):d(e),t.then(function(t){return _.isFunction(e.updateScheme)&&(t=e.updateScheme(t)),t&&y.test(t.intent)&&(t.intent=t.intent.replace(y,h)),t}).then(function(t){var o,r=e.store,a=agent.os.name;return e.isStory&&(t=_.defaults(t||{},F),r=D),o=t&&t[n],_.isUndefined(o)?Q.reject(i):void(G[n]&&G[n].open&&G[n].open({app:o,store:r[a]},e))}).fail(function(t){return t===i&&e.other?void(location.href=e.other):Q.reject(t)}).then(function(){_.delay(function(){w=!1},k)},function(){w=!1}))},shareContentByStoryApp:function(e){var t=V(e+" ");return this.openStoryApp({scheme:t})},getProfileId:function(e){var t=I.exec(e);return t&&t[1]},getActivityId:function(e){return c(P.ACTIVITY,e,!0).then(function(e){return e&&e.value})},TYPE:L,UPDATE_SCHEMES:W,REDIRECTION_TYPE:M}});
define("widget/follow",["model/Profile","common/urlUtil","common/kantUtil","common/api","common/mobileAppLink","initialData"],function(e,o,n,t,i,l){var r=o.getObjectFromQueryString(location.search.substr(1)),d=!1,a=!1;r&&r.id&&(r.id=decodeURIComponent(r.id));var f=new e({id:r.id});r.type||(r.type="horizontal");var c="/profiles/"+encodeURIComponent(r.id),s={HORIZONTAL:"widget_ch1",VERTICAL:"widget_ch2",FOLLOWED:"v2",SHOW_FOLLOWER:"showFollower"},w=$("._container"),g=w.find("._follow"),u=w.find("._following"),p=w.find("._follower"),h=function(){w.addClass(s.FOLLOWED),g.hide(),u.show()},m=function(e){e=parseInt(e,10),e>=1e8?e=Math.floor(e/1e8)+"억":e>=1e7?e=Math.floor(e/1e7)+"천만":e>=1e4?e=Math.floor(e/1e4)+"만":e>=1e3&&(e=Math.floor(e/1e3)+"천"),p.html(e)},v=function(){if(window.parent&&r.frameId){var e="postMessage"in window.parent?window.parent:window.parent.document,o=g.is(":visible")?g.get(0).getBoundingClientRect():u.get(0).getBoundingClientRect(),n=p.is(":visible")?p.parent().get(0).getBoundingClientRect().right:o.right,t=o.bottom;e.postMessage&&e.postMessage([r.frameId,Math.round(n),Math.round(t)].join(","),"*")}},O=function(){l.isParsed()&&(t.addStaticResponse(c,l.get("profile")),d=l.get("authenticated"),l.get("profile_error")&&(a=!0))},R=function(){t.removeStaticResponse(c)};return"undefined"!=typeof r.close?(opener.follow(!0),void window.close()):r.id?(O(),f.fetch().then(function(){if(R(),!a){if(!f.get("isStoryPlus"))return void alert(intl.t("plugin.follow.notAChannelUser"));m(f.get("follower_count")),f.get("isFriend")&&h(),"true"!==r.hideFollower&&w.addClass(s.SHOW_FOLLOWER),w.addClass("vertical"===r.type?s.VERTICAL:s.HORIZONTAL),w.show(),v()}}),window.follow=function(e){var t=Q.resolve(),l=o.getObjectFromQueryString(o.getQueryString(location.href));d||e?(e&&(t=t.then(function(){return f.fetch()})),t.then(function(){var e=f.get("isFriend");return f.follow(!0).then(function(){h(),e||m(f.get("follower_count")+1),v(),n.send("widget.followed")}).fail(function(){alert(intl.t("error.unknown",{codeName:""})),n.send("widget.cantfollow")})})):agent.isInApp()?i.openStoryApp({type:i.TYPE.PROFILE,value:decodeURIComponent(l.id)}):window.open(o.appendQueryString("/s/login",{"continue":encodeURIComponent(o.stripQueryString(location.href)+"?close"),display:"popup",referrer:"none"}),"login","width=500,height=500")},w.on("click","._follow",function(e){e.preventDefault(),window.follow()}).on("click","._following",function(e){e.preventDefault(),window.open("/"+f.get("urlKey"))}),void n.sendPageView("widget.follow")):void w.hide()});

define("follow.min", function(){});

require(["appLoader"]);
define("lang",function(){return {"plugin":{"follow":{"notAChannelUser":"채널 사용자가 아닙니다"}},"error":{"unknown":"__codeName__일시적인 오류 입니다.","mobileAppLink":{"networkError":"네트워크가 불안합니다. 잠시 후 다시 시도해 주세요."}},"date":{"justNow":"방금 전"},"highlight":{"bestfriend":{"text":"친한친구"}},"auth":{"photo":{"userInfo":"<a class=\"link_name\" href=\"__url__\">__userName__</a>님의 스토리"}},"profile":{"birthdayLunar":"(음력)","birthday":"__month__월 __day__일","error":{"unableDeleteFriend":"스토리 플러스 계정은 친구 삭제를 할 수 없습니다.","unableInvite":"스토리 플러스 계정에는 친구 요청을 보낼 수 없습니다.","unableAccept":"스토리 플러스 계정은 친구 요청 취소를 할 수 없습니다.","unableCancelRequest":"스토리 플러스 계정은 친구 요청 취소를 할 수 없습니다.","unableMakeFavorite":"'이 친구 글 안받기'를 설정한 친구는 관심 친구로 설정할 수 없습니다.<br>'이 친구 글 안받기'를 해제 후, 다시 시도하세요.","unableBlockFeed":"관심 친구는 '이 친구 글 안받기'를 설정할 수 없습니다.<br>관심 친구 해제 후, 다시 시도하세요."}},"friend":{"paragraph":{"followerMessage":"__count__명이 소식을 받고 있습니다."}}};});

define("fastclick",function(){});
define("swfobject",function(){});
define("jquery-ui",function(){});
define("jquery-ui-touch-punch",function(){});